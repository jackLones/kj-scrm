(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-marketFission-address"],{1460:function(t,e,i){"use strict";i.r(e);var a=i("4251"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=r.a},4251:function(t,e,i){"use strict";var a=i("ee27");i("c975"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var r=a(i("c964")),n=a(i("39c7")),o=a(i("2c4b")),s={name:"ticket",data:function(){return{wx:!1,wxWork:!1,jsApiList:[],openId:"",info:[1,2,3,4],statrTime:"",endTime:"",activity_id:"",level_id:"",fans_id:"",name:"",mobile:"",region:"",city:"",county:"",detail:"",remark:"",cityPickerValueDefault:[0,0,1],is_show_copyright:localStorage.getItem("is_show_copyright")}},inject:["initPage","getParameter","getCopyright"],onLoad:function(){document.title="我的收货地址"},onShow:function(){var t=this;this.level_id=this.getParameter("id"),this.activity_id=this.getParameter("activity"),this.openId=localStorage.getItem("openid"),this.$store.dispatch("setWx",(function(){2==t.getParameter("type")?t.initPage(t.limit2):t.limit()}))},components:{simpleAddress:n.default,Footer:o.default},methods:{limit2:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e,e.url=window.location.href,i=e.getParameter("agent_id"),localStorage.setItem("agent_id",i),t.next=6,e.axios.post("chat-message/get-config",{url:e.url,agent_id:i});case 6:a=t.sent,r=a.data,0!=r.error?uni.showToast({title:r.error_msg,image:"/static/fail.png",duration:2e3}):(n=e,n.uid=r.data.uid,n.corpid=r.data.corpid,localStorage.setItem("uid",n.uid),localStorage.getItem("uid")&&n.getCopyright(n.refresh),n.$store.dispatch("setCorpId",n.corpid),n.ticketData=r.data.ticketData,n.agentData=r.data.agentData,n.jsApiList=["hideOptionMenu"],n.$store.state.wx.config({beta:!0,debug:!1,appId:n.ticketData.corpid,timestamp:n.ticketData.timestamp,nonceStr:n.ticketData.nonceStr,signature:n.ticketData.signature,jsApiList:n.jsApiList}),n.$store.state.wx.error((function(t){if("undefined"!==typeof t.errCode&&2==t.errCode){if("undefined"!==typeof t.err_Info&&"invalid corpid"==t.err_Info&&n.wxWork)return uni.showToast({title:"请在微信中打开",image:"/static/fail.png",duration:2e3}),!1}else if("undefined"!==typeof t.errMsg&&-1!=t.errMsg.indexOf("invalid corpid"))return uni.showToast({title:"请在微信中打开",image:"/static/fail.png",duration:2e3}),!1;uni.showToast({title:"初始化失败，请刷新重试",image:"/static/fail.png",duration:2e3})})),n.$store.state.wx.ready((function(){n.$store.state.wx.hideOptionMenu()})));case 9:case"end":return t.stop()}}),t)})))()},limit:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.url=window.location.href,e.next=3,t.axios.post("chat-message/activity-get-config",{activity_id:t.activity_id,url:t.url});case 3:i=e.sent,a=i.data,0!=a.error?uni.showToast({title:a.error_msg,image:"/static/fail.png",duration:2e3}):(r=t,localStorage.setItem("uid",a.data.uid),localStorage.getItem("uid")&&r.getCopyright(r.refresh),r.$store.state.wx.config({debug:!1,appId:a.data.appId,timestamp:a.data.timestamp,nonceStr:a.data.nonceStr,signature:a.data.signature,jsApiList:a.data.jsApiList}),r.$store.state.wx.error((function(t){uni.showToast({title:"初始化失败，请刷新重试",image:"/static/fail.png",duration:2e3})})),r.$store.state.wx.ready((function(){r.$store.state.wx.hideOptionMenu(),r.getInfoConfig()})));case 6:case"end":return e.stop()}}),e)})))()},refresh:function(){this.is_show_copyright=localStorage.getItem("is_show_copyright"),this.$forceUpdate()},changeSpecialInput:function(t){var e=this,i=/[^+|-|\d]/;i.test(t.target.value);i.test(t.target.value)&&this.$nextTick((function(){e.mobile=e.mobile.substring(0,e.mobile.length-1)}))},confirm:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=/[^+|-|\d]/,!(t.info.indexOf(1)>-1&&""==t.name.trim())){e.next=6;break}return uni.showToast({title:"请填写姓名！",image:"/static/fail.png",duration:2e3}),e.abrupt("return",!1);case 6:if(!(t.info.indexOf(3)>-1)||""!=t.region.trim()&&""!=t.city.trim()&&""!=t.county.trim()&&""!=t.detail.trim()){e.next=10;break}return uni.hideLoading(),uni.showToast({title:"请检查地址",image:"/static/fail.png",duration:2e3}),e.abrupt("return",!1);case 10:if(!(t.info.indexOf(2)>-1)){e.next=19;break}if(""!=t.mobile.trim()){e.next=15;break}return uni.hideLoading(),uni.showToast({title:"请填写手机号",image:"/static/fail.png",duration:2e3}),e.abrupt("return",!1);case 15:if(!i.test(t.mobile.trim())){e.next=19;break}return uni.hideLoading(),uni.showToast({title:"请检查手机号",image:"/static/fail.png",duration:2e3}),e.abrupt("return",!1);case 19:return e.next=21,t.axios.post("chat-message/activity-status-success",{activity_id:t.activity_id,openid:localStorage.getItem("openid"),name:t.name,mobile:t.mobile,region:t.region,city:t.city,county:t.county,detail:t.detail,remark:t.remark,level_id:t.level_id});case 21:a=e.sent,r=a.data,0!=r.error?uni.showToast({title:r.error_msg,image:"/static/fail.png",duration:2e3}):(uni.showToast({title:"兑奖成功",duration:2e3}),t.name="",t.mobile="",t.region="",t.city="",t.county="",t.detail="",t.remark="");case 24:case"end":return e.stop()}}),e)})))()},onConfirm:function(t){t.labelArr.length>2&&(this.region=t.labelArr[0],this.city=t.labelArr[1],this.county=t.labelArr[2])},openAddress:function(){this.$refs.simpleAddress.open()},getInfoConfig:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.post("chat-message/activity-config",{activity_id:t.activity_id,code:t.getParameter("code")});case 2:i=e.sent,a=i.data,0!=a.error?uni.showToast({title:a.error_msg,image:"/static/fail.png",duration:2e3}):(a.url&&(window.location.href=a.url),t.openId=a.data.openid,localStorage.setItem("openid",t.openId));case 5:case"end":return e.stop()}}),e)})))()}}};e.default=s},"4ae6":function(t,e,i){"use strict";i.r(e);var a=i("ceda"),r=i("1460");for(var n in r)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(n);i("8243");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"71376015",null,!1,a["a"],o);e["default"]=c.exports},8243:function(t,e,i){"use strict";var a=i("8ad8"),r=i.n(a);r.a},"8ad8":function(t,e,i){var a=i("c700");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("4f06").default;r("6d5d1522",a,!0,{sourceMap:!1,shadowMode:!1})},c700:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".fission-page[data-v-71376015]{position:fixed;left:0;right:0;top:0;bottom:0;height:100%;width:100%;overflow-y:auto;\n  /*background-image: url('../../static/marketFission/back_pig.png');*/\n  /*background-size: 100% 100%;*/background-repeat:no-repeat;background-attachment:fixed;background-position:50%}.title[data-v-71376015]{width:100%;height:1.067rem /* 20/18.75 */;line-height:1.067rem /* 20/18.75 */;margin:10.773rem 0 .853rem 0}.title img[data-v-71376015]{width:3.307rem /* 62/18.75 */;height:.533rem ;margin:.267rem 0}.title .title-name[data-v-71376015]{font-size:1.067rem /* 20/18.75 */;margin:0 .533rem 0 .533rem ;font-weight:800;color:#ffd86c;background:-webkit-linear-gradient(274deg,#ffc486,#fff3e8);background:linear-gradient(176deg,#ffc486,#fff3e8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.info[data-v-71376015]{height:23.52rem /* 441/18.75 */;margin:0 auto;width:calc(100% - 1.6rem);background-color:#fff}.row[data-v-71376015]{border:1px solid;margin:0 auto;margin-top:.853rem ;width:calc(100% - 2.88rem);height:2.24rem /* 42/18.75 */;border:1px solid #d8d8d8;background-color:#fff;border-radius:1.12rem /* 21/18.75 */;text-align:center}.row .tit[data-v-71376015]{font-size:.853rem ;vertical-align:top;height:1.6rem /* 30/18.75 */;line-height:1.6rem /* 30/18.75 */;text-align:right;display:inline-block;width:4.8rem /* 90/18.75 */}.row .input[data-v-71376015]{font-size:.747rem ;margin-left:.533rem ;display:inline-block;width:calc(100% - 20px);height:100%;text-align:left}.row .uni-input-placeholder[data-v-71376015]{color:#bababa}.row .area[data-v-71376015]{margin:.64rem 0}.row .normal[data-v-71376015]{color:#bababa}.add-btn[data-v-71376015]{width:14.933rem /* 280/18.75 */;font-size:.96rem ;height:2.293rem /* 43/18.75 */;line-height:2.293rem /* 43/18.75 */;margin:0 auto;margin-top:1.227rem /* 23/18.75 */;margin-bottom:1.28rem /* 24/18.75 */;background:-webkit-linear-gradient(left,#fd5656,#fd7060);background:linear-gradient(90deg,#fd5656,#fd7060);color:#fff;border-radius:1.173rem /* 22/18.75 */}",""]),t.exports=e},ceda:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"fission-page"},[a("img",{staticStyle:{width:"100%"},attrs:{src:i("38d9")}}),a("v-uni-view",{staticStyle:{position:"absolute",top:"0"}},[a("v-uni-view",{staticClass:"title"},[a("img",{attrs:{src:i("8cd9")}}),a("v-uni-text",{staticClass:"title-name"},[t._v("请填写收货地址")]),a("img",{attrs:{src:i("3c2d")}})],1),a("v-uni-view",{staticStyle:{width:"calc(100% - 1.6rem  /* 30/18.75 */)",margin:"0 auto","background-color":"#FFFFFF","border-radius":"0.533rem  /* 10/18.75 */ 0.533rem  /* 10/18.75 */ 0 0"}},[a("v-uni-view",{staticStyle:{height:"1.493rem  /* 28/18.75 */",background:"#BE0000","border-radius":"0.533rem  /* 10/18.75 */"}}),a("v-uni-view",{staticStyle:{width:"100%",margin:"0 auto","background-color":"#FFFFFF","border-radius":"0.533rem  /* 10/18.75 */ 0.533rem  /* 10/18.75 */ 0 0"}},[a("v-uni-view",{staticStyle:{height:"1.067rem  /* 20/18.75 */",background:"#BE0000",opacity:"0.34","border-radius":"0.533rem  /* 10/18.75 */ 0.533rem  /* 10/18.75 */ 0 0","margin-top":"-1.067rem  /* -20/18.75 */"}})],1)],1),a("v-uni-view",{staticClass:"info"},[a("v-uni-text",{staticStyle:{display:"inline-block","text-align":"left",width:"calc(100% - 2.133rem  /* 40/18.75 */)","font-size":"0.587rem  /* 11/18.75 */","font-weight":"500",color:"#606E80","line-height":"0.96rem  /* 18/18.75 */","margin-top":"0.853rem"}},[t._v("如因信息填写错误导致未能收货，责任自负。提交前，请确认您的提交的信息是否正确，提交后则不可修改")]),t.info.indexOf(1)>-1?a("v-uni-view",{staticClass:"row"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入姓名","placeholder-class":"placeholder"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1):t._e(),t.info.indexOf(2)>-1?a("v-uni-view",{staticClass:"row"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号","placeholder-class":"placeholder"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSpecialInput(e)}},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1):t._e(),t.info.indexOf(3)>-1?a("v-uni-view",{staticClass:"row",staticStyle:{height:"auto"}},[""==t.region?a("v-uni-text",{staticClass:"input area normal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAddress.apply(void 0,arguments)}}},[t._v("所在地区")]):a("v-uni-text",{staticClass:"input area",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openAddress.apply(void 0,arguments)}}},[t._v(t._s(t.region)+"-"+t._s(t.city)+"-"+t._s(t.county))]),a("simpleAddress",{ref:"simpleAddress",attrs:{pickerValueDefault:t.cityPickerValueDefault,themeColor:"#1890FF"},on:{onConfirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}})],1):t._e(),t.info.indexOf(3)>-1?a("v-uni-view",{staticClass:"row"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-class":"placeholder"},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1):t._e(),t.info.indexOf(4)>-1?a("v-uni-view",{staticClass:"row"},[a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入备注","placeholder-class":"placeholder"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1):t._e(),a("v-uni-button",{staticClass:"add-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("立即提交")])],1),1==t.is_show_copyright?a("Footer",{staticStyle:{background:"#DE191E"}}):t._e()],1)],1)},n=[]}}]);