(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffd32a0e"],{"10e4":function(t,e,a){"use strict";var i=a("7140"),s=a.n(i);s.a},"166e":function(t,e,a){var i=a("fb10");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("42418184",i,!0,{sourceMap:!1,shadowMode:!1})},1947:function(t,e,a){var i=a("7857");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1b797603",i,!0,{sourceMap:!1,shadowMode:!1})},"36bd":function(t,e,a){"use strict";var i=a("4bf8"),s=a("77f1"),n=a("9def");t.exports=function(t){var e=i(this),a=n(e.length),o=arguments.length,r=s(o>1?arguments[1]:void 0,a),l=o>2?arguments[2]:void 0,d=void 0===l?a:s(l,a);while(d>r)e[r++]=t;return e}},"4bda":function(t,e,a){"use strict";var i=a("1947"),s=a.n(i);s.a},"69f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAQAAABuvaSwAAAAY0lEQVR42r2SQQ1AIQxDkYIEJCFlacMdR+CIOeAnYKAkH7brO7x1DeHplFSSiLJycrJq8Nyrwb5gF43R0WXrW4OMgYF8cCDG/2kg0+mixs0asbGJTzlL46hItmATrS1afJvTB40bQb8Be38ZAAAAAElFTkSuQmCC"},"6c7b":function(t,e,a){var i=a("5ca1");i(i.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},7128:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-fe81d8be]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-fe81d8be]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-fe81d8be] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-fe81d8be]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-fe81d8be]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-fe81d8be]{height:60px;width:100%;min-width:885px;line-height:60px}.content-msg[data-v-fe81d8be]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-fe81d8be]{background:#fff;min-height:120px;min-width:885px;width:100%;border:1px solid rgba(0,0,0,.05);border-bottom:0!important}[data-v-fe81d8be] .ant-table-tbody>tr>td,[data-v-fe81d8be] .ant-table-thead>tr>th{border-bottom:1px solid rgba(0,0,0,.02)}#components-layout-demo-basic>.ant-layout[data-v-fe81d8be]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-fe81d8be]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-fe81d8be],.list[data-v-fe81d8be]{height:100%}.content-hd-right[data-v-fe81d8be]{float:right}.btn-primary[data-v-fe81d8be]{margin-left:20px}[data-v-fe81d8be] .dark-row{background:#fafafa}[data-v-fe81d8be] .light-row{background:#fff}[data-v-fe81d8be] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-fe81d8be] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}[data-v-fe81d8be] .ant-dropdown-trigger>.anticon.anticon-down{font-size:14px;color:#000}",""])},7140:function(t,e,a){var i=a("fd36");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("a7952aba",i,!0,{sourceMap:!1,shadowMode:!1})},7857:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".tab[data-v-6800242f]{width:50%;display:inline-block;text-align:center;height:40px;line-height:40px}.active[data-v-6800242f]{color:#1890ff}.team-add[data-v-6800242f]{width:100%;height:50px;line-height:50px}.team-add-icon[data-v-6800242f],.team-add-title[data-v-6800242f]{display:inline-block;margin-left:10px}.team-add-icon[data-v-6800242f]{color:#1e90ff;cursor:pointer;vertical-align:initial}[data-v-6800242f] .ant-tree-node-content-wrapper{display:inline-block;width:calc(100% - 25px)}[data-v-6800242f] .ant-tree-switcher-icon{vertical-align:initial}[data-v-6800242f] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-6800242f] .ant-popover-inner .ant-popover-inner-content .ant-popover-buttons{display:none!important}.more-operation[data-v-6800242f]:hover{color:#1890ff}[data-v-6800242f] .ant-tree li .ant-tree-node-content-wrapper:hover{background-color:#fff}.ant-tree li span[draggable=true][data-v-6800242f],[data-v-6800242f] .ant-tree li span[draggable]{line-height:25px;height:30px}[data-v-6800242f] .ant-tree li span.ant-tree-switcher{vertical-align:sub}.operation[data-v-6800242f]{margin-bottom:8px;cursor:pointer}.operation2[data-v-6800242f]{margin-bottom:0;cursor:pointer}.operation1[data-v-6800242f]{margin-bottom:0;color:#e2e2e2}.operation[data-v-6800242f]:hover{color:#1890ff}[data-v-6800242f] li.ant-tree-treenode-disabled>.ant-tree-node-content-wrapper span{color:rgba(0,0,0,.65)!important}",""])},"99a6":function(t,e,a){"use strict";var i=a("166e"),s=a.n(i);s.a},c6a8:function(t,e,a){"use strict";var i=a("e641"),s=a.n(i);s.a},e641:function(t,e,a){var i=a("7128");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("652162b4",i,!0,{sourceMap:!1,shadowMode:!1})},e925:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{attrs:{id:"components-layout-demo-basic"}},[a("div",{staticStyle:{padding:"0 20px",height:"50px","line-height":"50px","font-size":"16px","background-color":"#FFFFFF"}},[t._v("\n\t\t\t内容标签\n\t\t")]),a("div",{staticStyle:{padding:"20px 0 0 20px",height:"calc(100% - 50px)"}},[a("a-layout",{staticStyle:{position:"relative",height:"calc(100% - 20px)"}},[a("a-layout-sider",[a("tagTeam",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-list",expression:"'filingCabinetTag-group-list'"}],ref:"group",on:{changeGroupId:t.modalVisibleChange}})],1),a("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"250px",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[a("a-layout-content",[a("div",{staticClass:"content-hd"},[a("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入标签名称进行查找"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.findTags}},[t._v("\n\t\t\t\t\t\t\t\t查找\n\t\t\t\t\t\t\t")]),a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clearFind}},[t._v("\n\t\t\t\t\t\t\t\t清空\n\t\t\t\t\t\t\t")]),a("div",{staticClass:"content-hd-right"},[a("a-button",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-add",expression:"'filingCabinetTag-add'"}],attrs:{icon:"plus",type:"primary"},on:{click:t.addTags}},[t._v("\n\t\t\t\t\t\t\t\t\t新建标签\n\t\t\t\t\t\t\t\t")])],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n\t\t\t\t\t\t\t共有\n\t\t\t\t\t\t\t"),a("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("\n\t\t\t\t\t\t\t个\n\t\t\t\t\t\t")]),a("div",{staticClass:"content-bd"},[a("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[a("div",{staticClass:"spin-content"},[a("a-table",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-list",expression:"'filingCabinetTag-list'"}],attrs:{columns:t.columns,dataSource:t.tagList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"select",fn:function(e,i,s){return a("span",{},[a("a-checkbox",{staticStyle:{float:"right"},on:{click:function(e){return t.changeSelectKey(i.id)}},model:{value:t.checkBoxValue[s],callback:function(e){t.$set(t.checkBoxValue,s,e)},expression:"checkBoxValue[index]"}})],1)}},{key:"action",fn:function(e,i){return a("span",{},[a("a-button",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-edit",expression:"'filingCabinetTag-edit'"}],staticStyle:{margin:"3px"},on:{click:function(e){return t.editTags(i)}}},[t._v("编辑")]),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-delete",expression:"'filingCabinetTag-delete'"}],staticStyle:{margin:"3px"},on:{click:function(e){return t.delOneTags(i.id,i.tagname)}}},[t._v("删除")])],1)}}])})],1)])],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-list",expression:"'filingCabinetTag-list'"},{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px auto",height:"32px"}},[a("div",{staticStyle:{height:"32px",float:"left","line-height":"32px","margin-left":"10px"}},[a("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),a("a-select",{staticStyle:{width:"150px",margin:"0 5px"},attrs:{optionFilterProp:"children"},on:{change:t.changeBatchType},model:{value:t.batchType,callback:function(e){t.batchType=e},expression:"batchType"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("选择当前页")]),a("a-select-option",{attrs:{value:"1"}},[t._v("选择所有")])],1),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-delete",expression:"'filingCabinetTag-delete'"}],staticClass:"btn-primary",attrs:{icon:"lock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:t.delMoreTags}},[t._v("\n\t\t\t\t\t\t\t\t\t批量删除\n\t\t\t\t\t\t\t\t")])],1),a("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])])],1)],1)],1)]),a("a-modal",{attrs:{width:"666px!important",title:"新建标签"},on:{cancel:t.cancelTag},model:{value:t.tagVisible,callback:function(e){t.tagVisible=e},expression:"tagVisible"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.cancelTag}},[t._v("取消")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.updateTag}},[t._v("提交\n\t\t\t")])],1),a("a-form",[a("a-form-item",{attrs:{label:"选择分组","label-col":{span:3},"wrapper-col":{span:20}}},[a("a-button",{attrs:{type:"link"},on:{click:t.showGroupModal}},[t.tag.id?t._e():[t._v("选择分组")],t.tag.id?[t._v(t._s(t.tag.title)+"\n\t\t\t\t\t")]:t._e()],2)],1),a("a-form-item",{attrs:{label:"标签名称","label-col":{span:3},"wrapper-col":{span:20}}},[t.tagVisible?a("diyInput",{key:"equalKeyword",staticStyle:{border:"1px solid #E2E2E2"},attrs:{maxLength:15,msg:t.tagName,placeholder:"输入标签名称，按回车键可输入多个标签"},on:{func:t.getTags}}):t._e()],1)],1)],2),a("a-modal",{attrs:{width:"666px!important",title:"编辑标签"},on:{cancel:t.cancelTag},model:{value:t.updateVisible,callback:function(e){t.updateVisible=e},expression:"updateVisible"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.cancelTag}},[t._v("取消")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.updateTag}},[t._v("提交\n\t\t\t")])],1),a("a-form",[a("a-form-item",{attrs:{label:"选择分组","label-col":{span:3},"wrapper-col":{span:20}}},[a("a-button",{attrs:{type:"link"},on:{click:t.showGroupModal}},[t.tag.id?t._e():[t._v("选择分组")],t.tag.id?[t._v(t._s(t.tag.title)+"\n\t\t\t\t\t")]:t._e()],2)],1),a("a-form-item",{attrs:{label:"标签名称","label-col":{span:3},"wrapper-col":{span:20}}},[a("a-input",{attrs:{placeholder:"请输入标签名称",maxLength:15},model:{value:t.tagName1,callback:function(e){t.tagName1=e},expression:"tagName1"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.tagName1.length||0))]),t._v("/15\n\t\t\t\t\t")])]),a("div",{staticStyle:{color:"#FF562D"}},[t._v("提交后过滤空格")])],1)],1)],2),a("tag-one-team",{attrs:{groupVisible:t.teamVisible,tag:t.tag},on:{changeGroupId:t.changeGroupId}})],1)},s=[],n=(a("55dd"),a("20d6"),a("6c7b"),a("96cf"),a("3b8d")),o=(a("a481"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"group-tree1",staticStyle:{position:"absolute",width:"100%",height:"100%"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("div",{staticClass:"team-add",staticStyle:{"margin-top":"0px"}},[i("span",{staticClass:"team-add-title",staticStyle:{position:"absolute","margin-left":"97px"}},[t._v("分组管理")]),i("span",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-add",expression:"'filingCabinetTag-group-add'"}],staticStyle:{color:"#1890FF","margin-left":"5px",cursor:"pointer",position:"absolute","margin-right":"10px",right:"10px"},on:{click:function(e){return t.addGroupModal("",[])}}},[i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("添加分组")])]),i("a-icon",{staticClass:"team-add-icon",attrs:{type:"plus"},on:{click:function(e){return t.addGroupModal("",[])}}})],2)],1)]),i("div",{staticClass:"store-team",staticStyle:{position:"absolute",width:"100%",overflow:"auto","white-space":"nowrap"}},[i("div",{staticStyle:{"margin-bottom":"6px"}},[i("div",{class:""==t.id?"active":"",staticStyle:{display:"inline-block","margin-left":"30px",cursor:"pointer"},on:{click:t.clickAll}},[t._v("所有\n\t\t\t\t")]),i("div",{staticStyle:{display:"inline-block",color:"#C3C3C3"}},[t._v("（"+t._s(t.count)+"）")])]),i("a-tree",{staticClass:"draggable-tree",attrs:{draggable:"",treeData:t.gData,"load-data":t.onLoadData},on:{dragenter:t.onDragEnter,mouseleave:t.hideMoreIcon,drop:t.onDrop,dragstart:t.dragstart,select:t.onselect},scopedSlots:t._u([{key:"custom",fn:function(e){var s=e.title,n=e.key,o=(e.pid_all,e.count);return[i("div",{staticStyle:{"min-width":"100%"},on:{mouseover:function(e){return t.showMoreIcon(n)}}},[i("div",{class:n==t.id?"active":"",staticStyle:{display:"inline-block"}},[t._v(t._s(s)+"\n\t\t\t\t\t\t")]),i("div",{staticStyle:{display:"inline-block",color:"#C3C3C3"}},[t._v("（"+t._s(o)+"）")]),n==t.mouseOverId&&"未分组"!=s?i("a-popover",{attrs:{placement:"right",trigger:"hover"}},[i("template",{slot:"content"},[i("div",{on:{mouseover:t.clearLeave,mouseleave:t.hideMoreIcon1}},[i("p",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-create",expression:"'filingCabinetTag-group-create'"}],staticClass:"operation",on:{click:function(e){return t.addGroupModal(n)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t创建子分组")]),i("p",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-edit",expression:"'filingCabinetTag-group-edit'"}],staticClass:"operation",on:{click:function(e){return t.editGroupName(n,s)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t编辑分组")]),t.delFlag?i("p",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-del",expression:"'filingCabinetTag-group-del'"}],staticClass:"operation2",on:{click:function(e){return t.removeGroup(n,s,o)}}},[t._v("删除分组")]):t._e(),t.delFlag?t._e():i("p",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-group-del",expression:"'filingCabinetTag-group-del'"}],staticClass:"operation1"},[t._v("删除分组")])])]),t.hasPermission?i("img",{staticStyle:{position:"absolute","margin-top":"2px","margin-right":"5px"},style:{right:"-"+t.getClientWidth+"px"},attrs:{src:a("69f5")},on:{mouseover:function(e){return t.lookOperation(n)}}}):t._e()],2):t._e()],1)]}}])})],1)]),i("a-modal",{attrs:{width:"666px!important;",title:t.groupTitle,destroyOnClose:!0,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[i("a-form-item",{attrs:{label:"分组名称","label-col":{span:3},"wrapper-col":{span:20}}},[i("div",{staticStyle:{color:"#FF562D"}},[t._v("提交后过滤空格")]),i("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.groupName,callback:function(e){t.groupName=e},expression:"groupName"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.groupName.length))]),t._v("/15\n\t\t\t\t")])])],1),t.editGroupId?t._e():i("a-form-item",{directives:[{name:"has",rawName:"v-has",value:"filingCabinetTag-add",expression:"'filingCabinetTag-add'"}],attrs:{label:"标签名称","label-col":{span:3},"wrapper-col":{span:20}}},[i("diyInput",{key:"equalKeyword",staticStyle:{border:"1px solid #E2E2E2"},attrs:{maxLength:15,msg:t.tagName,placeholder:"请输入标签名称，按回车键可输入多个标签"},on:{func:t.getTags}})],1)],1)],1)}),r=[],l=(a("456d"),a("c5f6"),a("5df3"),a("ac6a"),a("6b54"),a("75fc")),d=(a("7514"),a("28a5"),a("eaaf")),c={name:"Team",components:{diyInput:d["a"]},props:{},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{isLoading:!1,corpId:t,id:"",defaultName:"",defaultId:"",editId:"",editName:"",currentId:"",parentId:"",gData:[],groupData:[],tagName:[],tagNameTitle:"",groupName:"",groupTitle:"",visible:!1,confirmLoading:!1,editGroupId:"",count:"",delFlag:!1,mouseOverId:"",timeout:"",getClientWidth:"0",allObj:[],loading:!1,hasPermission:!0}},mounted:function(){if(this.isLoading=!0,this.getGroupList(),window.document.getElementsByClassName("store-team")[0].addEventListener("scroll",this.handleScroll),2==localStorage.getItem("isMasterAccount")){var t=localStorage.getItem("permissionButton").split(",");-1!=t.indexOf("filingCabinetTag-group-create")||-1!=t.indexOf("filingCabinetTag-group-edit")||-1!=t.indexOf("filingCabinetTag-group-del")?this.hasPermission=!0:this.hasPermission=!1}},methods:{handleScroll:function(){this.getClientWidth=document.getElementsByClassName("store-team")[0].scrollLeft},clickAll:function(){this.id="",this.editId=this.defaultId,this.editName=this.defaultName,this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName)},lookOperation:function(t){var e=this;e.delFlag=this.allObj["s_"+t].isLeaf},showMoreIcon:function(t){clearTimeout(this.timeout),this.mouseOverId=t},clearLeave:function(){clearTimeout(this.timeout)},hideMoreIcon:function(){var t=this;this.timeout=setTimeout((function(){t.mouseOverId=""}),300)},hideMoreIcon1:function(){this.mouseOverId=""},addGroupModal:function(t){this.mouseOverId="",this.parentId=t,this.editGroupId="",this.groupName="",this.groupTitle="新建分组",this.visible=!0},editGroupName:function(t,e){this.mouseOverId="",this.parentId="",this.editGroupId=t,this.groupName=e,this.groupTitle="编辑分组",this.visible=!0},removeGroup:function(t,e,a){this.mouseOverId="";var i=this;i.$confirm({title:"【"+e+"】一旦删除，归属于该分组的标签都将被移至【未分组】，确定删除分组吗?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.delGroup(t,a)}})},delGroup:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var i,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.axios.post("work-attachment-tag/add-group",{uid:localStorage.getItem("uid"),id:e,status:0});case 3:if(i=t.sent,s=i.data,0!=s.error)this.isLoading=!1,this.$message.destroy(),this.$message.error(s.error_msg);else{if(this.$message.destroy(),this.$message.success("删除成功"),n=this.allObj["s_"+e].pid,0!=n){this.allObj["s_"+n].children.splice(this.allObj["s_"+n].children.findIndex((function(t){return t.id==e})),1),0==this.allObj["s_"+n].children.length&&(this.allObj["s_"+n].isLeaf=!0);while(0!=n)this.allObj["s_"+n].count=this.allObj["s_"+n].count-a,n=this.allObj["s_"+n].pid}else this.gData.splice(this.gData.findIndex((function(t){return t.id==e})),1);o=this.gData.find((function(t){return"未分组"==t.title})),o.count=o.count+a,this.gData=Object(l["a"])(this.gData),this.allObj=[],this.loopAllObj(this.gData),this.id==e&&(this.id="",this.editId=this.defaultId,this.editName=this.defaultName),this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName),this.isLoading=!1}case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),getTags:function(t,e){this.tagNameTitle=e.replace(/\s+/g,""),this.tagName=[];for(var a=0;a<t.length;a++)this.tagName.push(t[a].replace(/\s+/g,""))},handleOk:function(){this.addGroup()},addGroup:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,this.groupName.trim()){t.next=6;break}return this.isLoading=!1,this.$message.destroy(),this.$message.warning("分组名不能为空"),t.abrupt("return",!1);case 6:if("未分组"!=this.groupName){t.next=11;break}return this.isLoading=!1,this.$message.destroy(),this.$message.warning("分组名不能为“未分组”，请更换名称！"),t.abrupt("return",!1);case 11:return e=JSON.parse(JSON.stringify(this.tagName)),"undefined"!=typeof this.tagNameTitle&&""!=this.tagNameTitle.trim()&&e.push(this.tagNameTitle.trim()),a=this.groupName.replace(/\s+/g,""),t.next=16,this.axios.post("work-attachment-tag/add-group",{id:this.editGroupId,uid:localStorage.getItem("uid"),pid:this.parentId,tag_name:e,group_name:a,status:1});case 16:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.destroy(),this.$message.error(s.error_msg)):(this.editGroupId?(this.allObj["s_"+this.editGroupId].title=this.groupName.replace(/\s+/g,""),this.$message.destroy(),this.$message.success("修改成功")):(n={count:0,id:s.id.toString(),isLeaf:!0,key:s.id.toString(),pid:this.parentId||"0",scopedSlots:{title:"custom"},title:a},""==this.parentId?(this.gData.push(n),this.allObj["s_"+s.id]=this.gData[this.gData.length-1]):(this.allObj["s_"+n.pid]&&this.allObj["s_"+n.pid]["children"]?this.allObj["s_"+n.pid].children.push(n):(o=[],o.push(n),this.allObj["s_"+n.pid]["children"]=o,this.allObj["s_"+n.pid].isLeaf=!1),this.allObj["s_"+n.pid].isLeaf=!1,this.allObj["s_"+s.id]=this.allObj["s_"+n.pid].children[this.allObj["s_"+n.pid].children.length-1]),this.gData=Object(l["a"])(this.gData),this.allObj=[],this.loopAllObj(this.gData),this.updateCount([],s.new_pid,e.length),this.$message.destroy(),this.$message.success("添加成功")),this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName),this.groupName="",this.tagName=[],this.tagNameTitle="",this.editGroupId="",this.visible=!1,this.isLoading=!1);case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleCancel:function(){this.groupName="",this.tagName=[],this.tagNameTitle="",this.editGroupId="",this.visible=!1},loopAllObj:function(t){var e=this;t.forEach((function(t){if(e.allObj["s_"+t.id]=t,t.children&&t.children.length>0&&!t.isLeaf)return e.loopAllObj(t.children)}))},onLoadData:function(t){var e=this;return new Promise((function(a){Promise.all([e.getGroupList(t.dataRef.key)]).then((function(i){t.dataRef.children=e.groupData,e.gData=Object(l["a"])(e.gData),e.allObj=[],e.loopAllObj(e.gData),a()})).catch((function(t){}))}))},getGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:"",t.next=3,this.axios.post("work-attachment-tag/get-group-list",{uid:localStorage.getItem("uid"),parent_id:e||this.id});case 3:if(a=t.sent,i=a.data,0!=i.error)this.isLoading=!1,this.$message.destroy(),this.$message.error(i.error_msg);else{if(e)for(this.groupData=i.data.data,s=0;s<i.data.data.length;s++)this.allObj["s_"+i.data.data[s].id]=i.data.data[s];else{for(this.gData=i.data.data,n=0;n<this.gData.length;n++)this.allObj["s_"+this.gData[n].key]=this.gData[n],"未分组"==this.gData[n].title&&(this.defaultName="未分组",this.defaultId=this.gData[n].id,this.editName="未分组",this.editId=this.gData[n].id);this.count=i.data.count,this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName)}this.isLoading=!1}case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onselect:function(t,e){if(t.length>0&&this.id!=t[0]){this.id=t[0],this.editId=t[0];var a=e.node.dataRef.pid;if(0==a)this.editName=e.node.dataRef.title;else{while(0!=this.allObj["s_"+a].pid)a=this.allObj["s_"+a].pid;this.editName=this.allObj["s_"+a].title+"--"+e.node.dataRef.title}this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName)}},dragstart:function(t){this.currentId=t.node.eventKey},onDragEnter:function(t){this.expandedKeys=t.expandedKeys},onDrop:function(t){var e=this;if(this.isLoading=!0,!t.dragNode||!t.node)return this.isLoading=!1,!1;var a=t.node.pos.split("-"),i=t.dragNode.dataRef,s=t.node.dataRef,n=t.dropPosition-Number(a[a.length-1]),o=JSON.parse(JSON.stringify(this.gData)),r="",l=[],d=i.count,c=0;if(t.dropToGap)if(t.node.isLeaf&&t.node.expanded&&1===n){var h=JSON.parse(JSON.stringify(s));h["children"]=h.children||[],r=h.key,h.children.unshift(i),l=h.children}else{var g,p;g=0==s.pid?JSON.parse(JSON.stringify(o)):JSON.parse(JSON.stringify(this.allObj["s_"+s.pid].children));var u=g.findIndex((function(t){return t.key==i.id}));u>-1&&g.splice(u,1),p=g.findIndex((function(t){return t.key==s.key})),r=0==s.pid?"":s.pid,g.length>0&&(-1===n?(g.splice(p,0,i),l=g,c=p):(g.splice(p+1,0,i),l=g,c=p+1))}else l=JSON.parse(JSON.stringify(s.children||[])),l.splice(0,0,i),r=s.id;for(var f=!1,m=function(t){"未分组"==e.gData[t].title&&(r==e.gData[t].key?(e.$message.destroy(),e.$message.warning(e.gData[t].title+"不可加入其他分组！"),e.isLoading=!1,f=!0):""!=r&&l.forEach((function(a){a.key==e.gData[t].key&&(e.$message.destroy(),e.$message.warning(e.gData[t].title+"不可移入其他分组！"),e.isLoading=!1,f=!0)})))},b=0;b<this.gData.length;b++)m(b);if(f)return this.isLoading=!1,!1;var v=[];l&&l.length>0&&l.forEach((function(t){v.push(t.key)})),this.moveGroup(r,v,d,i.key,c)},moveGroup:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,i,s,n){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-attachment-tag/group-sort",{uid:localStorage.getItem("uid"),parent_id:e,group_id:this.currentId,sort:a});case 2:o=t.sent,r=o.data,0!=r.error?(this.isLoading=!1,this.$message.destroy(),this.$message.error(r.error_msg)):(this.move(e,i,s,n),this.$emit("changeGroupId",this.corpId,this.id,this.editId,this.editName),this.isLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,i,s,n){return t.apply(this,arguments)}return e}(),move:function(t,e,a,i){var s=t;if(0!=s){this.allObj["s_"+s]["children"]=this.allObj["s_"+s]["children"]||[],this.allObj["s_"+s].isLeaf=!1;while(0!=s)this.allObj["s_"+s].count=this.allObj["s_"+s].count+e,s=this.allObj["s_"+s].pid}if(s=this.allObj["s_"+a].pid,0!=s){var n={},o=this.allObj["s_"+s].children,r=o.findIndex((function(t){return t.id==a}));n=JSON.parse(JSON.stringify(o[r])),o.splice(r,1),t?(n.pid=t,this.allObj["s_"+t].children.splice(i,0,n)):(n.pid="0",this.gData.splice(i,0,n)),this.loopAllObj([n]),0==this.allObj["s_"+s].children.length&&(this.allObj["s_"+s].isLeaf=!0);while(0!=s)this.allObj["s_"+s].count=this.allObj["s_"+s].count-e,s=this.allObj["s_"+s].pid}else{var d=this.gData.findIndex((function(t){return t.id==a})),c=JSON.parse(JSON.stringify(this.gData[d]));this.gData.splice(d,1),t?(c.pid=t,this.allObj["s_"+t].children.splice(i,0,c),this.allObj["s_"+t].isLeaf=!1):(c.pid="0",this.gData.splice(i,0,c)),this.loopAllObj([c])}this.gData=Object(l["a"])(this.gData),this.allObj=[],this.loopAllObj(this.gData)},updateMoreCount:function(t,e){this.count=this.count-e;for(var a=Object.keys(t),i=0,s=a;i<s.length;i++){var n=s[i];this.deleteCount([n],t[n])}},deleteCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.isLoading=!0,0!=t.length)for(var a=0;a<t.length;a++)this.allObj["s_"+t[a]]&&(this.allObj["s_"+t[a]].count-=e);this.isLoading=!1},otherUserMove:function(t,e,a){this.isLoading=!0;for(var i=this.allObj["s_"+t].count,s=Object.keys(a),n=0,o=0;o<s.length;o++)a[o]==t&&(n=o);this.move(e,i,t,n),this.isLoading=!1},updateCount:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.isLoading=!0,0!=t.length){for(var i=0;i<t.length;i++)this.allObj["s_"+t[i]]&&(this.allObj["s_"+t[i]].count-=a);this.count-=a}if(""!=e){for(var s=0;s<e.length;s++)this.allObj["s_"+e[s]]&&(this.allObj["s_"+e[s]].count+=a);this.count+=a}this.isLoading=!1},updateBatchAddCount:function(t){for(var e=0;e<t.length;e++)t[e].pid_all.push(t[e].store),this.updateCount([],t[e].pid_all,t[e].num)},updateBatchMoveCount:function(t){for(var e=0;e<t.length;e++)0!=t[e].old_pid_all.length&&t[e].old_pid_all.push(t[e].store_old),t[e].pid_all.push(t[e].store),this.updateCount(t[e].old_pid_all,t[e].pid_all,t[e].num)},updateBatchDelCount:function(t){for(var e=0;e<t.length;e++)t[e].pid_all.push(t[e].store),this.updateCount(t[e].pid_all,[],t[e].num)}}},h=c,g=(a("10e4"),a("2877")),p=Object(g["a"])(h,o,r,!1,null,"5869b314",null),u=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.visible?a("a-modal",{attrs:{width:"600px!important",title:"选择分组"},on:{cancel:t.cancelGroup},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.cancelGroup}},[t._v("取消")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.updateGroup}},[t._v("确定\n\t\t\t")])],1),a("div",{staticStyle:{"margin-bottom":"10px","font-weight":"700"}},[t._v("已选择分组： "+t._s(t.title||"未分组"))]),a("div",{staticClass:"group-tree1",staticStyle:{height:"350px",overflow:"auto"}},[a("a-tree",{staticClass:"draggable-tree",attrs:{treeData:t.gData,"load-data":t.onLoadData},on:{select:t.onselect},scopedSlots:t._u([{key:"custom",fn:function(e){var i=e.title,s=e.key;return[a("div",{staticStyle:{"min-width":"100%"}},[a("div",{class:s==t.id?"active":"",staticStyle:{display:"inline-block"}},[t._v(t._s(i))])])]}}],null,!1,506058491)})],1)],2):t._e()],1)},m=[],b={name:"Team",props:{groupVisible:{type:Boolean,default:!1},tag:{type:Object,default:{id:"",title:""}}},watch:{tag:function(t,e){if(""==t.id){var a=this.gData.find((function(t){return"未分组"==t.title}));this.id=a.id,this.title=a.title}else this.id=t.id,this.title=t.title},groupVisible:function(t,e){this.visible=t,this.visible&&(this.id=this.tag.id,this.title=this.tag.title,this.getGroupList())}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,id:"",title:"",currentId:"",gData:[],groupData:[],allObj:{},visible:!1}},methods:{cancelGroup:function(){this.$emit("changeGroupId","cancle")},updateGroup:function(){this.$emit("changeGroupId","ok",this.id,this.title)},onLoadData:function(t){var e=this;return new Promise((function(a){Promise.all([e.getGroupList(t.dataRef.key)]).then((function(i){t.dataRef.children=e.groupData;e.gData;e.gData=Object(l["a"])(e.gData),a()})).catch((function(t){}))}))},getGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-attachment-tag/get-group-list",{uid:localStorage.getItem("uid"),parent_id:e||""});case 2:if(a=t.sent,i=a.data,0!=i.error)this.isLoading=!1,this.$message.destroy(),this.$message.error(i.error_msg);else{if(e)for(this.groupData=i.data.data,s=0;s<i.data.data.length;s++)this.allObj["s_"+i.data.data[s].id]=i.data.data[s];else{for(this.gData=i.data.data,n=0;n<this.gData.length;n++)this.allObj["s_"+this.gData[n].key]=this.gData[n];""==this.tag.id&&""==this.id&&(o=this.gData.find((function(t){return"未分组"==t.title})),this.id=o.id,this.title=o.title)}this.isLoading=!1}case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onselect:function(t,e){if(t.length>0&&this.id!=t[0]){this.id=t[0];var a=e.node.dataRef.pid;if(0==a)this.title=e.node.dataRef.title;else{while(0!=this.allObj["s_"+a].pid)a=this.allObj["s_"+a].pid;this.title=this.allObj["s_"+a].title+"--"+e.node.dataRef.title}}}}},v=b,y=(a("4bda"),Object(g["a"])(v,f,m,!1,null,"6800242f",null)),x=y.exports,w=[{title:"",key:"select",width:"100px",scopedSlots:{customRender:"select"}},{title:"标签名称",dataIndex:"tagname",key:"tagname",width:"25%"},{title:"所属分组",dataIndex:"group_name",key:"group_name",width:"25%"},{title:"内容数",dataIndex:"num",key:"num",width:"25%"},{title:"操作",dataIndex:"action",key:"action",width:"25%",scopedSlots:{customRender:"action"}}],k={components:{tagTeam:u,tagOneTeam:x,diyInput:d["a"]},data:function(){return{corpId:"",suite_id:1,groupId:"",defaultId:"",defaultName:"",searchName:"",tagList:[],isLoading:!0,columns:w,total:1,quickJumper:!1,page:1,pageSize:15,selectedRowKeys:[],checkBoxValue:[],batchType:"0",batchTypeValue:!1,tagVisible:!1,teamVisible:!1,loading:!1,tag:{id:"",title:""},tagName:[],tagName1:"",tagNameTitle:"",tagEditId:"",updateVisible:!1}},methods:{addTags:function(){this.tag={id:this.defaultId,title:this.defaultName},this.tagName=[],this.tagVisible=!0},showGroupModal:function(){this.tagVisible=!1,this.updateVisible=!1,this.teamVisible=!0},changeGroupId:function(t,e,a){"ok"==t&&(this.tag={id:e,title:a}),this.tagEditId?this.updateVisible=!0:this.tagVisible=!0,this.teamVisible=!1},getTags:function(t,e){this.tagNameTitle=e.replace(/\s+/g,""),this.tagName=[];for(var a=0;a<t.length;a++)this.tagName.push(t[a].replace(/\s+/g,""))},updateTag:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,this.tag.id){t.next=6;break}return this.$message.destroy(),this.$message.warning("请选择分组"),this.loading=!1,t.abrupt("return",!1);case 6:if(e=JSON.parse(JSON.stringify(this.tagName)),a="work-tag/update",i="修改成功",this.tagEditId){t.next=20;break}if(i="添加成功",0!=this.tagName.length||this.tagNameTitle){t.next=16;break}return this.$message.destroy(),this.$message.warning("请填写标签名称"),this.loading=!1,t.abrupt("return",!1);case 16:"undefined"!=typeof this.tagNameTitle&&""!=this.tagNameTitle.trim()&&e.push(this.tagNameTitle.trim()),a="work-tag/add",t.next=27;break;case 20:if(e=this.tagName1,""!==this.tagName1.trim()){t.next=26;break}return this.$message.destroy(),this.$message.warning("请填写标签名称"),this.loading=!1,t.abrupt("return",!1);case 26:e=e.replace(/\s+/g,"");case 27:return t.next=29,this.axios.post(a,{id:this.tagEditId,suite_id:this.suite_id,type:3,group_id:this.tag.id,name:e,uid:localStorage.getItem("uid")});case 29:s=t.sent,n=s.data,0!=n.error?(this.loading=!1,this.$message.destroy(),this.$message.error(n.error_msg)):(this.loading=!1,this.$message.destroy(),this.$message.success(i),this.tagEditId?this.$refs.group.updateCount(n.old_pid||[],n.new_pid||[],1):this.$refs.group.updateCount(n.old_pid||[],n.new_pid||[],e.length),this.cancelTag(),this.getTagList());case 32:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelTag:function(){this.tagVisible=!1,this.updateVisible=!1,this.tagName=[],this.tagName1="",this.tagNameTitle="",this.tag={id:"",title:""},this.tagEditId=""},editTags:function(t){this.tagEditId=t.id,this.tagName1=t.tagname,this.tag={id:t.group_id,title:t.group_name},this.updateVisible=!0},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},modalVisibleChange:function(t,e,a,i){this.selectedRowKeys=[],this.corpId=t,this.groupId=e,this.defaultId=a,this.defaultName=i,this.getTagList()},findTags:function(){this.getTagList()},clearFind:function(){this.status="",this.searchName="",this.getTagList()},getTagList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("work-tag/list",{uid:localStorage.getItem("uid"),group_id:this.groupId,suite_id:this.suite_id,type:3,name:this.searchName,page:e,pageSize:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.destroy(),this.$message.error(s.error_msg),this.confirmLoading=!1):(this.tagList=s.data.info,this.tagIds=s.data.tag_ids,this.setCheckedBox(this.tagList),this.isLoading=!1,this.total=parseInt(s.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),delMoreTags:function(){var t=this;t.$confirm({title:"确定删除选中的标签?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.delTags(t.selectedRowKeys)}})},delOneTags:function(t,e){var a=this;a.$confirm({title:"一旦删除内容标签【"+e+"】，已打上该标签的内容将不再具有，确定删除吗?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){a.delTags([t])}})},delTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/delete-more",{uid:localStorage.getItem("uid"),ids:e});case 2:a=t.sent,i=a.data,0!=i.error?(this.$message.destroy(),this.$message.error(i.error_msg)):(this.selectedRowKeys=[],this.$message.destroy(),this.$message.success("删除成功"),this.$refs.group.updateMoreCount(i.data.old_pid,e.length),this.getTagList());case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getTagList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,140)}))},showSizeChange:function(t,e){this.getTagList(1,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,140)}))},changeSelectKey:function(t){for(var e=0;e<this.selectedRowKeys.length;e++)if(t==this.selectedRowKeys[e])return this.selectedRowKeys.splice(e,1),this.setCheckedBox(this.tagList),!1;this.selectedRowKeys.push(t),this.setCheckedBox(this.tagList)},batchTypeChange:function(){this.batchTypeValue?(0==this.batchType?this.removeKey(this.tagList):1==this.batchType&&(this.selectedRowKeys=[]),this.setCheckedBox(this.tagList),this.batchTypeValue=!1):(0==this.batchType?this.addKey(this.tagList):1==this.batchType&&(this.selectedRowKeys=JSON.parse(JSON.stringify(this.tagIds))),this.setCheckedBox(this.tagList),this.batchTypeValue=!0)},setCheckedBox:function(t){this.checkBoxValue=new Array(t.length),this.checkBoxValue.fill(!1);for(var e=0;e<t.length;e++)for(var a=0;a<this.selectedRowKeys.length;a++)t[e].id==this.selectedRowKeys[a]&&(this.checkBoxValue[e]=!0);if(0==this.batchType){this.batchTypeValue=!0;for(var i=0;i<this.checkBoxValue.length;i++)this.checkBoxValue[i]||(this.batchTypeValue=!1)}else this.selectedRowKeys.length==this.tagIds.length&&0!=this.tagIds.length?this.batchTypeValue=!0:this.batchTypeValue=!1;0==t.length&&(this.batchTypeValue=!1)},changeBatchType:function(t){this.batchType=t,this.batchTypeValue?(0==this.batchType&&(this.selectedRowKeys=[]),this.batchTypeValue=!1,this.batchTypeChange()):this.setCheckedBox(this.tagList)},addKey:function(t){for(var e=this,a=function(a){var i=e.selectedRowKeys.findIndex((function(e){return e===t[a].id}));-1==i&&e.selectedRowKeys.push(t[a].id)},i=0;i<t.length;i++)a(i)},removeKey:function(t){for(var e=this,a=function(a){var i=e.selectedRowKeys.findIndex((function(e){return e===t[a].id}));-1!=i&&e.selectedRowKeys.splice(i,1)},i=0;i<t.length;i++)a(i)},websocketOnMessage:function(t){"undefined"!=typeof t.type&&"attachment_tag_sort"==t.type&&this.$refs.group.otherUserMove(t.group_id,t.parentId,t.sort)}},mounted:function(){this.ws.setCallback(this.websocketOnMessage)}},_=k,T=(a("c6a8"),Object(g["a"])(_,i,s,!1,null,"fe81d8be",null));e["default"]=T.exports},eaaf:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-box"},[t._l(t.msgList,(function(e,i){return a("a-tag",{staticStyle:{height:"22px",margin:"5px 5px 5px 0"}},[t._v(t._s(e)+"\n\t\t"),a("a-icon",{attrs:{type:"close"},on:{click:function(e){return t.delTag(i)}}})],1)})),a("a-input",{staticClass:"input-area",attrs:{placeholder:t.placeholder,disabled:t.msg.length==t.keyLength,maxLength:t.maxLength},on:{pressEnter:t.onSearch,change:t.onChange},model:{value:t.msgTitle,callback:function(e){t.msgTitle=e},expression:"msgTitle"}})],2)},s=[],n=(a("c5f6"),{name:"inputRecommended",props:{msg:{type:Array,default:[]},placeholder:{type:String,default:""},maxLength:{type:Number,default:10},keyLength:{type:Number,default:-1}},watch:{msg:function(t){this.msgList=t}},data:function(){return{msgTitle:"",msgList:[]}},methods:{onChange:function(t){this.$emit("func",this.msgList,this.msgTitle.trim())},onSearch:function(t){""!=t.target.value.trim()&&(-1==this.msgList.indexOf(t.target.value.trim())?(this.msgList.push(t.target.value.trim()),this.msgTitle="",this.$emit("func",this.msgList,this.msgTitle)):this.$message.error("已有重复值，请重新输入！"))},delTag:function(t){this.msgList.splice(t,1),this.$emit("func",this.msgList)}}}),o=n,r=(a("99a6"),a("2877")),l=Object(r["a"])(o,i,s,!1,null,"84adffa8",null);e["a"]=l.exports},fb10:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".input-box[data-v-84adffa8]{background:#fff;padding:0 10px;border:1px solid #ccc;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.input-area[data-v-84adffa8]{min-width:200px;-webkit-box-flex:1;-ms-flex:1;flex:1}.ant-input[data-v-84adffa8],.ant-input[data-v-84adffa8]:focus,.ant-input[data-v-84adffa8]:hover{border:0;-webkit-box-shadow:none;box-shadow:none}.ant-input[data-v-84adffa8]{padding:4px 0}",""])},fd36:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".store-team[data-v-5869b314]{height:calc(100% - 50px)}.user-team[data-v-5869b314]{padding-top:17px}.group-tree1[data-v-5869b314] .ant-spin-container,.group-tree1[data-v-5869b314] .ant-spin-nested-loading,.user-team[data-v-5869b314]{height:100%}.tab[data-v-5869b314]{width:50%;display:inline-block;text-align:center;height:40px;line-height:40px}.active[data-v-5869b314]{color:#1890ff}.team-add[data-v-5869b314]{width:100%;height:50px;line-height:50px}.team-add-icon[data-v-5869b314],.team-add-title[data-v-5869b314]{display:inline-block;margin-left:10px}.team-add-icon[data-v-5869b314]{color:#1e90ff;cursor:pointer;vertical-align:initial}[data-v-5869b314] .ant-tree-node-content-wrapper{display:inline-block;width:calc(100% - 25px)}[data-v-5869b314] .ant-tree-switcher-icon{vertical-align:initial}[data-v-5869b314] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-5869b314] .ant-popover-inner .ant-popover-inner-content .ant-popover-buttons{display:none!important}.more-operation[data-v-5869b314]:hover{color:#1890ff}[data-v-5869b314] .ant-tree li .ant-tree-node-content-wrapper:hover{background-color:#fff}.ant-tree li span[draggable=true][data-v-5869b314],[data-v-5869b314] .ant-tree li span[draggable]{line-height:25px;height:30px}[data-v-5869b314] .ant-tree li span.ant-tree-switcher{vertical-align:sub}.operation[data-v-5869b314]{margin-bottom:8px;cursor:pointer}.operation2[data-v-5869b314]{margin-bottom:0;cursor:pointer}.operation1[data-v-5869b314]{margin-bottom:0;color:#e2e2e2}.operation[data-v-5869b314]:hover{color:#1890ff}",""])}}]);