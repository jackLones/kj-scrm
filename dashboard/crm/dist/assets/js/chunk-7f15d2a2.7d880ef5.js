(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f15d2a2"],{"203a":function(t,e,a){var i=a("9d91");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("55f4c3c5",i,!0,{sourceMap:!1,shadowMode:!1})},"20d6":function(t,e,a){"use strict";var i=a("5ca1"),s=a("0a49")(6),n="findIndex",r=!0;n in[]&&Array(1)[n]((function(){r=!1})),i(i.P+i.F*r,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(n)},"282a":function(t,e,a){var i=a("e828");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("78f01c21",i,!0,{sourceMap:!1,shadowMode:!1})},"36bd":function(t,e,a){"use strict";var i=a("4bf8"),s=a("77f1"),n=a("9def");t.exports=function(t){var e=i(this),a=n(e.length),r=arguments.length,o=s(r>1?arguments[1]:void 0,a),c=r>2?arguments[2]:void 0,l=void 0===c?a:s(c,a);while(l>o)e[o++]=t;return e}},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"467b":function(t,e,a){"use strict";var i=a("203a"),s=a.n(i);s.a},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"515d":function(t,e,a){"use strict";var i=a("8e34"),s=a.n(i);s.a},"6b54":function(t,e,a){"use strict";a("3846");var i=a("cb7c"),s=a("0bfb"),n=a("9e1e"),r="toString",o=/./[r],c=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?s.call(t):void 0)})):o.name!=r&&c((function(){return o.call(this)}))},"6c7b":function(t,e,a){var i=a("5ca1");i(i.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"6d63":function(t,e,a){var i=a("77a3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1164f1ce",i,!0,{sourceMap:!1,shadowMode:!1})},"77a3":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-55d4adac] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-55d4adac] .ant-form-item-control{margin-left:15px;margin-bottom:10px}#components-layout-demo-basic[data-v-55d4adac]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-55d4adac]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-55d4adac] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-55d4adac]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-55d4adac]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-55d4adac]{height:60px;width:100%;min-width:885px;line-height:60px;overflow:hidden}.content-msg[data-v-55d4adac]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-55d4adac]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-55d4adac]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-55d4adac]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-55d4adac],.list[data-v-55d4adac]{height:100%}.btn-primary[data-v-55d4adac]{margin-left:20px}.setting-day[data-v-55d4adac]{margin:10px}[data-v-55d4adac] .dark-row{background:#fafafa}[data-v-55d4adac] .light-row{background:#fff}[data-v-55d4adac] .ant-radio-button-wrapper{width:90px;margin:0;text-align:center}[data-v-55d4adac] .ant-input-number-handler-wrap{display:none}",""])},"8ba3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{title:"关联应用",width:"600px"},on:{ok:t.addAgentOk,cancel:t.addAgentCancel},model:{value:t.showAddAgentModal,callback:function(e){t.showAddAgentModal=e},expression:"showAddAgentModal"}},[a("div",{staticClass:"content-msg",staticStyle:{"margin-top":"0","margin-bottom":"15px"}},[a("p",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t请登录企业微信官方后台，在应用管理-应用-自建应用，找到您已建好应用的AgentId和Secret，并复制到下面的输入框。提交后将该应用添加到本系统里。\n\t\t\t")]),a("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),a("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),a("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t教程")])]),a("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t"),a("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[a("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])]),t.agentList.length>0?a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[t._v("选择应用\n\t\t\t")]),a("a-radio-group",{model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}},[a("a-radio",{attrs:{value:1}},[t._v("选择已有")]),a("a-radio",{attrs:{value:2}},[t._v("新建应用")])],1)],2):t._e(),1==t.agentType?[a("a-select",{staticStyle:{width:"200px","margin-left":"90px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.agent_id,callback:function(e){t.agent_id=e},expression:"agent_id"}},[t._l(t.agentList,(function(e){return[a("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name)+"\n\t\t\t\t\t")])]}))],2)]:t._e(),2==t.agentType?[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("应用Id\n\t\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入自建应用的AgentId"},model:{value:t.addAgentId,callback:function(e){t.addAgentId=e},expression:"addAgentId"}})],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("应用Secret\n\t\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入自建应用的Secret"},model:{value:t.addAgentSecret,callback:function(e){t.addAgentSecret=e},expression:"addAgentSecret"}})],2)]:t._e()],2)],1)},s=[],n=(a("96cf"),a("3b8d")),r=(a("c5f6"),{props:{showAddAgent:{type:Boolean,default:!1},agent_is_money:{type:Number,default:1},corpId:{type:String,default:localStorage.getItem("corpId")}},name:"index",data:function(){return{addAgentId:"",addAgentSecret:"",agentList:[],agent_id:"",suite_id:1,agentType:1,showAddAgentModal:!1}},mounted:function(){this.showAddAgentModal=this.showAddAgent},methods:{getAgentList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,suite_id:this.suite_id,agent_type:2});case 2:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):a.data&&a.data.length>0?(this.agentList=a.data,this.agent_id=this.agentList[0].id,this.agentType=1):this.agentType=2;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgentOk:function(){if(1==this.agentType)this.linkAgent();else if(2==this.agentType){if(""==this.addAgentId)return this.$message.error("请输入应用Id！"),!1;if(""==this.addAgentSecret)return this.$message.error("请输入应用Secret！"),!1;this.addAgent()}},linkAgent:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-agent/update-agent-use",{corp_id:this.corpId,agent_id:this.agent_id,agent_is_money:this.agent_is_money});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error("关联失败，请检查是否正确！"):(this.$message.success("关联成功！"),this.$emit("linkOk"));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgent:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-agent/add",{corp_id:this.corpId,agent_id:this.addAgentId,agent_secret:this.addAgentSecret,agent_is_money:this.agent_is_money});case 2:if(e=t.sent,a=e.data,0==a.error){t.next=8;break}this.$message.error("添加失败，请检查是否正确！"),t.next=13;break;case 8:return t.next=10,this.axios.post("work-agent/get",{corp_id:this.corpId,agent_id:a.data.agent_id});case 10:i=t.sent,s=i.data,0!=s.error?this.$message.error("添加失败，请检查是否正确！错误描述："+s.error_msg):(this.addAgentId="",this.addAgentSecret="",this.$message.success("添加成功！"),this.$emit("addOk"));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgentCancel:function(){this.addAgentId="",this.addAgentSecret="",this.$emit("addCancel")}},watch:{showAddAgent:{handler:function(t){this.showAddAgentModal=t,this.getAgentList()},deep:!0}}}),o=r,c=a("2877"),l=Object(c["a"])(o,i,s,!1,null,"775cf187",null);e["a"]=l.exports},"8c10c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("a-input-search",{attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")]),a("div",{staticStyle:{width:"calc(100% - 100px)",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[t._v(t._s(e.member_num)+"/200")])],1)])],1)})),1),t.chatList.length<t.count?a("div",{staticClass:"noMore"},[t._v("正在加载")]):t._e(),t.chatList.length==t.count?a("div",{staticClass:"noMore"},[t._v("没有更多了")]):t._e()],1)],1)],1)},s=[],n=(a("96cf"),a("3b8d")),r=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),o=a.n(r),c=a("e306"),l=a.n(c),d=a("4bef"),h=a.n(d),p=o.a.CancelToken,u=p.source(),g={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){}},chatArr:{type:Array,default:function(){}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:l.a,img2:h.a,chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,count:0,chatData:[],chooseNum:0}},methods:{content:function(t,e){var a=!0,i=!1,s=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;if(o==e)return!1}}catch(c){i=!0,s=c}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}return!0},getChatList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s=this,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,this.cancelFlag=!0,t.next=4,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,is_list:this.is_list},{cancelToken:u.token});case 4:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):(this.count=i.data.count,this.cancelFlag=!1,this.page2=e,1==this.page2?(this.chatList=i.data.list,this.$nextTick((function(){var t=s,e=document.getElementsByClassName("msg-modal")[0].getElementsByClassName("ant-modal-body")[0];e.onscroll=function(){var a=e.scrollTop,i=e.clientHeight||document.body.clientHeight,s=e.scrollHeight||document.body.scrollHeight;a+i==s&&Math.ceil(t.count/15)>t.page2&&t.getChatList(t.page2+1)}}))):this.chatList=this.chatList.concat(i.data.list));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},handleCancle:function(){this.checkedKey++,this.cancelFlag&&u.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChatList())}},created:function(){}},m=g,f=(a("515d"),a("2877")),v=Object(f["a"])(m,i,s,!1,null,"53470dae",null);e["a"]=v.exports},"8e34":function(t,e,a){var i=a("e81db");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("9b59d6d6",i,!0,{sourceMap:!1,shadowMode:!1})},"9d91":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-e8503c8c] .ant-tag-checkable-checked{background-color:#1890ff!important;border-color:#1890ff!important;color:#fff!important}[data-v-e8503c8c] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-e8503c8c] .ant-form-item-control{margin-left:15px;margin-bottom:10px}[data-v-e8503c8c] .ant-tree-checkbox{float:right}[data-v-e8503c8c] .ant-tree-iconEle{display:none!important}[data-v-e8503c8c] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-e8503c8c] .ant-list-item{border-bottom:0;padding:0}[data-v-e8503c8c] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-e8503c8c] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-e8503c8c]{color:red;margin:0 20px 12px 0}.group-name[data-v-e8503c8c]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-e8503c8c]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}",""])},a56f:function(t,e,a){"use strict";var i=a("d803"),s=a.n(i);s.a},a9ba:function(t,e,a){"use strict";var i=a("6d63"),s=a.n(i);s.a},bda0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{attrs:{id:"components-layout-demo-basic"}},[a("div",{staticStyle:{height:"100%","padding-top":"20px"}},[a("div",{staticStyle:{padding:"0 20px"}},[a("span",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-look",expression:"'deleteCustomer-look'"}],staticClass:"tabBtn",class:{activeBtn:1==t.tabKey},on:{click:function(e){return t.changeTabs("1")}}},[t._v("删除记录")]),a("span",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-list",expression:"'deleteCustomer-list'"}],staticClass:"tabBtn",class:{activeBtn:2==t.tabKey},on:{click:function(e){return t.changeTabs("2")}}},[t._v("生效员工")])]),a("div",{staticStyle:{background:"#fff",margin:"0 20px 20px",padding:"12px 20px"}},[1==t.tabKey?a("Record",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-look",expression:"'deleteCustomer-look'"}],attrs:{id:t.corpId},on:{changeCorpId:t.changeCorpId,changeScroll:t.changeScroll}}):t._e(),2==t.tabKey?a("EffectEmployee",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-list",expression:"'deleteCustomer-list'"}],attrs:{id:t.corpId},on:{changeCorpId:t.changeCorpId,changeScroll:t.changeScroll}}):t._e()],1)])])])},s=[],n=(a("28a5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t._m(0),i("div",{staticClass:"content-hd"},[i("a-select",{staticStyle:{width:"120px","margin-left":"10px"},on:{change:t.changeTimeType},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[i("a-select-option",{attrs:{value:1}},[t._v("删除时间")]),i("a-select-option",{attrs:{value:2}},[t._v("添加时间")])],1),t._v("\n\t\t\t——\n\t\t\t"),i("a-range-picker",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{disabledDate:t.disabledDateDay,format:"YYYY-MM-DD"},on:{change:t.changeSelectDate},model:{value:t.deleteDate,callback:function(e){t.deleteDate=e},expression:"deleteDate"}}),i("a-button",{on:{click:t.showDepartmentList}},[t._v("\n\t\t\t\t选择部门成员\n\t\t\t")]),t.chooseNum>0?i("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):t._e(),i("a",{directives:[{name:"show",rawName:"v-show",value:t.chooseNum>0,expression:"chooseNum > 0"}],staticStyle:{"margin-left":"10px"},on:{click:t.clearDepartmentList}},[t._v("\n\t\t\t\t重置\n\t\t\t")])],1),i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n\t\t\t共\n\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("\n\t\t\t条\n\t\t\t"),i("div",{staticStyle:{float:"right"}},[i("a-dropdown",[i("a-menu",{attrs:{slot:"overlay"},on:{click:t.chooseDownType},slot:"overlay"},[i("a-menu-item",{key:"0"},[t._v("当前页导出")]),i("a-menu-item",{key:"1"},[t._v("全部导出")])],1),i("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"download"}},[t._v("导出\n\t\t\t\t\t\t"),i("a-icon",{staticStyle:{color:"#FFFFFF"},attrs:{type:"down"}})],1)],1)],1)]),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{attrs:{columns:t.columns,dataSource:t.deleteList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"userName",fn:function(e,a,s){return i("div",{},[i("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px"}},[i("div",[t._v(t._s(a.userName)+"\n\t\t\t\t\t\t\t\t"),"1"==a.sex?i("a-icon",{staticStyle:{color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),"2"==a.sex?i("a-icon",{staticStyle:{color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1)])])}},{key:"name",fn:function(e,s,n){return i("div",{},[s.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:s.avatar}}):t._e(),s.avatar?t._e():i("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px"}},[i("div",[t._v(t._s(s.name)+"\n\t\t\t\t\t\t\t\t"),i("span",{class:null!=s.corp_name?"corp-name":"wx-name"},[null!=s.corp_name?[t._v("@"+t._s(s.corp_name))]:[t._v("@微信")]],2),"1"==s.gender?i("a-icon",{staticStyle:{color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),"2"==s.gender?i("a-icon",{staticStyle:{color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1)])],1)}},{key:"tagName",fn:function(e,a,s){return i("div",{},[0==a.tagName.length&&0==a.perName.length?i("span",[t._v("--")]):t._e(),0==a.perName.length&&a.tagName.length>0?i("span",t._l(a.tagName,(function(e){return i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),0==a.tagName.length&&a.perName.length>0?i("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t私有标签："),t._l(a.perName,(function(e){return i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])}))],2):t._e(),a.tagName.length>0&&a.perName.length>0?[i("div",[t._v("\n\t\t\t\t\t\t\t\t公有标签：\n\t\t\t\t\t\t\t\t"),t._l(a.tagName,(function(e){return i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])}))],2),i("div",[t._v("\n\t\t\t\t\t\t\t\t私有标签：\n\t\t\t\t\t\t\t\t"),t._l(a.perName,(function(e){return i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])}))],2)]:t._e()],2)}},{key:"create_time",fn:function(e,a,s){return i("div",{},[t._v("\n\t\t\t\t\t\t"+t._s(a.create_time)),1==a.status?i("span",[t._v("（重复删除）")]):t._e()])}}])},[i("div",{attrs:{slot:"tag_name2"},slot:"tag_name2"},[t._v("\n\t\t\t\t\t\t标签\n\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("div",[t._v("企业微信给客户打标签：分公有标签和私有标签")]),i("div",[t._v("1、公有标签：即企业标签。管理员创建，所有员工可见，在本系统定义为“公有标签”。")]),i("div",[t._v("2、私有标签：即个人标签。员工创建，仅自己可见。在本系统定义为“私有标签”）。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{width:"100%",padding:"20px 15px",overflow:"hidden"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t共\n\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1),i("chooseDepartment",{ref:"user",attrs:{id:t.corpId,is_special:1,show:t.showModalDepartment,chooseNum:t.chooseNum,callback:t.modalVisibleChange3,disabledVal:0}})],1)])}),r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-msg"},[a("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t在企业微信体系里，虽然我们无法防止员工删除客户，但我们可以使用员工删人提醒功能，来监督员工删除客户的行为，一旦发现，可以根据其行为的影响程度给予相应的处罚。\n\t\t\t")]),a("p",{staticStyle:{"margin-bottom":"0px",color:"#FF562D"}},[t._v("\n\t\t\t\t根据当前子账号所设置的员工可见范围，查看员工删除客户的数据记录。如部门负责人，只看到该部门成员删除客户的数据。\n\t\t\t")])])}],o=(a("96cf"),a("3b8d")),c=a("bd86"),l=a("c1df"),d=a.n(l),h=a("c75b"),p=[{title:"企业成员",dataIndex:"userName",key:"userName",scopedSlots:{customRender:"userName"}},{title:"删除客户",dataIndex:"name",width:"200",scopedSlots:{customRender:"name"},key:"name"},{dataIndex:"tagName",key:"tagName",width:"30%",slots:{title:"tag_name2"},scopedSlots:{customRender:"tagName"}},{title:"删除时间",dataIndex:"create_time",key:"create_time",scopedSlots:{customRender:"create_time"}},{title:"添加时间",dataIndex:"add_time",key:"add_time"}],u={name:"userNotice",props:{id:{type:String,default:""}},components:{chooseDepartment:h["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return Object(c["a"])({settingVisible:!1,isAudit:0,suite_id:1,corpId:t,corpInfo:[],agentId:"",agentList:[],checkedList:[],user:[],showModalDepartment:!1,chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,deleteDate:null,timeType:1,deleteList:[],isLoading:!0,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,columns:p,total:0,quickJumper:!1,page:1,pageSize:15},"showModalDepartment",!1)},methods:{rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},changeTimeType:function(){this.deleteDate=null,this.getDeleteList()},disabledDateDay:function(t){return t.valueOf()>(new Date).getTime()},changeSelectDate:function(t,e){this.deleteDate=t,this.getDeleteList()},showDepartmentList:function(){this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.user)),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,a,i,s){"ok"==t&&(this.checkedList=e,this.chooseNum=parseInt(a)+parseInt(i),this.chooseUserNum=a,this.chooseDepartmentNum=i,this.chooseNum>0?this.user=JSON.parse(JSON.stringify(s)):this.user=[],this.getDeleteList()),this.showModalDepartment=!1},clearDepartmentList:function(){this.checkedList=[],this.user=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.getDeleteList()},changePage:function(t,e){this.isLoading=!0,this.getDeleteList(t,e),this.$emit("changeScroll")},showSizeChange:function(t,e){this.isLoading=!0,this.getDeleteList(1,e)},handleWxId:function(t){this.corpId=t,this.getAgentList(),this.chooseNum=0,this.checkedList=[],this.$emit("changeCorpId",this.corpId)},getAgentList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,agent_type:2,suite_id:this.suite_id});case 2:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.agentList=i.data,e?(this.agentId=e,this.getDeleteList()):this.agentList.length>0?(this.agentId=this.agentList[0].id,this.getDeleteList()):(this.agentList=i.data,this.isLoading=!1));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeAgentId:function(){this.getDeleteList()},clear:function(){this.corpId=localStorage.getItem("corpId"),this.$emit("changeCorpId",this.corpId),this.checkedList=[],this.chooseNum1=0,this.getDeleteList()},chooseDownType:function(t){this.getDeleteList(this.page,this.pageSize,1,t.key)},moment:d.a,getDeleteList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:this.pageSize,i=o.length>2&&void 0!==o[2]?o[2]:0,s=o.length>3&&void 0!==o[3]?o[3]:0,this.isLoading=!0,t.next=7,this.axios.post("work-user-del-follow-user/user-del-follow-lists-detail",{corp_id:this.corpId,time_type:this.timeType,sData:null==this.deleteDate||0==this.deleteDate.length?"":d()(this.deleteDate[0]).format("YYYY-MM-DD"),eData:null==this.deleteDate||0==this.deleteDate.length?"":d()(this.deleteDate[1]).format("YYYY-MM-DD"),user_ids:this.checkedList,page:e,pageSize:a,is_all:s,is_export:i});case 7:n=t.sent,r=n.data,0!=r.error?(this.isLoading=!1,this.$message.error(r.error_msg)):1==i?(window.open(r.data.url),this.isLoading=!1):(this.deleteList=r.data.data,this.isLoading=!1,this.total=parseInt(r.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getAgentList()}},g=u,m=(a("a9ba"),a("2877")),f=Object(m["a"])(g,n,r,!1,null,"55d4adac",null),v=f.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t._m(0),i("div",{staticClass:"content-hd"},[i("a-col",{staticStyle:{float:"left"}},[t.corpLen>1?i("a-select",{staticStyle:{width:"170px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleWxId},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t")])]}))],2):t._e(),t.agentList.length>0?i("a-select",{staticStyle:{width:"170px","margin-bottom":"20px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeAgentId},model:{value:t.agentId,callback:function(e){t.agentId=e},expression:"agentId"}},[t._l(t.agentList,(function(e){return[i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name))])]}))],2):t._e(),i("a-select",{staticStyle:{width:"170px","margin-bottom":"20px","margin-right":"5px"},attrs:{optionFilterProp:"children"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[i("a-select-option",{attrs:{value:""}},[t._v("全部状态")]),i("a-select-option",{attrs:{value:1}},[t._v("开启")]),i("a-select-option",{attrs:{value:0}},[t._v("关闭")])],1),i("a-input",{staticStyle:{width:"170px","margin-bottom":"20px","margin-right":"5px"},attrs:{placeholder:"员工姓名搜索"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("a-button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("查找")]),i("a-button",{on:{click:t.clear}},[t._v("清空")])],1),i("a-col",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-add",expression:"'deleteCustomer-add'"}],staticStyle:{float:"right"}},[i("a-button",{staticClass:"btn-primary",attrs:{icon:"plus",type:"primary"},on:{click:t.addNotice}},[t._v("\n\t\t\t\t\t生效员工\n\t\t\t\t")])],1)],1),i("div",{staticStyle:{"margin-bottom":"15px"}},[t._v("\n\t\t\t共\n\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("\n\t\t\t条\n\t\t")]),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{attrs:{columns:t.columns,dataSource:t.userList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"checkedBox",fn:function(e,a,s){return i("span",{},[i("a-checkbox",{on:{click:function(e){return t.changeSelectKey(a.id)}},model:{value:t.checkBoxValue[s],callback:function(e){t.$set(t.checkBoxValue,s,e)},expression:"checkBoxValue[index]"}})],1)}},{key:"userinfo",fn:function(e,s,n){return[s.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",src:s.avatar}}):t._e(),s.avatar?t._e():i("img",{staticStyle:{width:"32px",height:"32px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticStyle:{"max-width":"300px","word-wrap":"break-word",display:"inline-block","line-height":"32px"}},[i("a-popover",{attrs:{placement:"top"}},[i("span",{attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)),s.department_name?i("span",[t._v("-")]):t._e(),t._v(t._s(s.department_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{cursor:"pointer",display:"inline-block","margin-left":"10px","max-width":"170px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(s.name)),s.department_name?i("span",[t._v("-")]):t._e(),t._v(t._s(s.department_name)+"\n\t\t\t\t\t\t\t\t")])])],1),i("span",{staticStyle:{display:"inline-block","line-height":"32px","vertical-align":"top"}},[1==s.gender?i("a-icon",{staticStyle:{"margin-left":"10px",color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),2==s.gender?i("a-icon",{staticStyle:{"margin-left":"10px",color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1)]}},{key:"user_names",fn:function(e,a,s){return i("span",{},[1==a.type?i("span",[t._v("全员")]):t._e(),t._l(a.part,(function(e){return 1!=a.type?i("a-tag",{staticStyle:{"margin-bottom":"5px",cursor:"pointer"},attrs:{color:"blue"}},[t._v("\n\t\t                    "+t._s(e)+"\n\t                    ")]):t._e()})),t._l(a.user_names,(function(e){return 1!=a.type?i("a-tag",{staticStyle:{"margin-bottom":"5px",cursor:"pointer"},attrs:{color:"orange"}},[t._v("\n\t\t                    "+t._s(e)+"\n\t                    ")]):t._e()}))],2)}},{key:"open_status",fn:function(e,a,s){return i("span",{},[1==a.open_status?i("span",[t._v("已开启")]):t._e(),0==a.open_status?i("span",[t._v("已关闭")]):t._e()])}},{key:"action",fn:function(e,a,s){return i("span",{},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-edit",expression:"'deleteCustomer-edit'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.edit(a.id)}}},[t._v("编辑")]),1==a.open_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-taggle",expression:"'deleteCustomer-taggle'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.changeSatus(a.id,0)}}},[t._v("关闭")]):t._e(),0==a.open_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-taggle",expression:"'deleteCustomer-taggle'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.changeSatus(a.id,1)}}},[t._v("开启")]):t._e()],1)}}])},[i("span",{attrs:{slot:"checkedBoxTitle"},slot:"checkedBoxTitle"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px 15px",overflow:"hidden"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[i("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),i("a-select",{staticStyle:{width:"150px",margin:"0 5px"},attrs:{optionFilterProp:"children"},on:{change:t.changeBatchType},model:{value:t.batchType,callback:function(e){t.batchType=e},expression:"batchType"}},[i("a-select-option",{attrs:{value:"0"}},[t._v("选择当前页")]),i("a-select-option",{attrs:{value:"1"}},[t._v("选择所有")])],1),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-edit",expression:"'deleteCustomer-edit'"}],staticClass:"btn-primary",attrs:{icon:"unlock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:t.batchEdit}},[t._v("\n\t\t\t\t\t\t\t批量编辑\n\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-taggle",expression:"'deleteCustomer-taggle'"}],staticClass:"btn-primary",attrs:{icon:"unlock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:t.releaseFollow}},[t._v("\n\t\t\t\t\t\t\t批量开启\n\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"deleteCustomer-taggle",expression:"'deleteCustomer-taggle'"}],staticClass:"btn-primary",attrs:{icon:"lock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:t.failure}},[t._v("\n\t\t\t\t\t\t\t批量关闭\n\t\t\t\t\t\t")])],1),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1),i("a-modal",{attrs:{visible:t.editVisible,title:t.editTitle,width:"888px!important;"},on:{cancel:t.cancelEdit}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelEdit}},[t._v("取消")]),i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading4},on:{click:t.handleEdit}},[t._v("提交\n\t\t\t\t")])],1),i("a-form",[t.agentList.length>0?i("a-form-item",{attrs:{label:"选择应用","label-col":{span:3},"wrapper-col":{span:19}}},[i("a-select",{staticStyle:{width:"170px","margin-right":"5px"},attrs:{disabled:0!=t.is_edit,showSearch:"",optionFilterProp:"children"},on:{change:t.changeAgentId1},model:{value:t.agentId1,callback:function(e){t.agentId1=e},expression:"agentId1"}},[t._l(t.agentList,(function(e){return[i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name))])]}))],2),i("div",{staticClass:"content-msg",staticStyle:{"font-size":"13px"}},[i("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),i("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t\t\t\t教程")])]),i("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t\t\t\t"),i("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[i("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])])],1):t._e(),i("a-form-item",{attrs:{label:"推送成员","label-col":{span:3},"wrapper-col":{span:19}}},[i("div",{staticStyle:{color:"#FF562D"}},[t._v("推送成员会在企业微信端收到一条【员工删人提醒】通知，告知哪个员工在什么时间删除了哪个客户")]),0==t.is_edit?i("a-button",{staticStyle:{width:"170px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?i("span",[t._v("已选择"+t._s(t.chooseNum)+"名成员")]):i("span",[t._v("选择企业成员")])]):t._e(),0!=t.is_edit?i("span",{staticStyle:{"font-weight":"700","font-size":"20px"}},[t._v("已选择\n\t\t\t\t\t\t"),i("span",{staticStyle:{"font-weight":"700","font-size":"20px",color:"#F56C6C"}},[t._v(t._s(t.userNum))]),t._v("\n\t\t\t\t\t\t名员工\n\t\t\t\t\t")]):t._e()],1),i("a-form-item",{attrs:{label:"员工删除","label-col":{span:3},"wrapper-col":{span:21}}},[i("p",{staticStyle:{"margin-bottom":"5px",color:"#FF562D"}},[t._v("设置查看哪些员工删除客户的数据。")]),i("div",[i("a-checkbox-group",{attrs:{value:t.typeArr}},[i("a-checkbox",{staticStyle:{display:"block",margin:"5px 0px",height:"33px","line-height":"33px"},attrs:{value:0},on:{click:function(e){return t.chooseType(0)}}},[t._v("\n\t\t\t\t\t\t\t\t全员\n\t\t\t\t\t\t\t")]),i("div",[i("a-checkbox",{staticStyle:{margin:"5px 0px",height:"33px","line-height":"33px"},attrs:{value:2,disabled:1==t.typeArr.length&&0==t.typeArr[0]},on:{click:function(e){return t.chooseType(2)}}},[t._v("\n\t\t\t\t\t\t\t\t\t部分员工\n\t\t\t\t\t\t\t\t\t"),t.typeArr.indexOf(2)>-1?i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.showDepartmentList1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t选择\n\t\t\t\t\t\t\t\t\t")]):t._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:t.chooseNum1>0,expression:"chooseNum1 > 0"}],staticStyle:{"margin-left":"5px"}},[t._v("已选择"+t._s(t.userNum1)+"名成员，"+t._s(t.departmentNum1)+"个部门")])],1)],1)],1)],1)]),i("a-form-item",{attrs:{label:"通知频率","label-col":{span:3},"wrapper-col":{span:19}}},[i("a-checkbox-group",{attrs:{value:t.frequency}},[i("a-checkbox",{staticStyle:{margin:"5px 10px 5px 0",height:"33px","line-height":"33px"},attrs:{value:"1"},on:{click:function(e){return t.changeFrequency("1")}}},[t._v("\n\t\t\t\t\t\t\t每次\n\t\t\t\t\t\t")]),i("a-checkbox",{staticStyle:{margin:"5px 0px",height:"33px","line-height":"33px"},attrs:{value:"2"},on:{click:function(e){return t.changeFrequency("2")}}},[t._v("\n\t\t\t\t\t\t\t每天早上9点推送昨日汇总\n\t\t\t\t\t\t")])],1)],1)],1)],2),i("chooseDepartment",{key:1,ref:"user",attrs:{id:t.corpId,agentid:t.agentId,tipType:"5",chooseNum:t.chooseNum,show:t.showModalDepartment,noticeTitle:"只展示在企业微信官方后台创建自建应用时，所设置的可见成员，只有他们才拥有接收员工删人提醒的权限。",departmentDisabled:1,is_from:2,callback:t.modalVisibleChange3}}),i("chooseDepartment",{key:2,ref:"user1",attrs:{show:t.showModalDepartment1,chooseNum:t.chooseNum1,callback:t.modalVisibleChange5,disabledVal:0}})],1)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-msg"},[a("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t在企业微信体系里，虽然我们无法防止员工删除客户，但我们可以使用员工删人提醒功能，来监督员工删除客户的行为。\n\t\t\t")]),a("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t比如，设置部门负责人监督其部门所有成员删除客户的情况，那么一旦发现，有客户被部门员工删除时，部门负责人会在企业微信端收到一条【员工删人提醒】通知，即哪个员工在什么时间删除了哪个客户，其可以根据成员删人行为的影响程度给予相应的处罚。\n\t\t\t")])])}],b=(a("6b54"),a("7f7f"),a("a481"),a("20d6"),a("6c7b"),a("8ba3")),_=a("8c10c"),w=a("f34b"),k=[{dataIndex:"checkedBox",key:"checkedBox",width:"60px",scopedSlots:{customRender:"checkedBox",title:"checkedBoxTitle"}},{title:"企业成员",dataIndex:"userinfo",key:"userinfo",width:"300px",scopedSlots:{customRender:"userinfo"}},{title:"所属部门",dataIndex:"department_name",key:"department_name",width:"26%"},{title:"查看员工删人数据",dataIndex:"user_names",width:"16%",key:"user_names",scopedSlots:{customRender:"user_names"}},{title:"状态",dataIndex:"open_status",width:"12%",key:"open_status",scopedSlots:{customRender:"open_status"}},{title:"操作",dataIndex:"action",key:"action",width:"16%",scopedSlots:{customRender:"action"}}],S={name:"userNotice",components:{linkAgent:b["a"],groupChat:_["a"],corpSensitiveWord:w["a"],chooseDepartment:h["a"]},props:{id:{type:String,default:""}},data:function(){var t,e=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return t={checkBoxValue:[],batchType:"0",batchTypeValue:!1,selectedRowKeys:[],suite_id:1,corpId:e,corpInfo:[],agentId:"",status:"",name:"",userIds:[],checkedList1:[],userNum1:0,departmentNum1:0,chooseNum1:0,agentList:[],showAddAgentModal:!1,userList:[],isLoading:!0,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,columns:k,total:0,quickJumper:!1,page:1,pageSize:15,checkedList:[],userNum:0,chooseNum:0,departmentNum:0,showModalDepartment:!1,showModalDepartment1:!1,editVisible:!1,loading4:!1,is_edit:0},Object(c["a"])(t,"userNum",0),Object(c["a"])(t,"editTitle","新建生效员工"),Object(c["a"])(t,"agentId1",[]),Object(c["a"])(t,"typeArr",[]),Object(c["a"])(t,"party",[]),Object(c["a"])(t,"partyList",[]),Object(c["a"])(t,"frequency",[]),Object(c["a"])(t,"userDelId",[]),t},methods:{chooseType:function(t){if(0==t)this.typeArr.length>0&&0==this.typeArr[0]?this.typeArr=[]:(this.typeArr=[0],this.checkedList1=[],this.chooseNum1=0,this.party=[]);else{Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1};var e=this.typeArr.indexOf(t);e>-1?(this.typeArr.splice(e,1),1==t?this.party=[]:(this.checkedList1=[],this.chooseNum1=0)):this.typeArr.push(t)}},changeFrequency:function(t){var e=this.frequency.indexOf(t);e>-1?this.frequency.splice(e,1):this.frequency.push(t)},changeAgentId1:function(){this.checkedList=[],this.chooseNum=0},showDepartmentList:function(){this.setUser(this.checkedList),this.showModalDepartment=!0},setUser:function(t){var e=this,a=[],i=[],s=[],n={avatar:"",disabled:!1,id:"",key:"",scopedSlots:{title:"custom"},title:""};t.length>0&&t.map((function(t){n.avatar=t.avatar,n.id=t.id,n.title=t.title,a.push(t.key),n.key=t.key,i.push(JSON.parse(JSON.stringify(n))),s.push(JSON.parse(JSON.stringify(n)))})),e.$refs.user.checkedKeys=a,e.$refs.user.checkedKeysArr=a,e.$refs.user.checkedNodes=a,e.$refs.user.staffListArr=i,e.chooseNum=i.length,e.$refs.user.keyList=s},modalVisibleChange3:function(t,e,a,i,s){"ok"==t&&(this.chooseNum=parseInt(a)+parseInt(i),this.chooseUserNum=a,this.chooseDepartmentNum=i,this.chooseNum>0?this.checkedList=JSON.parse(JSON.stringify(s)):this.checkedList=[]),this.showModalDepartment=!1},changeSelectKey:function(t){for(var e=0;e<this.selectedRowKeys.length;e++)if(t==this.selectedRowKeys[e])return this.selectedRowKeys.splice(e,1),this.setBox(),!1;this.selectedRowKeys.push(t),this.setBox()},batchTypeChange:function(){this.batchTypeValue?(0==this.batchType?(this.removeKey(this.userList),this.setCheckedBox(this.userList)):1==this.batchType&&(this.selectedRowKeys=[],this.setBox()),this.batchTypeValue=!1):(0==this.batchType?(this.addKey(this.userList),this.setCheckedBox(this.userList)):1==this.batchType&&(this.selectedRowKeys=JSON.parse(JSON.stringify(this.userKeys)),this.setBox()),this.batchTypeValue=!0)},setBox:function(){this.setCheckedBox(this.userList)},setCheckedBox:function(t){this.checkBoxValue=new Array(t.length),this.checkBoxValue.fill(!1);for(var e=0;e<t.length;e++)for(var a=0;a<this.selectedRowKeys.length;a++)t[e].id==this.selectedRowKeys[a]&&(this.checkBoxValue[e]=!0);if(0==this.batchType){this.batchTypeValue=!0;for(var i=0;i<this.checkBoxValue.length;i++)this.checkBoxValue[i]||(this.batchTypeValue=!1)}else this.selectedRowKeys.length==this.userKeys.length&&0!=this.userKeys.length?this.batchTypeValue=!0:this.batchTypeValue=!1;0==t.length&&(this.batchTypeValue=!1)},changeBatchType:function(t){this.batchType=t,this.batchTypeValue?(0==this.batchType&&(this.selectedRowKeys=[]),this.batchTypeValue=!1,this.batchTypeChange()):this.setBox()},addKey:function(t){for(var e=this,a=function(a){var i=e.selectedRowKeys.findIndex((function(e){return e===t[a].id}));-1==i&&e.selectedRowKeys.push(t[a].id)},i=0;i<t.length;i++)a(i)},removeKey:function(t){for(var e=this,a=function(a){var i=e.selectedRowKeys.findIndex((function(e){return e===t[a].id}));-1!=i&&e.selectedRowKeys.splice(i,1)},i=0;i<t.length;i++)a(i)},handleWxId:function(t){this.corpId=t,this.getPartyList(),this.getAgentList(),this.$emit("changeCorpId",this.corpId)},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},showDepartmentList1:function(){var t=[];this.checkedList1.map((function(e){t.push(e.id)})),this.$refs.user1.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user1.rightList=JSON.parse(JSON.stringify(this.checkedList1)),this.showModalDepartment1=!0},modalVisibleChange5:function(t,e,a,i,s){if("ok"==t){if(this.party=[],this.userNum1=a,this.departmentNum1=i,this.checkedList1=JSON.parse(JSON.stringify(s)),this.userIds=e,this.checkedList1.length>0)for(var n=0;n<this.checkedList1.length;n++)delete this.checkedList1[n].avatar,"title"==this.checkedList1[n].scopedSlots.title&&this.party.push(this.checkedList1[n].id.replace("d-",""));this.chooseNum1=a+i}this.showModalDepartment1=!1},find:function(){this.isLoading=!0,this.getNoticeList()},clear:function(){this.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",this.isLoading=!0,this.status=0,this.name="",this.page=1,this.pageSize=15,this.getAgentList()},addNotice:function(){this.is_edit=0,this.editTitle="新建生效员工",this.resetModal(),this.agentId1=this.agentId,this.editVisible=!0},cancelEdit:function(){this.editVisible=!1,this.resetModal()},handleEdit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading4=!0,""!=this.agentId){t.next=6;break}return this.$message.destroy(),this.$message.warning("请选择自建应用！"),this.loading4=!1,t.abrupt("return",!1);case 6:if(0!=this.checkedList||0!=this.is_edit){t.next=11;break}return this.$message.destroy(),this.$message.warning("请选择推送成员！"),this.loading4=!1,t.abrupt("return",!1);case 11:if(0!=this.typeArr.length){t.next=17;break}return this.$message.destroy(),this.$message.warning("请选择跟进数据"),this.createDisabled=!1,this.loading4=!1,t.abrupt("return",!1);case 17:if(!(this.typeArr.indexOf(1)>-1&&0==this.party.length)){t.next=25;break}return this.$message.destroy(),this.$message.warning("请选择跟进数据部门"),this.createDisabled=!1,this.loading4=!1,t.abrupt("return",!1);case 25:if(!(this.typeArr.indexOf(2)>-1&&0==this.checkedList1.length)){t.next=31;break}return this.$message.destroy(),this.$message.warning("请选择跟进数据员工"),this.createDisabled=!1,this.loading4=!1,t.abrupt("return",!1);case 31:if(0!=this.frequency.length){t.next=37;break}return this.$message.destroy(),this.$message.warning("请选择推送频率"),this.createDisabled=!1,this.loading4=!1,t.abrupt("return",!1);case 37:return e={},a="",0==this.is_edit?(e={corp_id:this.corpId,agent_id:this.agentId1,user_id:this.checkedList,inform_user:this.checkedList1,department:this.party,frequency:this.frequency},a="work-user-del-follow-user/add-user-del-data"):(e={is_edit:this.is_edit,userDelId:this.userDelId,corp_id:this.corpId,inform_user:this.checkedList1,department:this.party,frequency:this.frequency},a="work-user-del-follow-user/user-del-user-edit"),t.next=42,this.axios.post(a,e);case 42:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.loading4=!1,this.$message.error(s.error_msg)):(this.getNoticeList(this.page,this.pageSize),this.selectedRowKeys=[],this.editVisible=!1,this.resetModal());case 45:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),resetModal:function(){this.loading4=!1,this.checkedList=[],this.chooseNum=0,this.checkedList1=[],this.chooseNum1=0,this.userDelId=[],this.userNum=0,this.is_edit=0,this.typeArr=[],this.party=[],this.frequency=[]},getAgentList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,agent_type:2,suite_id:this.suite_id});case 2:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.agentList=i.data,e?(this.agentId=e,this.getNoticeList()):this.agentList.length>0?(this.agentId=this.agentList[0].id,this.agentId1=this.agentList[0].id,this.getNoticeList()):(this.agentList=i.data,this.isLoading=!1));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeAgentId:function(){this.selectedRowKeys=[],this.getNoticeList()},getNoticeList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("work-user-del-follow-user/user-del-lists",{corp_id:this.corpId,agent_id:this.agentId,open_status:this.status,name:this.name,page:e,pageSize:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.userList=s.data.data,this.userKeys=s.data.dataIds,this.setCheckedBox(this.userList),this.isLoading=!1,this.total=parseInt(s.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),batchEdit:function(){this.resetModal(),this.is_edit=2,this.userNum=this.selectedRowKeys.length,this.editTitle="批量编辑",this.userDelId=JSON.parse(JSON.stringify(this.selectedRowKeys)),this.agentId1=this.agentId,this.editVisible=!0},edit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.resetModal(),this.is_edit=1,this.userNum=1,this.editTitle="编辑生效员工",t.next=6,this.axios.post("work-user-del-follow-user/add-user-del-data",{userDelId:e,is_edit:1,corp_id:this.corpId});case 6:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.userDelId=[e],this.typeArr=[],1==i.data.type?this.typeArr=[0]:(this.party=i.data.department,this.party.length>0&&this.typeArr.push(1),this.checkedList1=i.data.inform_user,this.chooseNum1=this.checkedList1.length,this.departmentNum1=this.party.length,this.userNum1=this.chooseNum1-this.departmentNum1,this.checkedList1.length>0&&this.typeArr.push(2)),this.agentId1=i.data.agent.toString(),this.checkedList=[i.data.user_id],this.frequency=i.data.frequency,this.editVisible=!0);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),releaseFollow:function(){var t=this;t.$confirm({title:"确定开启选中的员工删人提醒?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.changeNoticeStatus(t.selectedRowKeys,1)}})},failure:function(){var t=this;t.$confirm({title:"确定关闭选中的员工删人提醒?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.changeNoticeStatus(t.selectedRowKeys,0)}})},changeSatus:function(t,e){var a=this,i="";i=1==e?"开启":"关闭",a.$confirm({title:"确定"+i+"该员工删人提醒？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){a.isLoading=!0;var i=[];i.push(t),a.changeNoticeStatus(i,e)}})},changeNoticeStatus:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-user-del-follow-user/add-user-del-data",{userDelId:e,open_status:a,is_edit:1,corp_id:this.corpId});case 2:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.selectedRowKeys=[],this.getNoticeList(this.page,this.pageSize));case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.isLoading=!0,this.getNoticeList(t,e),this.$emit("changeScroll")},showSizeChange:function(t,e){this.isLoading=!0,this.getNoticeList(1,e)},getPartyList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-follow-msg/get-party-list",{suite_id:1,corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.partyList=a.data.party_list;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.corpId=t.id,t.isLoading=!0,t.selectedRowKeys=[],t.corpInfo.length>0&&(t.getPartyList(),t.getAgentList())}))}},L=S,N=(a("a56f"),Object(m["a"])(L,x,y,!1,null,"d63d2828",null)),I=N.exports,A={name:"delCustomer",components:{EffectEmployee:I,Record:v},data:function(){return{tabKey:1,tabindex:3,corpId:localStorage.getItem("corpId")}},created:function(){if(2==localStorage.getItem("isMasterAccount")){var t=localStorage.getItem("permissionButton").split(","),e=this;-1!=t.indexOf("deleteCustomer-look")?e.tabKey="1":e.tabKey="2",e.$forceUpdate()}else this.tabKey="1"},methods:{changeTabs:function(t){this.tabKey=t},changeScroll:function(){document.getElementsByClassName("list")[0].scrollTo(0,0)},changeCorpId:function(t){this.corpId=t}}},D=A,C=(a("fbca"),Object(m["a"])(D,i,s,!1,null,"44e5f280",null));e["default"]=C.exports},cf00:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-d63d2828] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-d63d2828] .ant-form-item-control{margin-left:15px;margin-bottom:10px}#components-layout-demo-basic[data-v-d63d2828]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-d63d2828]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-d63d2828] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-d63d2828]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-d63d2828]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-d63d2828]{height:60px;width:100%;min-width:885px;line-height:60px;overflow:hidden}.content-msg[data-v-d63d2828]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-d63d2828]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-d63d2828]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-d63d2828]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-d63d2828],.list[data-v-d63d2828]{height:100%}.btn-primary[data-v-d63d2828]{margin-left:20px}.setting-day[data-v-d63d2828]{margin:10px}[data-v-d63d2828] .dark-row{background:#fafafa}[data-v-d63d2828] .light-row{background:#fff}[data-v-d63d2828] .ant-radio-button-wrapper{width:90px;margin:0;text-align:center}[data-v-d63d2828] .ant-input-number-handler-wrap{display:none}",""])},d803:function(t,e,a){var i=a("cf00");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("247a8af0",i,!0,{sourceMap:!1,shadowMode:!1})},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"},e81db:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-53470dae] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-53470dae] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-53470dae] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-53470dae] .ant-checkbox{float:right;margin-top:12px}.noMore[data-v-53470dae]{text-align:center;padding:10px 0;font-size:12px;color:#999}",""])},e828:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".list[data-v-44e5f280]{width:100%;max-height:100%;position:absolute;overflow-y:auto}[data-v-44e5f280] .ant-tabs-bar{margin:0}[data-v-44e5f280] .ant-tabs-top-content{padding-bottom:0}#components-layout-demo-basic[data-v-44e5f280]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-44e5f280]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:835px;width:100%;line-height:50px}#components-layout-demo-basic>.ant-layout[data-v-44e5f280]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-44e5f280]:last-child{margin:0}#components-layout-demo-basic .ant-layout-sider[data-v-44e5f280]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-44e5f280]{margin:0 20px 20px 20px;min-width:835px;width:100%;padding-right:40px}.tabBtn[data-v-44e5f280]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.activeBtn[data-v-44e5f280]{color:#1890ff;background:#fff}",""])},f34b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.key,staticClass:"tabBox"},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t所有分组\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t所有分组\n\t\t\t\t")])],1),a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeAllWords(t.checkedAll)}},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("\n\t\t\t全部\n\t\t")])],1),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.title&&""!=e.title?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")]):t._e()],1),e.children.length>0?a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(a){return t.changeTeamWords(e.children,e.checkedAll)}},model:{value:e.checkedAll,callback:function(a){t.$set(e,"checkedAll",a)},expression:"item.checkedAll"}},[t._v("\n\t\t\t\t全部\n\t\t\t")]):t._e(),t._l(e.children,(function(s,n){return a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeWords(s.id,i)}},model:{value:e.checked[n],callback:function(a){t.$set(e.checked,n,a)},expression:"item.checked[wordIndex]"}},[t._v("\n\t\t\t\t"+t._s(s.title)+"\n\t\t\t")])})),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-add",expression:"'sensitive-words-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px"},attrs:{icon:"plus"},on:{click:function(a){return t.createWord(e.id)}}},[t._v("\n\t\t\t\t新建敏感词\n\t\t\t")])],2):t._e()]})),t.groupList.length>0?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-group-add",expression:"'sensitive-words-group-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px","margin-right":"10px","margin-left":"16.7%"},attrs:{icon:"plus"},on:{click:t.addWordGroup}},[t._v("\n\t\t新建敏感词分组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建敏感词",confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t敏感词名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px 0px 10px 0","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个敏感词名称最多6个字。同时新建多个敏感词时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入敏感词（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{attrs:{title:"新建敏感词分组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],1)],2)},s=[],n=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),r=(a("ac4d"),a("8a81"),a("ac6a"),{name:"corpSensitiveWord",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{key:0,checkedAll:!1,corpId:t,groupList:[],word_arr:[],group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newWordList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:""}},watch:{hasChoose:{handler:function(t){var e=this;if("undefined"!=typeof t&&this.groupList.length){this.word_arr=JSON.parse(JSON.stringify(t));var a=0;this.checkedAll=!1,this.hasChoose.length>0?(this.hasChoose.map((function(t){e.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,s=void 0;try{for(var n,r=e.checked[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;o||(e.checkedAll=!1)}}catch(c){i=!0,s=c}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}}))})),this.groupList.map((function(t){a+=t.children.length})),a==this.hasChoose.length&&0!=a&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.groupList=JSON.parse(JSON.stringify(this.groupList)),this.key++}},deep:!0}},methods:{getWords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/word-group",{uid:localStorage.getItem("uid"),is_system:0});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checkedAll=!1,t.checked=[]})),this.checkedAll=!1,i=0,"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0?(this.word_arr=this.hasChoose,this.hasChoose.map((function(t){s.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,s=void 0;try{for(var n,r=e.checked[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;o||(e.checkedAll=!1)}}catch(c){i=!0,s=c}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}}))})),this.groupList.map((function(t){i+=t.children.length})),i==this.hasChoose.length&&0!=i&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.$forceUpdate());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAllWords:function(t){var e=this;t?(this.word_arr=[],this.groupList.map((function(t){t.children.map((function(t,a){e.word_arr.push(t.id)}))}))):this.word_arr=[],this.groupList=JSON.parse(JSON.stringify(this.groupList)),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeTeamWords:function(t,e){if(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e){var a=!0,i=!1,s=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;-1==this.word_arr.indexOf(o.id)&&this.word_arr.push(o.id)}}catch(m){i=!0,s=m}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}}else{var c=!0,l=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var u=h.value,g=this.word_arr.indexOf(u.id);g>-1&&this.word_arr.splice(g,1)}}catch(m){l=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(l)throw d}}}null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeWords:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);this.word_arr.includes(a)?this.word_arr.remove(a):this.word_arr.push(a),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},createWord:function(t){this.group_id=t,this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>6)return e.$message.error("每个敏感词最多6个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newWordList.push(t.split(" ")[a])}e.addWords(),e.inputValue="",e.newWordList=[],e.confirmLoading3=!1},addWords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/set",{uid:localStorage.getItem("uid"),group_id:this.group_id,title:this.newWordList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getWords(),this.checkedAll=!1,this.inputValue="",this.newWordList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addWordGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName=""},handleOk2:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:return this.confirmLoading=!0,t.next=8,this.axios.post("limit-word/group-add",{uid:localStorage.getItem("uid"),title:this.teamName});case 8:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.teamName="",this.groupVisible=!1,this.getWords()),this.confirmLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getWords()}}),o=r,c=(a("467b"),a("2877")),l=Object(c["a"])(o,i,s,!1,null,"e8503c8c",null);e["a"]=l.exports},fbca:function(t,e,a){"use strict";var i=a("282a"),s=a.n(i);s.a}}]);