(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c8fa604"],{"0cfc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabBox"},[a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.groupList.length&&1==t.isNotAdd,expression:"groupList.length == 0 && isNotAdd == 1"}]},[a("span",{attrs:{slot:"description"},slot:"description"},[t._v("\n\t\t\t尚未创建标签，无法选择标签\n\t\t")])]),t._l(t.groupList,(function(e,s){return[t.isMore||!t.isMore&&s<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.name&&""!=e.name?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]):t._e()],1),t._l(e.data,(function(i,n){return a("span",[e.disabled[n]?t._e():a("a-checkable-tag",{on:{change:function(e){return t.changeTags(i.id,s)}},model:{value:e.checked[n],callback:function(a){t.$set(e.checked,n,a)},expression:"item.checked[tagIndex]"}},[t._v("\n\t\t\t\t\t"+t._s(i.tagname)+"\n\t\t\t\t")]),e.disabled[n]&&1==t.isDisabled?a("a-button",{staticStyle:{margin:"5px","line-height":"26px","font-size":"12px",height:"auto !important",padding:"0 7px"},attrs:{disabled:e.disabled[n]&&1==t.isDisabled}},[t._v("\n\t\t\t\t\t"+t._s(i.tagname)+"\n\t\t\t\t")]):t._e()],1)})),1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-add",expression:"'client-tag-add'"}],staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:function(a){return t.createTag(e.id)}}},[t._v("\n\t\t\t\t新建标签\n\t\t\t")]):t._e()],2):t._e()]})),t.groupList.length>0&&1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-group-add",expression:"'client-tag-group-add'"}],staticStyle:{"font-size":"13px",height:"26px","margin-right":"10px","margin-left":"16.7%",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:t.addTagGroup}},[t._v("\n\t\t新建标签组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建标签",zIndex:99999,confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{staticClass:"add-tag-group",attrs:{zIndex:99999,title:"新建标签组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("分组名称\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],2),a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}})],2)],1)],2)},i=[],n=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),r=(a("c5f6"),{name:"chooseDepartment",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}},isDisabled:{type:Number,default:0},disabledTag:{type:Array,default:function(){}},isNotAdd:{type:Number,default:0},id:{type:String,default:""}},data:function(){return{corpId:"",groupList:[],tag_arr:[],tag_ids:"",group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newTagList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:"",inputValue2:"",newTagList2:[]}},watch:{hasChoose:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.tag_arr=t,this.tag_ids=t.join(),this.hasChoose.map((function(t){e.groupList.map((function(e){e.data.map((function(a,s){t==a.id&&(e.checked[s]=!0)}))}))})),0==t.length&&this.groupList.map((function(t){t.checked=[]})),this.$forceUpdate())},deep:!0},id:{handler:function(t){""!=typeof t&&(this.corpId=t,this.getTags())},deep:!0},disabledTag:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.disabledTag.map((function(t){e.groupList.map((function(e){e.data.map((function(a,s){t==a.id&&(e.disabled[s]=!0)}))}))})),this.$forceUpdate())},deep:!0}},methods:{getTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/tag-group",{corp_id:this.corpId||localStorage.getItem("corpId"),is_not_add:this.isNotAdd});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checked=[],t.disabled=[]})),"undefined"!=typeof this.disabledTag&&this.disabledTag.length>0&&this.disabledTag.map((function(t){s.groupList.map((function(e){e.data.map((function(a,s){t==a.id&&(e.disabled[s]=!0)}))}))})),"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0&&(this.tag_arr=this.hasChoose,this.tag_ids=this.hasChoose.join(),this.hasChoose.map((function(t){s.groupList.map((function(e){e.data.map((function(a,s){t==a.id&&(e.checked[s]=!0)}))}))})),this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);if(this.tag_arr.includes(a))this.tag_arr.remove(a);else if(this.tag_arr.length+1>9999){this.$message.warning("不可选中，客户标签数量上限9999个");for(var s=0;s<this.groupList[e].data.length;s++)this.groupList[e].data[s].id==a&&(this.groupList[e].checked[s]=!1)}else this.tag_arr.push(a);this.$forceUpdate(),this.tag_ids=this.tag_arr.join(),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.tag_ids)},createTag:function(t){this.group_id=t;var e=0;if(this.groupList.map((function(t){e+=t.data.length})),e>=9999)return this.$message.warning("标签数量已超过上限9999个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;e.newTagList=[];for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>15)return e.$message.error("每个标签最多15个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newTagList.push(t.split(" ")[a])}e.addTags(),e.inputValue="",e.newTagList=[],e.confirmLoading3=!1},addTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,type:0,group_id:this.group_id,name:this.newTagList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addTagGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName="",this.newTagList2=[],this.inputValue2=""},handleOk2:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:if(""!=this.inputValue2){t.next=10;break}return this.$message.warning("标签名称不能为空"),t.abrupt("return",!1);case 10:this.newTagList2=[],e=JSON.parse(JSON.stringify(this.inputValue2)).split(" "),a=0;case 13:if(!(a<e.length)){t.next=24;break}if(!(e[a].length>15)){t.next=20;break}return this.$message.error("每个标签最多15个字"),this.inputValue2="",t.abrupt("return",!1);case 20:e[a].length>0&&this.newTagList2.push(e[a]);case 21:a++,t.next=13;break;case 24:return this.confirmLoading=!0,t.next=27,this.axios.post("work-tag-group/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,name:this.teamName,type:0,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),tag_name:this.newTagList2});case 27:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):(this.teamName="",this.newTagList2=[],this.inputValue2="",this.groupVisible=!1,this.getTags()),this.confirmLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.corpId=this.id||localStorage.getItem("corpId"),this.getTags()}}),o=r,l=(a("d22e"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"1c74f8e2",null);e["a"]=c.exports},"19be":function(t,e){t.exports="data:image/gif;base64,R0lGODlhagAgAKIGAPb4/Ozx+MfW6pCt1kZ2u////wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjM3MjIyN0VCRDUwMTFFNkJBMTVEOEEwNDNEQ0JCMTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjM3MjIyN0ZCRDUwMTFFNkJBMTVEOEEwNDNEQ0JCMTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzcyMjI3Q0JENTAxMUU2QkExNUQ4QTA0M0RDQkIxNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MzcyMjI3REJENTAxMUU2QkExNUQ4QTA0M0RDQkIxNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUeAAYALAAAAABqACAAAANQWLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru9870OAoDD4mw2HRdlRmIwtic3XExCVPquuKbal3Xq/4LB4TC6bz+i0es1mJQAAIfkEBR4ABgAsHQAOAAgACAAAAwgYutz+MMqYAAAh+QQFHgAGACwxAA4ACAAIAAADCCi63P4wypgAACH5BAUeAAYALEUADgAIAAgAAAMIOLrc/jDKmAAAIfkEBR4ABgAsWQAOAAgACAAAAwhIutz+MMqYAAAh+QQFHgAGACwJAA4AWAAIAAADGli63P4wykmrvTjrzbv/YCiOZGmeaKqubFskADs="},"1c4c":function(t,e,a){"use strict";var s=a("9b43"),i=a("5ca1"),n=a("4bf8"),r=a("1fa8"),o=a("33a4"),l=a("9def"),c=a("f1ae"),h=a("27ee");i(i.S+i.F*!a("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,i,d,p=n(t),u="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,f=void 0!==g,_=0,v=h(p);if(f&&(g=s(g,m>2?arguments[2]:void 0,2)),void 0==v||u==Array&&o(v))for(e=l(p.length),a=new u(e);e>_;_++)c(a,_,f?g(p[_],_):p[_]);else for(d=v.call(p),a=new u;!(i=d.next()).done;_++)c(a,_,f?r(d,g,[i.value,_],!0):i.value);return a.length=_,a}})},"1f88":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("div",{attrs:{id:"components-layout-demo-basic"}},[s("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[s("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[s("a-layout-header",[t._v("客户管理")]),s("a-layout-content",[s("div",{staticStyle:{"margin-top":"20px"}},[s("span",{staticClass:"tabBtn",class:{activeBtn:1==t.tabKey},on:{click:function(e){return t.changeTab(1)}}},[t._v("企微客户")]),s("span",{staticClass:"tabBtn",class:{activeBtn:2==t.tabKey},on:{click:function(e){return t.changeTab(2)}}},[t._v("非企微客户")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabKey,expression:"tabKey == 1"}],staticStyle:{padding:"15px 20px",background:"#FFF"}},[s("div",{staticClass:"content-msg"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t1、成员在外部会话中，可通过侧边栏打开【客户详情页】页面，也可以点击外部联系人（客户）头像进入到系统页面【客户信息】，再打开【客户详情页】页面。"),s("a",{staticClass:"el-link el-link--primary",attrs:{href:"https://support.qq.com/products/312071/faqs/90048",target:"_blank"}},[s("span",{staticClass:"el-link--inner"},[t._v("查看教程")])])]),s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t2、在职员工/已离职员工所持有的客户数分配走后，在客户列表中不再显示原归属员工的客户。\n\t\t\t\t\t\t\t\t")]),s("p",{staticStyle:{"margin-bottom":"0px",color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t3、如何判断粉丝是否为企业微信的外部联系人？"),s("a",{staticClass:"el-link el-link--primary",attrs:{href:"https://support.qq.com/products/312071/faqs/90057",target:"_blank"}},[s("span",{staticClass:"el-link--inner"},[t._v("点击查看")])])]),s("p",{staticStyle:{"margin-bottom":"0px",color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t4、为了避免销售人员长时间沟通无果或是恶意保护占有客户资源，在达到客户回收条件时，需要将企微客户分配/共享给其他员工，进行跟踪，从而提高跟进效率，有效利用客户资源，则在【客户公海】--【企微客户】列表里生成一条该企微客户数据。\n\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"content-hd"},[s("div",{staticStyle:{"background-color":"#FFFFFF",padding:"20px 0 10px 0"}},[s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户类型：")]),s("a-cascader",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{options:t.customerType,"change-on-select":"","show-search":{filter:t.filter},placeholder:"请选择"},model:{value:t.corpType,callback:function(e){t.corpType=e},expression:"corpType"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("关键词：")]),s("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"客户姓名/昵称/备注/公司名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("手机号码：")]),s("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{value:t.phoneNumber,placeholder:"请输入手机号码"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)},change:t.phoneChange}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("城市区域：")]),s("a-cascader",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{options:t.cityData,placeholder:"请选择区域"},on:{change:t.onChange},model:{value:t.province1,callback:function(e){t.province1=e},expression:"province1"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户性别：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.sexValue,callback:function(e){t.sexValue=e},expression:"sexValue"}},[s("a-select-option",{attrs:{value:"-1"}},[t._v("全部")]),s("a-select-option",{attrs:{value:"1"}},[t._v("男")]),s("a-select-option",{attrs:{value:"2"}},[t._v("女")]),s("a-select-option",{attrs:{value:"3"}},[t._v("未知")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("是否粉丝：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.is_fans,callback:function(e){t.is_fans=e},expression:"is_fans"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("是")]),s("a-select-option",{attrs:{value:2}},[t._v("否")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户来源：")]),s("a-tree-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{allowClear:!0,dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:t.wayList,placeholder:"全部来源",treeDefaultExpandAll:""},on:{change:t.handleChangeAddWay},model:{value:t.add_way,callback:function(e){t.add_way=e},expression:"add_way"}}),"way"==t.add_way||"redWay"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==this.add_way?s("span",{staticStyle:{margin:"0 10px 0 5px"}},[t._v("——")]):t._e(),"way"==t.add_way||"redWay"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==this.add_way?s("a-select",{staticStyle:{width:"283px","margin-right":"5px"},attrs:{allowClear:"","show-search":"",placeholder:"活码搜索","show-arrow":!0,optionFilterProp:"children"},model:{value:t.way_id,callback:function(e){t.way_id=e},expression:"way_id"}},t._l(t.codeList,(function(e){return s("a-select-option",{key:e.key,attrs:{value:e.value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1):t._e()],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("公海池认领：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.other_way,callback:function(e){t.other_way=e},expression:"other_way"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("是")]),s("a-select-option",{attrs:{value:0}},[t._v("否")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("跟进状态：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{dropdownStyle:t.style,placeholder:"全部状态"},model:{value:t.follow_status,callback:function(e){t.follow_status=e},expression:"follow_status"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部状态")]),t._l(t.follows,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.title)),0==e.status?s("span",[t._v("（已删除）")]):t._e()])}))],2)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("选择群聊：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChatVisible}},[t.chooseNum1>0?s("span",[t._v("已选择"+t._s(t.chooseNum1)+"个群")]):s("span",[t._v("选择群聊")])])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户持群数：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.chat_type,callback:function(e){t.chat_type=e},expression:"chat_type"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("无群")]),s("a-select-option",{attrs:{value:2}},[t._v("一个")]),s("a-select-option",{attrs:{value:3}},[t._v("多个")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("是否保护：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.is_protect,callback:function(e){t.is_protect=e},expression:"is_protect"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("已保护")]),s("a-select-option",{attrs:{value:0}},[t._v("未保护")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("部门成员：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?s("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):s("span",[t._v("选择部门成员")])])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("添加时间：")]),s("a-range-picker",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime},model:{value:t.joinTime,callback:function(e){t.joinTime=e},expression:"joinTime"}}),s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff}},[t._v("查找")]),s("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.reset}},[t._v("清空")]),s("span",{staticStyle:{"margin-right":"5px",color:"#1890FF",cursor:"pointer"},on:{click:t.seniorSelect}},[t._v("更多筛选")])],1)]),s("div",{staticStyle:{height:"40px","line-height":"40px","margin-top":"6px"}},[t.showCustomData?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"#1890FF"}},[t._v(t._s(t.total))]),t._v("\n\t\t\t\t\t\t\t\t\t位客户，实际客户\n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"#1890FF"}},[t._v(t._s(t.uniqueCount))]),t._v("\n\t\t\t\t\t\t\t\t\t位。\n\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-button",{staticClass:"btn-primary1",staticStyle:{width:"140px"},attrs:{icon:"swap"},on:{click:t.lookUniqueCustom}},[t._v("\n\t\t\t\t\t\t\t\t\t\t查看重复客户\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sync-client",expression:"'sync-client'"}],staticClass:"btn-primary1",attrs:{icon:"reload"},on:{click:t.confirm}},[t._v("\n\t\t\t\t\t\t\t\t\t\t同步客户\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-remove-tag",expression:"'client-remove-tag'"}],staticClass:"btn-primary1",attrs:{type:"primary",icon:"tags"},on:{click:t.showModal1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t移除标签\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-add-tag",expression:"'client-add-tag'"}],staticClass:"btn-primary1",attrs:{type:"primary",icon:"tags"},on:{click:t.showModal}},[t._v("\n\t\t\t\t\t\t\t\t\t\t打标签\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-export",expression:"'client-export'"}],staticClass:"btn-primary1",attrs:{type:"primary",icon:"download"},on:{click:t.leadOut}},[t._v("\n\t\t\t\t\t\t\t\t\t\t导出客户\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-setOptions",expression:"'client-setOptions'"}],staticClass:"btn-primary1",attrs:{type:"primary",icon:"tool"},on:{click:t.setOptions}},[t._v("\n\t\t\t\t\t\t\t\t\t\t高级设置\n\t\t\t\t\t\t\t\t\t")]),s("a-modal",{attrs:{title:"为筛选出的所有客户移除标签",confirmLoading:t.confirmLoading,width:"800px"},on:{ok:t.handleOk1,cancel:t.cancelVisible2},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[t.fansTag&&t.fansTag.length>0?s("label",{staticStyle:{display:"block","margin-bottom":"10px",color:"#F56C6C"}},[t._v("显示的标签，是当前勾选上的所有客户的全部标签。")]):t._e(),s("a-checkbox-group",{on:{change:t.onChange3},model:{value:t.tagCheckValue1,callback:function(e){t.tagCheckValue1=e},expression:"tagCheckValue1"}},[s("a-row",t._l(t.fansTag,(function(e){return s("a-col",{key:e.tagname,staticStyle:{"margin-bottom":"10px"},attrs:{span:8}},[s("a-checkbox",{attrs:{value:e.id}},[t._v(t._s(e.tagname))])],1)})),1),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.fansTag.length,expression:"fansTag.length == 0"}]},[s("img",{staticStyle:{display:"block",margin:"auto",width:"150px"},attrs:{src:a("cc70"),alt:""}}),s("p",{staticStyle:{"text-align":"center","margin-top":"20px"}},[t._v("没有可移除的标签")])])],1)],1),s("a-popconfirm",{attrs:{placement:"bottomRight",okText:"确认",cancelText:"取消"},on:{confirm:t.confirm}}),s("a-modal",{attrs:{title:"为筛选出的所有客户增加标签",confirmLoading:t.confirmLoading2,width:"800px"},on:{ok:t.handleOk,cancel:t.cancelVisible},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[s("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t选择分组\n\t\t\t\t\t\t\t\t\t\t\t")]),s("a-select",{staticStyle:{width:"180px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"所有分组",dropdownStyle:{overflow:"hidden"},allowClear:""},on:{change:t.changeGroup},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},[s("a-select-option",{attrs:{value:"-1"}},[t._v("所有分组")]),t._l(t.groupList,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2)],2),s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.tagLoading}},[s("a-checkbox-group",{key:t.tagCheckIndex,attrs:{defaultValue:t.tagCheckValue},on:{change:t.onChange2}},[s("a-row",t._l(t.tagsList,(function(e,a){return s("a-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:8}},[s("a-checkbox",{attrs:{value:e.id,disabled:t.disabled[a]}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.tagname)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)})),1)],1)],1),s("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.tagsList.length,expression:"tagsList.length == 0"}]}),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-add",expression:"'client-tag-add'"}],attrs:{icon:"plus",type:"primary"},on:{click:function(e){return t.showAddTagModal()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t新建标签\n\t\t\t\t\t\t\t\t\t\t")])],1),s("a-modal",{staticStyle:{height:"500px"},attrs:{title:"新建标签",confirmLoading:t.confirmLoading3},on:{ok:t.onSearch,cancel:t.addTagCancel},model:{value:t.addTagVisible,callback:function(e){t.addTagVisible=e},expression:"addTagVisible"}},[s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t选择分组\n\t\t\t\t\t\t\t\t\t\t\t")]),s("a-select",{staticStyle:{width:"180px"},attrs:{showSearch:"",optionFilterProp:"children",dropdownStyle:{overflow:"hidden"}},model:{value:t.editGroupId,callback:function(e){t.editGroupId=e},expression:"editGroupId"}},t._l(t.groupList,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],2),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t标签名称\n\t\t\t\t\t\t\t\t\t\t\t")]),s("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t\t\t\t\t\t\t\t\t")]),s("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1)],1)]),s("div",{staticClass:"content-bd"},[s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[s("a-table",{directives:[{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],attrs:{rowSelection:t.rowSelection,columns:t.columns,dataSource:t.customList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"customerInfo",fn:function(e,i,n){return s("div",{},[s("div",{staticStyle:{width:"240px",overflow:"hidden"}},[e.avatar?s("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:e.avatar}}):t._e(),e.avatar?t._e():s("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),s("div",{staticStyle:{float:"left","margin-left":"10px",width:"calc(100% - 52px)"}},[s("div",[s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)]),s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)])],2),"男性"==e.gender?s("a-icon",{staticStyle:{color:"#427EBA"},attrs:{type:"man"}}):t._e(),"女性"==e.gender?s("a-icon",{staticStyle:{color:"#ED4997"},attrs:{type:"woman"}}):t._e(),i.dialout_phone&&i.dialout_exten?s("img",{staticStyle:{width:"20px",height:"20px","margin-left":"2px"},attrs:{src:a("df74")}}):t._e()],1),s("div",[0==i.chat_name.length?s("div",{staticStyle:{width:"80px",color:"#999","font-size":"12px"}},[t._v("所在群：0个\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-popover",{attrs:{placement:"left"}},[s("template",{slot:"content"},[s("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"}},t._l(i.chat_name,(function(e,a){return s("div",{staticStyle:{"max-width":"500px",display:"block","margin-bottom":"5px"}},[s("span",{staticStyle:{display:"inline-block","font-weight":"700",width:"80px","text-align":"right","vertical-align":"top"}},[t._v("群"+t._s(a+1)+"：")]),s("span",{staticStyle:{width:"calc(100% - 110px)",display:"inline-block","margin-bottom":"3px","word-break":"break-all"}},[t._v(t._s(e.name)+"（"+t._s(e.join_time)+"）")])])})),0)]),i.chat_name.length>0?s("span",{staticStyle:{cursor:"pointer",width:"80px",color:"#999","font-size":"12px"}},[t._v("所在群："+t._s(i.chat_name.length)+"个\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)],1),i.wx_name&&""!=i.wx_name?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("公众号："+t._s(i.wx_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.nickname&&""!=i.customerInfo.nickname?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t姓名："+t._s(i.customerInfo.nickname)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.area&&""!=i.customerInfo.area?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t地区："+t._s(i.customerInfo.area)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.phone&&""!=i.customerInfo.phone&&1!=t.is_hide_phone?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t手机："+t._s(i.customerInfo.phone)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),1==i.is_protect?s("div",[s("a-tag",{attrs:{color:"green"}},[t._v("已保护")])],1):t._e()])],1)])}},{key:"add_way_info",fn:function(e,a,i){return s("div",{},[""!=a.add_other_info?s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_other_info)+"\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),""!=a.add_way_info?s("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("-\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_way_info)+"\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.add_way_title))])]),""!=a.add_way_title?s("div",{staticStyle:{cursor:"pointer","max-width":"100px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t- "+t._s(a.add_way_title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2),1==a.other_way?s("div",[s("a-tag",{attrs:{color:"orange"}},[t._v("公海池")])],1):t._e()],1)}},{key:"tag_name",fn:function(e,a,i){return s("div",{},[s("div",{staticStyle:{width:"180px"}},[0==a.tag_name.length&&0==a.per_name.length?s("span",[t._v("--")]):t._e(),0==a.per_name.length&&a.tag_name.length>0&&a.tag_name.length<5?s("span",t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1):t._e(),0==a.per_name.length&&a.tag_name.length>5?s("span",[s("a-popover",[s("span",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"over-width"},t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1)]),t._l(a.tag_name,(function(e,a){return s("span",[a<5?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))]):t._e()],1)})),s("div",[t._v("等"+t._s(a.tag_name.length)+"个标签")])],2)],1):t._e(),0==a.tag_name.length&&a.per_name.length>0?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t私有标签："),t._l(a.per_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])}))],2):t._e(),a.tag_name.length>0&&a.per_name.length>0?[s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t公有标签：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2),s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t私有标签：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),t._l(a.per_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2)]:t._e()],2)])}},{key:"claimTip",fn:function(e,a,i){return s("div",{},[s("span",""==e?[t._v("--")]:[t._v("请尽快在"),s("span",{staticStyle:{color:"red"}},[t._v(t._s(e))]),t._v("添加跟进记录，否则逾期后需要共享给同事")])])}},{key:"memberInfo",fn:function(e,a,i){return s("div",{},t._l(e,(function(e){return s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.member)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),s("div",[t._v(t._s(e.remark))]),s("div",[t._v("（"+t._s(e.create_time)+"）"),2==e.del_type?s("span",[t._v("（已被客户删除）")]):t._e()])])})),0)}},{key:"followStatus",fn:function(e,a,i){return s("div",{},[s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t最后跟进时间："+t._s(a.customerInfo.update_time||"--")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("p",{staticStyle:{"margin-bottom":"0px",color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t输单原因："+t._s(a.customerInfo.lose_msg||"--")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),""!=a.customerInfo.update_time?s("span",{staticStyle:{cursor:"pointer"}},[s("span",[t._v(t._s(a.customerInfo.follow_status))])]):t._e()],2),""==a.customerInfo.update_time?s("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(a.customerInfo.follow_status))]):t._e(),s("div",[t._v("（跟进"),s("span",{staticStyle:{color:"#1890FF"}},[t._v(t._s(a.follow_num))]),t._v("次）")])],1)}},{key:"phone",fn:function(e,a,i){return s("div",{},[a.customerInfo.phone&&""!=a.customerInfo.phone?s("span",[t._v(t._s(a.customerInfo.phone))]):s("span",[t._v("--")])])}},{key:"action",fn:function(e,a,i){return s("span",{},[t.isShowMoreBtn?s("a-dropdown",[s("a-menu",{attrs:{slot:"overlay"},on:{click:function(e){return t.handleMenuClick(e,1,a,i)}},slot:"overlay"},[0==a.is_protect&&1==a.is_reclaim&&t.is_assign?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-assign",expression:"'client-assign'"}],key:"1"},[t._v("\n                                                转交给成员\n                                              ")]):t._e(),0==a.is_protect&&1==a.is_reclaim&&t.is_assign?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-backHighSea",expression:"'client-backHighSea'"}],key:"2"},[t._v("\n                                                退回公海\n                                              ")]):t._e(),0==a.is_protect&&1==a.is_show&&1==a.is_reclaim?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],key:"3"},[1!=a.is_rest?s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("永不进入公海池的客户数已达上限，无法再设置。")])]),s("span",{attrs:{disabled:1!=a.is_rest}},[t._v("设为保护对象")])],2):t._e(),1==a.is_rest?s("span",{attrs:{disabled:1!=a.is_rest}},[t._v("设为保护对象")]):t._e()],1):t._e(),1==a.is_protect?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],key:"4"},[""!=a.protect_str?s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.protect_str))])]),s("span",[t._v("取消保护")])],2):t._e(),""==a.protect_str?s("span",[t._v("取消保护")]):t._e()],1):t._e(),t.customList[i].customerInfo.merchant_type.length>0?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-bind",expression:"'client-bind'"}],key:"5"},[t._v("\n                                                客户绑定\n                                              ")]):t._e(),a.customerInfo.user_name.length>0?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-bind",expression:"'client-bind'"}],key:"6"},[t._v("\n                                                解绑绑定\n                                              ")]):t._e(),a.customerInfo.user_name.length>0?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"other-store",expression:"'other-store'"}],key:"7"},[t._v("\n                                                第三方店铺\n                                              ")]):t._e(),a.dialout_phone&&a.dialout_exten?s("a-menu-item",{key:"8",on:{click:function(e){return t.contact(a,0)}}},[t._v("\n                                                拨打电话\n                                              ")]):t._e()],1),s("a-button",{staticStyle:{"margin-bottom":"5px","margin-right":"5px"}},[t._v("更多操作")])],1):t._e(),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-info",expression:"'client-info'"}],staticStyle:{"margin-bottom":"5px","margin-right":"5px"},on:{click:function(e){return t.handleShowDetail(a.key)}}},[t._v("客户详情")])],1)}}])},[s("div",{attrs:{slot:"tag_name2"},slot:"tag_name2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t标签\n\t\t\t\t\t\t\t\t\t\t\t"),s("a-tooltip",{attrs:{placement:"bottom"}},[s("template",{slot:"title"},[s("div",[t._v("企业微信给客户打标签：分公有标签和私有标签")]),s("div",[t._v("1、公有标签：即企业标签。管理员创建，所有员工可见，在本系统定义为“公有标签”。")]),s("div",[t._v("2、私有标签：即个人标签。员工创建，仅自己可见。在本系统定义为“私有标签”）。")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),s("span",{attrs:{slot:"chat_time"},slot:"chat_time"},[t._v("\n\t\t\t\t\t\t                  上次单聊时间\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"bottom"}},[s("template",{slot:"title"},[s("span",[t._v("需开通消息存档功能， 且客户同意消息存档才可记录。")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("div",{staticStyle:{padding:"0 15px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{margin:"20px 0px","line-height":"32px"}},[s("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t当前页\n\t\t\t\t\t\t\t\t\t\t\t"),t.is_assign?s("a-dropdown",{attrs:{disabled:!(this.selectedRowKeys.length>0)}},[s("a-menu",{attrs:{slot:"overlay"},on:{click:function(e){return t.handleMenuClick(e,1)}},slot:"overlay"},[s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-assign",expression:"'client-assign'"}],key:"1"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t转交给成员\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-backHighSea",expression:"'client-backHighSea'"}],key:"2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t退回公海\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),t.is_assign?s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[t._v("客户转交\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1):t._e(),1==t.is_show&&1==t.is_rest?s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.setProtect(1)}}},[t._v("设为保护对象\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0&&1==t.is_cancel)},on:{click:function(e){return t.cancelProtect(1)}}},[t._v("取消保护\n\t\t\t\t\t\t\t\t\t\t\t")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",overflow:"hidden"}},[s("div",{staticClass:"pagination",staticStyle:{display:"inline-block",height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])])],1)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabKey,expression:"tabKey == 2"}],staticStyle:{padding:"15px 20px",background:"#FFF"}},[s("div",{staticClass:"content-msg"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t1、为了避免销售人员长时间沟通无果或是恶意保护占有客户资源，在其私有池里，当客户达到回收条件后，自动将该客户放回至【客户公海】--【非企微客户】列表。\n\t\t\t\t\t\t\t\t")]),s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t2、当被其他员工认领后，再进入到该认领员工的私有池里，即【客户管理】--【非企微客户】列表。\n\t\t\t\t\t\t\t\t")])]),s("div",{staticClass:"content-hd"},[s("div",{staticStyle:{display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},[s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px",width:"105px"}},[t._v("关键词：")]),s("a-input",{staticStyle:{width:"210px"},attrs:{placeholder:"客户姓名/手机号/微信号/QQ号/邮箱"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff2(e)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{width:"105px","margin-right":"5px"}},[t._v("客户来源：")]),s("a-select",{staticStyle:{width:"210px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择客户来源"},model:{value:t.addStatus,callback:function(e){t.addStatus=e},expression:"addStatus"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),t._l(t.selectList,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.match)+"\n\t\t\t\t\t\t\t\t\t\t\t")])}))],2)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("是否保护：")]),s("a-select",{staticStyle:{width:"210px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.is_protect2,callback:function(e){t.is_protect2=e},expression:"is_protect2"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("已保护")]),s("a-select-option",{attrs:{value:0}},[t._v("未保护")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("认领成员：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum4>0?s("span",[t._v("已选择"+t._s(t.chooseUserNum4)+"名成员，"+t._s(t.chooseDepartmentNum4)+"个部门")]):s("span",[t._v("选择部门成员")])])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px",width:"105px"}},[t._v("选择标签：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChooseTag}},[t.tags.length>0?s("span",[t._v("已选择"+t._s(t.tags.length)+"个标签")]):s("span",[t._v("选择标签")])])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("认领时间：")]),s("a-range-picker",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime2},model:{value:t.claimTime,callback:function(e){t.claimTime=e},expression:"claimTime"}})],1),s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff2}},[t._v("查找\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.reset2}},[t._v("清空")])],1),s("div",{staticStyle:{height:"40px","line-height":"40px","margin-top":"6px"}},[t.showCustomData?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"#1890FF"}},[t._v(t._s(t.total4))]),t._v("\n\t\t\t\t\t\t\t\t\t位客户\n\t\t\t\t\t\t\t\t")]):t._e(),s("span",{staticStyle:{float:"right"}},[s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-remove-tag",expression:"'client-remove-tag'"}],staticClass:"btn-primary2",attrs:{type:"primary",icon:"tags"},on:{click:t.showModal1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t移除标签\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-add-tag",expression:"'client-add-tag'"}],staticClass:"btn-primary2",attrs:{type:"primary",icon:"tags"},on:{click:t.showModal}},[t._v("\n\t\t\t\t\t\t\t\t\t\t打标签\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-import",expression:"'client-import'"}],staticClass:"btn-primary2",attrs:{type:"primary"},on:{click:t.recordCustomer}},[t._v("录入客户")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-import",expression:"'client-import'"}],staticClass:"btn-primary2",attrs:{type:"primary"},on:{click:t.importExcel}},[t._v("批量导入客户")])],1)])]),s("div",{staticClass:"content-bd"},[s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading4}},[s("a-table",{directives:[{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],attrs:{rowSelection:t.rowSelection,columns:t.noCustomerColumns,dataSource:t.noCustomerList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"name",fn:function(e,i,n){return s("div",{},[s("div",[t._v("姓名："+t._s(i.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),"男"==i.gender?s("a-icon",{staticStyle:{color:"#427EBA"},attrs:{type:"man"}}):t._e(),"女"==i.gender?s("a-icon",{staticStyle:{color:"#ED4997"},attrs:{type:"woman"}}):t._e(),i.dialout_phone&&i.dialout_exten?s("img",{staticStyle:{width:"20px",height:"20px","margin-left":"2px"},attrs:{src:a("df74")}}):t._e()],1),""!=i.phone?s("div",[t._v("手机号："+t._s(i.phone))]):t._e(),""!=i.wx_num?s("div",[t._v("微信号："+t._s(i.wx_num))]):t._e(),""!=i.qq?s("div",[t._v("QQ号："+t._s(i.qq))]):t._e(),""!=i.email?s("div",[t._v("邮箱："+t._s(i.email))]):t._e(),1==i.is_protect?s("div",[s("a-tag",{attrs:{color:"green"}},[t._v("已保护")])],1):t._e()])}},{key:"user_name",fn:function(e,a,i){return s("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.user_name)+"\n\t\t\t\t\t\t\t\t\t\t\t")])}},{key:"claimTip",fn:function(e,a,i){return s("div",{},[""==a.claimTip?s("div",[t._v("--")]):s("div",{staticStyle:{"max-width":"150px"}},[t._v("请尽快在"),s("span",{staticStyle:{color:"red"}},[t._v(t._s(a.claimTip))]),t._v("添加跟进记录\n\t\t\t\t\t\t\t\t\t\t\t\t，逾期后将自动变更为公海客户\n\t\t\t\t\t\t\t\t\t\t\t")])])}},{key:"tag_name",fn:function(e,a,i){return s("div",{},[0==a.tag_name.length?s("div",[t._v("--")]):t._e(),a.tag_name.length>0&&a.tag_name.length<5?s("span",t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1):t._e(),a.tag_name.length>5?s("span",[s("a-popover",[s("span",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"over-width"},t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1)]),t._l(a.tag_name,(function(e,a){return s("span",[a<5?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))]):t._e()],1)})),s("div",[t._v("等"+t._s(a.tag_name.length)+"个标签")])],2)],1):t._e()])}},{key:"follow_status",fn:function(e,a,i){return s("div",{},[s("div",[t._v(t._s(a.follow_status))]),s("div",[t._v("（跟进"+t._s(a.follow_num)+"次）")])])}},{key:"action",fn:function(e,a,i){return s("span",{},[t.isShowMoreBtn?s("a-dropdown",[s("a-menu",{attrs:{slot:"overlay"},on:{click:function(e){return t.handleMenuClick(e,0,a,i)}},slot:"overlay"},[0==a.is_protect&&t.is_assign?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-assign",expression:"'client-assign'"}],key:"1"},[t._v("\n                                                转交给成员\n                                              ")]):t._e(),0==a.is_protect&&t.is_assign?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-backHighSea",expression:"'client-backHighSea'"}],key:"2"},[t._v("\n                                                退回公海\n                                              ")]):t._e(),0==a.is_protect&&1==a.is_show?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],key:"3"},[1!=a.is_rest?s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("永不进入公海池的客户数已达上限，无法再设置。")])]),s("span",{attrs:{disabled:1!=a.is_rest}},[t._v("设为保护对象")])],2):t._e(),1==a.is_rest?s("span",{attrs:{disabled:1!=a.is_rest}},[t._v("设为保护对象")]):t._e()],1):t._e(),1==a.is_protect?s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],key:"4"},[""!=a.protect_str?s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.protect_str))])]),s("span",[t._v("取消保护")])],2):t._e(),""==a.protect_str?s("span",[t._v("取消保护")]):t._e()],1):t._e(),a.dialout_phone&&a.dialout_exten?s("a-menu-item",{key:"8",on:{click:function(e){return t.contact(a,1)}}},[t._v("\n                                                拨打电话\n                                              ")]):t._e()],1),s("a-button",{staticStyle:{"margin-bottom":"5px","margin-right":"5px"}},[t._v("更多操作")])],1):t._e(),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-info",expression:"'client-info'"}],staticStyle:{"margin-bottom":"5px","margin-right":"5px"},on:{click:function(e){return t.handleShowDetail2(a.key)}}},[t._v("客户详情")])],1)}}])}),s("div",{staticStyle:{padding:"0 15px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.total4>0,expression:"total4 > 0"}],staticStyle:{margin:"20px 0px","line-height":"32px"}},[s("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t当前页\n\t\t\t\t\t\t\t\t\t\t\t"),t.is_assign?s("a-dropdown",{attrs:{disabled:!(this.selectedRowKeys.length>0)}},[t.is_assign?s("a-menu",{attrs:{slot:"overlay"},on:{click:function(e){return t.handleMenuClick(e,0)}},slot:"overlay"},[s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-assign",expression:"'client-assign'"}],key:"1"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t转交给成员\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("a-menu-item",{directives:[{name:"has",rawName:"v-has",value:"client-backHighSea",expression:"'client-backHighSea'"}],key:"2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t退回公海\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),t.is_assign?s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[t._v("客户转交\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1):t._e(),1==t.is_show&&1==t.is_rest?s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.setProtect(0)}}},[t._v("设为保护对象\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-protect",expression:"'client-protect'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0&&1==t.is_cancel)},on:{click:function(e){return t.cancelProtect(0)}}},[t._v("取消保护\n\t\t\t\t\t\t\t\t\t\t\t")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total4>0,expression:"total4 > 0"},{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",overflow:"hidden"}},[s("div",{staticStyle:{display:"inline-block","margin-right":"10px","line-height":"32px","vertical-align":"top",float:"left"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total4))]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"pagination",staticStyle:{display:"inline-block",height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total4,showSizeChanger:"",showQuickJumper:t.quickJumper4,current:t.page4,pageSize:t.pageSize4,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage4,showSizeChange:t.showSizeChange4}})],1)])])],1)],1)]),s("chooseDepartment",{ref:"user",attrs:{id:t.corpId,show:t.showModalDepartment,chooseNum:1==t.tabKey?t.customVisible?t.chooseNum2:t.chooseNum:t.chooseNum4,callback:t.modalVisibleChange3,is_special:1}}),s("a-modal",{attrs:{title:"选择标签",width:"700px !important"},on:{cancel:t.cancleChooseTag},model:{value:t.chooseTagVisible,callback:function(e){t.chooseTagVisible=e},expression:"chooseTagVisible"}},[s("template",{slot:"footer"},[s("a-button",{on:{click:t.cancleChooseTag}},[t._v("关闭")]),s("a-button",{on:{click:t.handleChoose}},[t._v("确定")])],1),s("a-select",{staticStyle:{width:"270px","margin-bottom":"20px"},attrs:{dropdownStyle:t.style,allowClear:!1,placeholder:"请选择标签"},model:{value:t.tagStyle2,callback:function(e){t.tagStyle2=e},expression:"tagStyle2"}},[s("a-select-option",{attrs:{value:"1"}},[t._v("多标签或关系")]),s("a-select-option",{attrs:{value:"2"}},[t._v("多标签且关系")])],1),t.chooseTagVisible?s("corpChooseTag",{ref:"chooseTag",attrs:{id:t.corpId,isNotAdd:1,callback:t.modalVisibleChange,hasChoose:t.wordIds}}):t._e()],2),s("a-drawer",{staticClass:"scroll1",attrs:{destroyOnClose:!0,title:"更多筛选",placement:"right",closable:!1,width:"900px!important",visible:t.seniorVisible},on:{close:t.onClose}},[s("div",{staticClass:"sider-one"},[s("span",{staticClass:"sider-one-txt"},[t._v("客户类型")]),s("a-cascader",{staticStyle:{"margin-right":"5px",width:"265px","text-align":"left"},attrs:{options:t.customerType,"change-on-select":"","show-search":{filter:t.filter},placeholder:"请选择"},model:{value:t.corpType,callback:function(e){t.corpType=e},expression:"corpType"}}),s("span",{staticClass:"sider-one-txt"},[t._v("部门成员")]),s("a-button",{staticStyle:{width:"270px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?s("span",{staticStyle:{"text-align":"center"}},[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):s("span",{staticStyle:{"text-align":"center",width:"100px"}},[t._v("选择部门成员")])])],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("添加时间")]),s("a-range-picker",{staticStyle:{width:"270px","text-align":"center"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime},model:{value:t.joinTime,callback:function(e){t.joinTime=e},expression:"joinTime"}}),s("span",{staticClass:"sider-one-txt"},[t._v("最后跟进时间")]),s("a-range-picker",{staticStyle:{width:"270px","margin-right":"5px","text-align":"center"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeFollowTime},model:{value:t.followTime,callback:function(e){t.followTime=e},expression:"followTime"}})],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("上次单聊时间")]),s("a-range-picker",{staticStyle:{width:"270px","margin-right":"5px","text-align":"center"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeChatTime},model:{value:t.chatTime,callback:function(e){t.chatTime=e},expression:"chatTime"}}),s("a-tooltip",{attrs:{placement:"bottom"}},[s("template",{slot:"title"},[s("span",[t._v("需开通消息存档功能， 且客户同意消息存档才可记录。")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("关键词")]),s("a-input",{staticStyle:{width:"270px"},attrs:{placeholder:"客户姓名/昵称/备注/公司名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}}),s("span",{staticClass:"sider-one-txt"},[t._v("手机号码")]),s("a-input",{staticStyle:{width:"270px"},attrs:{value:t.phoneNumber,placeholder:"请输入手机号码"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)},change:t.phoneChange}})],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("跟进次数")]),s("a-input-group",{staticStyle:{width:"270px","line-height":"32px"},attrs:{compact:""}},[s("a-input",{staticStyle:{width:"120px","text-align":"center"},attrs:{placeholder:"最小值",value:t.followNum1},on:{change:t.followMinNumChange,blur:t.followNumBlur}}),s("a-input",{staticStyle:{width:"30px","border-left":"0","pointer-events":"none",backgroundColor:"#FFF"},attrs:{placeholder:"~",disabled:""}}),s("a-input",{staticStyle:{width:"120px","text-align":"center","border-left":"0"},attrs:{placeholder:"最大值",value:t.followNum2},on:{change:t.followMaxNumChange,blur:t.followNumBlur}})],1),s("span",{staticClass:"sider-one-txt"},[t._v("绑定店铺")]),s("a-select",{staticStyle:{width:"270px"},attrs:{allowClear:"","show-search":"",optionFilterProp:"children",placeholder:"请选择店铺"},model:{value:t.signId,callback:function(e){t.signId=e},expression:"signId"}},t._l(t.bindStoreList,(function(e){return s("a-select-option",{attrs:{value:e.key}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.username)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("性别")]),s("a-form-item",{staticStyle:{width:"270px",display:"inline-block","vertical-align":"middle"},attrs:{required:""}},[s("a-radio-group",{on:{change:t.sexClick},model:{value:t.sexValue,callback:function(e){t.sexValue=e},expression:"sexValue"}},[s("a-radio-button",{staticStyle:{"border-radius":"4px","text-align":"center"},attrs:{value:"-1"}},[t._v("全部\n\t\t\t\t\t\t\t\t\t\t")]),s("a-radio-button",{staticStyle:{"border-radius":"4px","text-align":"center"},attrs:{value:"1"}},[t._v("男\n\t\t\t\t\t\t\t\t\t\t")]),s("a-radio-button",{staticStyle:{"border-radius":"4px","text-align":"center"},attrs:{value:"2"}},[t._v("女\n\t\t\t\t\t\t\t\t\t\t")]),s("a-radio-button",{staticStyle:{"border-radius":"4px","text-align":"center"},attrs:{value:"3"}},[t._v("未知\n\t\t\t\t\t\t\t\t\t\t")])],1)],1),s("span",{staticClass:"sider-one-txt"},[t._v("是否粉丝")]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.is_fans,callback:function(e){t.is_fans=e},expression:"is_fans"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("是")]),s("a-select-option",{attrs:{value:2}},[t._v("否")])],1)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("区域")]),s("a-cascader",{staticStyle:{width:"270px","text-align":"left"},attrs:{options:t.cityData,placeholder:"请选择区域"},on:{change:t.onChange},model:{value:t.province1,callback:function(e){t.province1=e},expression:"province1"}}),s("span",{staticClass:"sider-one-txt"},[t._v("跟进状态")]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.follow_status,callback:function(e){t.follow_status=e},expression:"follow_status"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),t._l(t.follows,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.title)),0==e.status?s("span",[t._v("（已删除）")]):t._e()])}))],2)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("行业")]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,allowClear:"",placeholder:"请选择行业"},on:{change:t.changeTrade},model:{value:t.trade,callback:function(e){t.trade=e},expression:"trade"}},[t._l(t.tradeList,(function(e,a){return[s("a-select-option",{attrs:{value:e}},[t._v(t._s(e))])]}))],2),s("span",{staticClass:"sider-one-txt"},[t._v("客户持群数")]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.chat_type,callback:function(e){t.chat_type=e},expression:"chat_type"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("无群")]),s("a-select-option",{attrs:{value:2}},[t._v("一个")]),s("a-select-option",{attrs:{value:3}},[t._v("多个")])],1)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("选择群聊")]),s("a-button",{staticStyle:{width:"270px"},on:{click:t.showChatVisible}},[t.chooseNum1>0?s("span",{staticStyle:{"text-align":"center"}},[t._v("已选择"+t._s(t.chooseNum1)+"个群")]):s("span",{staticStyle:{"text-align":"center"}},[t._v("选择群聊")])]),s("span",{staticClass:"sider-one-txt"},[t._v("离职分配")]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.leave,callback:function(e){t.leave=e},expression:"leave"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("离职未分配")]),s("a-select-option",{attrs:{value:2}},[t._v("离职已分配")])],1)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("公海池认领")]),s("a-select",{staticStyle:{width:"270px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.other_way,callback:function(e){t.other_way=e},expression:"other_way"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("是")]),s("a-select-option",{attrs:{value:0}},[t._v("否")])],1),s("span",{staticClass:"sider-one-txt"},[t._v("是否保护")]),s("a-select",{staticStyle:{width:"270px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.is_protect,callback:function(e){t.is_protect=e},expression:"is_protect"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("已保护")]),s("a-select-option",{attrs:{value:0}},[t._v("未保护")])],1)],1),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("客户来源")]),s("a-tree-select",{staticStyle:{width:"270px","margin-right":"5px"},attrs:{allowClear:!0,dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:t.wayList,placeholder:"全部来源",treeDefaultExpandAll:""},on:{change:t.handleChangeAddWay},model:{value:t.add_way,callback:function(e){t.add_way=e},expression:"add_way"}}),"way"==t.add_way||"redWay"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==this.add_way?s("label",{staticStyle:{margin:"0 10px 0 5px",color:"rgba(0,0,0,0.35)"}},[t._v("——")]):t._e(),"way"==t.add_way||"redWay"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==this.add_way?s("a-select",{staticStyle:{width:"262px","margin-right":"5px"},attrs:{allowClear:"","show-search":"",placeholder:"活码搜索","show-arrow":!0,optionFilterProp:"children"},model:{value:t.way_id,callback:function(e){t.way_id=e},expression:"way_id"}},t._l(t.codeList,(function(e){return s("a-select-option",{key:e.key,attrs:{value:e.value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t")])})),1):t._e()],1),s("div",{staticClass:"sider-three"},t._l(t.defineField,(function(e,a){return 2==e.type||3==e.type?s("div",{staticStyle:{display:"inline-block"}},[s("span",{staticClass:"sider-one-txt"},[t._v(t._s(e.title))]),s("a-select",{staticStyle:{width:"270px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.fieldData[a].match,callback:function(e){t.$set(t.fieldData[a],"match",e)},expression:"fieldData[index].match"}},[s("a-select-option",{attrs:{value:""}},[t._v("全部")]),t._l(e.optionVal,(function(e){return s("a-select-option",{attrs:{value:e}},[t._v(t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])}))],2)],1):t._e()})),0),s("div",{staticClass:"sider-two"},[s("span",{staticClass:"sider-one-txt"},[t._v("客户标签")]),s("a-select",{staticStyle:{width:"270px","margin-right":"5px"},attrs:{mode:"tags",size:"default",allowCear:!1,placeholder:"全部分组",showArrow:""},on:{change:t.blurChange},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return s("a-select-option",{key:String(e.id)},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t")])})),1),s("label",{staticStyle:{color:"rgba(0, 0, 0, 0.35)",margin:"0px 10px 0px 5px"}},[t._v("——")]),s("a-select",{staticStyle:{width:"270px","margin-bottom":"20px"},attrs:{dropdownStyle:t.style,allowClear:!1,placeholder:"请选择标签"},model:{value:t.tagStyle,callback:function(e){t.tagStyle=e},expression:"tagStyle"}},[s("a-select-option",{attrs:{value:"1"}},[t._v("多标签或关系")]),s("a-select-option",{attrs:{value:"2"}},[t._v("多标签且关系")])],1),s("div",{staticClass:"sider-tags",staticStyle:{"margin-bottom":"50px","margin-left":"105px"}},[s("a-checkable-tag",{staticStyle:{margin:"0px 5px 11px",height:"30px","line-height":"28px",padding:"0 10px"},on:{change:t.changeNoTag},model:{value:t.checked3,callback:function(e){t.checked3=e},expression:"checked3"}},[t._v("无标签\n\t\t\t\t\t\t\t\t\t")]),t._l(t.tagsList2,(function(e,a){return[s("a-checkable-tag",{staticStyle:{margin:"0px 5px 11px",height:"30px","line-height":"28px",padding:"0 10px"},on:{change:function(a){return t.changeTag(e.key)}},model:{value:t.checked2[a],callback:function(e){t.$set(t.checked2,a,e)},expression:"checked2[index]"}},[t._v(t._s(e.tagname)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2)],1),s("div",{staticClass:"sider-footer"},[s("a-button",{staticStyle:{"margin-right":"25px"},attrs:{type:"primary"},on:{click:t.searchStaff}},[t._v("确定查找\n\t\t\t\t\t\t\t\t")]),s("a-button",{on:{click:t.reset}},[t._v("清空条件")])],1)]),s("a-drawer",{attrs:{destroyOnClose:!0,title:"重复客户",placement:"right",closable:!1,width:"1100px!important",visible:t.customVisible},on:{close:t.onClose1}},[s("div",{staticStyle:{"background-color":"#FFFFFF",padding:"20px 10px 10px 10px"}},[t.corpLen>1?s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("企业微信：")]),t.corpLen>1?s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[s("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t\t\t")])]}))],2):t._e()],1):t._e(),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("关键词：")]),s("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"客户姓名/昵称/备注/公司名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff1(e)}},model:{value:t.customName1,callback:function(e){t.customName1=e},expression:"customName1"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("城市区域：")]),s("a-cascader",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{options:t.cityData},on:{change:t.onChange1},model:{value:t.province3,callback:function(e){t.province3=e},expression:"province3"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户性别：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.sexValue1,callback:function(e){t.sexValue1=e},expression:"sexValue1"}},[s("a-select-option",{attrs:{value:"-1"}},[t._v("全部")]),s("a-select-option",{attrs:{value:"1"}},[t._v("男")]),s("a-select-option",{attrs:{value:"2"}},[t._v("女")]),s("a-select-option",{attrs:{value:"3"}},[t._v("未知")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("选择群聊：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChatVisible1}},[t.chooseNum3>0?s("span",[t._v("已选择"+t._s(t.chooseNum3)+"个群")]):s("span",[s("a-icon",{attrs:{type:"plus"}}),t._v(" 选择群聊")],1)])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户持群数：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{dropdownStyle:t.style,placeholder:"全部"},model:{value:t.chat_type1,callback:function(e){t.chat_type1=e},expression:"chat_type1"}},[s("a-select-option",{attrs:{value:0}},[t._v("全部")]),s("a-select-option",{attrs:{value:1}},[t._v("无群")]),s("a-select-option",{attrs:{value:2}},[t._v("一个")]),s("a-select-option",{attrs:{value:3}},[t._v("多个")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("部门成员：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:function(e){return t.showDepartmentList()}}},[t.chooseNum2>0?s("span",[t._v("已选择"+t._s(t.chooseUserNum2)+"名成员，"+t._s(t.chooseDepartmentNum2)+"个部门")]):s("span",[t._v("选择部门成员")])])],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("添加时间：")]),s("a-range-picker",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime1},model:{value:t.joinTime1,callback:function(e){t.joinTime1=e},expression:"joinTime1"}}),s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff1}},[t._v("查找")]),s("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.reset1}},[t._v("清空")])],1)]),s("div",{staticClass:"content-bd",staticStyle:{padding:"10px"}},[s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading1}},[s("a-table",{directives:[{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],staticClass:"repeat-table",attrs:{columns:t.columns1,dataSource:t.customList1,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"customerInfo",fn:function(e,i,n){return s("div",{},[s("div",{staticStyle:{width:"200px",overflow:"hidden"}},[e.avatar?s("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:e.avatar}}):t._e(),e.avatar?t._e():s("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),s("div",{staticStyle:{float:"left","margin-left":"10px",width:"calc(100% - 52px)"}},[s("div",[s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)]),s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)])],2),"男性"==e.gender?s("a-icon",{staticStyle:{color:"#427EBA"},attrs:{type:"man"}}):t._e(),"女性"==e.gender?s("a-icon",{staticStyle:{color:"#ED4997"},attrs:{type:"woman"}}):t._e()],1),s("div",[0==i.chat_name.length?s("div",{staticStyle:{width:"80px",color:"#999","font-size":"12px"}},[t._v("所在群：0个\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),s("a-popover",{attrs:{placement:"left"}},[s("template",{slot:"content"},[s("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"}},t._l(i.chat_name,(function(e,a){return s("div",{staticStyle:{"max-width":"500px",display:"block","margin-bottom":"5px"}},[s("span",{staticStyle:{display:"inline-block","font-weight":"700",width:"80px","text-align":"right","vertical-align":"top"}},[t._v("群"+t._s(a+1)+"：")]),s("span",{staticStyle:{width:"calc(100% - 110px)",display:"inline-block","margin-bottom":"3px","word-break":"break-all"}},[t._v(t._s(e.name)+"（"+t._s(e.join_time)+"）")])])})),0)]),i.chat_name.length>0?s("span",{staticStyle:{cursor:"pointer",width:"80px",color:"#999","font-size":"12px"}},[t._v("所在群："+t._s(i.chat_name.length)+"个\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)],1),i.wx_name&&""!=i.wx_name?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("公众号："+t._s(i.wx_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.nickname&&""!=i.customerInfo.nickname?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t姓名："+t._s(i.customerInfo.nickname)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.area&&""!=i.customerInfo.area?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t地区："+t._s(i.customerInfo.area)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i.customerInfo.phone&&""!=i.customerInfo.phone?s("div",{staticStyle:{color:"#999","font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t手机："+t._s(i.customerInfo.phone)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()]),i.dialout_phone&&i.dialout_exten?s("img",{staticStyle:{width:"20px",height:"20px","margin-left":"2px"},attrs:{src:a("df74")}}):t._e()],1)])}},{key:"chat_name",fn:function(e,a,i){return s("div",{},[0==e.length?s("span",[t._v("--")]):t._e(),s("a-popover",{attrs:{placement:"left"}},[s("template",{slot:"content"},[s("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"}},t._l(e,(function(e,a){return s("div",{staticStyle:{"max-width":"500px",display:"block","margin-bottom":"5px"}},[s("span",{staticStyle:{display:"inline-block","font-weight":"700",width:"80px","text-align":"right","vertical-align":"top"}},[t._v("群"+t._s(a+1)+"：")]),s("span",{staticStyle:{width:"calc(100% - 110px)",display:"inline-block","margin-bottom":"3px","word-break":"break-all"}},[t._v(t._s(e.name)+"（"+t._s(e.join_time)+"）")])])})),0)]),e.length>0?s("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(e.length)+"个")]):t._e()],2)],1)}},{key:"tag_name",fn:function(e,a,i){return s("div",{},[s("div",{staticStyle:{width:"250px"}},[0==a.tag_name.length&&0==a.per_name.length?s("span",[t._v("--")]):t._e(),0==a.per_name.length&&a.tag_name.length>0?s("span",t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),0==a.tag_name.length&&a.per_name.length>0?s("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t私有标签："),t._l(a.per_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2):t._e(),a.tag_name.length>0&&a.per_name.length>0?[s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t公有标签：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),t._l(a.tag_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2),s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t私有标签：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),t._l(a.per_name,(function(e){return s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])}))],2)]:t._e()],2)])}},{key:"memberInfo",fn:function(e,a,i){return s("div",{},t._l(e,(function(e){return s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.member)+"\n\t\t\t\t\t\t\t\t\t\t\t\t"),s("div",[t._v(t._s(e.remark))]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t（"+t._s(e.create_time)+"）"),2==e.del_type?s("span",[t._v("（已被客户删除）")]):t._e(),1==e.del_type?s("span",[t._v("（员工删除客户）")]):t._e()])})),0)}}])},[s("div",{attrs:{slot:"tag_name2"},slot:"tag_name2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t标签\n\t\t\t\t\t\t\t\t\t\t\t"),s("a-tooltip",{attrs:{placement:"bottom"}},[s("template",{slot:"title"},[s("div",[t._v("企业微信给客户打标签：分公有标签和私有标签")]),s("div",[t._v("1、公有标签：即企业标签。管理员创建，所有员工可见，在本系统定义为“公有标签”。")]),s("div",[t._v("2、私有标签：即个人标签。员工创建，仅自己可见。在本系统定义为“私有标签”）。")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total1>0,expression:"total1 > 0"},{name:"has",rawName:"v-has",value:"client-list",expression:"'client-list'"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px 80px"}},[s("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total1))]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total1,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page1,pageSize:t.pageSize1,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage1,showSizeChange:t.showSizeChange1}})],1)])],1)],1)])],1)],1)],1)],1),s("a-modal",{attrs:{width:"888px",title:"客户绑定"},model:{value:t.bindStoreVisible,callback:function(e){t.bindStoreVisible=e},expression:"bindStoreVisible"}},[s("template",{slot:"footer"},[s("a-button",{key:"back",on:{click:t.handleCancelBind}},[t._v("取消")]),s("a-button",{key:"submit",attrs:{type:"primary",disabled:0==t.selectedRowKeys1.length,loading:t.loading},on:{click:t.handleBind}},[t._v("确定绑定\n\t\t\t\t")])],1),s("div",[t._v("目前您已绑定"),t._l(t.storeTypeList,(function(e){return s("span",[t._v("【"+t._s(e)+"】")])})),t._v("第三方店铺。"),s("span",{staticStyle:{color:"#FF562D"}},[t._v("对客户绑定后，可获取到该客户在已绑定的店铺里产生的所有订单和会员情况。")])],2),s("div",{staticStyle:{"margin-top":"10px"}},[s("label",[t._v("绑定客户：")]),s("a-input",{staticStyle:{width:"695px"},attrs:{allowClear:"",placeholder:"凭手机号、会员卡号、任意订单号绑定客户"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectStore(e)}},model:{value:t.cardNo,callback:function(e){t.cardNo=e},expression:"cardNo"}}),s("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.selectStore}},[t._v("搜索")])],1),t.noData?s("div",{staticStyle:{"margin-top":"10px","text-align":"center",color:"#FF562D"}},[t._v("暂无数据\n\t\t\t")]):t._e(),0!=t.memberList.length?s("div",{staticStyle:{"margin-top":"10px"}},[t._v("搜索结果")]):t._e(),s("div",{staticStyle:{width:"100%"}},[0!=t.memberList.length?s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.memberLoading}},[s("a-table",{staticClass:"bind-table",staticStyle:{"margin-top":"10px"},attrs:{rowSelection:t.rowSelection1,rowKey:function(t){return t.key},columns:t.memberColumns,dataSource:t.memberList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"isBind",fn:function(e,a,i){return s("span",{},[0==e?s("span",[t._v("未绑定")]):t._e(),1==e?s("span",[t._v("已绑定")]):t._e()])}}],null,!1,773167406)})],1):t._e()],1)],2),s("a-modal",{attrs:{width:"888px",title:"客户解绑"},model:{value:t.unbindStoreVisible,callback:function(e){t.unbindStoreVisible=e},expression:"unbindStoreVisible"}},[s("template",{slot:"footer"},[s("a-button",{key:"back",on:{click:t.handleCancelUnbind}},[t._v("取消")]),s("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading,disabled:0==t.selectKeys.length},on:{click:t.handleUnbind}},[t._v("提交\n\t\t\t\t")])],1),s("div",{staticClass:"content-msg",staticStyle:{margin:"0 0 12px"}},[s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t一旦解绑，已绑定在本系统的存量数据将不再展示，同时，已绑定过的客户也将全部解绑，确定解绑吗？\n\t\t\t\t")])]),s("div",[t._v("\n\t\t\t\t解绑店铺\n\t\t\t")]),t._l(t.storeList,(function(e){return s("div",{staticStyle:{margin:"10px 0 0 10px"}},[s("a-checkbox",{attrs:{checked:t.checkedStroe(e.key)},on:{change:function(a){return t.changeCheckedBox(e.key)}}}),s("label",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.username))])],1)}))],2),s("groupChat",{attrs:{corpId:t.corpId,show:t.chatVisible,chatArr:0==t.uniqueType?t.chatArr:t.chatArr1,callback:t.groupChatCallBack,is_list:t.is_list,isShowGroupOwner:1}}),s("a-modal",{attrs:{title:"导出进度",footer:!1,closable:t.progressCloseable,maskClosable:!1,maskStyle:{left:t.leftSiderWidth},wrapClassName:"mask-dialog"},on:{cancel:t.progressCancel},model:{value:t.progressVisible,callback:function(e){t.progressVisible=e},expression:"progressVisible"}},[s("div",{staticStyle:{"text-align":"center"}},[s("a-progress",{staticClass:"download-progress",attrs:{"stroke-linecap":"square",percent:t.progressNum,type:"circle",width:t.progressWidth}}),100==t.progressNum?s("p",{staticStyle:{margin:"20px auto"}},[t._v("已导出成功，请点击"),s("span",{staticStyle:{color:"#1890FF",cursor:"pointer"},on:{click:t.progressDownload}},[t._v("下载")])]):t._e()],1)]),s("a-modal",{attrs:{title:t.detailTitle,width:"750px"},model:{value:t.recordVisible,callback:function(e){t.recordVisible=e},expression:"recordVisible"}},[s("template",{slot:"footer"},[s("a-button",{key:"back",on:{click:t.recordCancel}},[t.detailVisible?t._e():s("span",[t._v("取消")]),t.detailVisible?s("span",[t._v("关闭")]):t._e()]),t.detailVisible?t._e():s("a-button",{key:"submit",attrs:{type:"primary",loading:t.recordLoading},on:{click:t.recordOk}},[t._v("\n\t\t\t\t\t确定\n\t\t\t\t")])],1),s("div",{staticStyle:{padding:"10px 0px","min-height":"300px",overflow:"auto"}},[s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("姓名\n\t                ")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入姓名",autoComplete:"off"},model:{value:t.recordName,callback:function(e){t.recordName=e},expression:"recordName"}}),t.detailVisible?s("span",[t._v(t._s(t.recordName))]):t._e()],1),s("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("微信号")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入微信号",autoComplete:"off"},model:{value:t.recordWx,callback:function(e){t.recordWx=e},expression:"recordWx"}}),t.detailVisible?s("span",[""==t.recordWx?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordWx))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("QQ号")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入QQ号",autoComplete:"off"},model:{value:t.recordQQ,callback:function(e){t.recordQQ=e},expression:"recordQQ"}}),t.detailVisible?s("span",[""==t.recordQQ?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordQQ))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("手机号")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入手机号",autoComplete:"off"},model:{value:t.recordPhone,callback:function(e){t.recordPhone=e},expression:"recordPhone"}}),t.detailVisible?s("span",[""==t.recordPhone?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordPhone))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("公司名称")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入公司名称",autoComplete:"off"},model:{value:t.recordCompany,callback:function(e){t.recordCompany=e},expression:"recordCompany"}}),t.detailVisible?s("span",[""==t.recordCompany?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordCompany))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("Email")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入Email",autoComplete:"off"},model:{value:t.recordEmail,callback:function(e){t.recordEmail=e},expression:"recordEmail"}}),t.detailVisible?s("span",[""==t.recordEmail?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordEmail))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("性别")]),t.detailVisible?t._e():s("a-radio-group",{model:{value:t.recordSex,callback:function(e){t.recordSex=e},expression:"recordSex"}},[s("a-radio",{attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t男\n\t\t\t\t\t\t")]),s("a-radio",{attrs:{value:2}},[t._v("\n\t\t\t\t\t\t\t女\n\t\t\t\t\t\t")]),s("a-radio",{attrs:{value:3}},[t._v("\n\t\t\t\t\t\t\t未知\n\t\t\t\t\t\t")])],1),t.detailVisible?s("span",[1==t.recordSex?s("span",[t._v("男")]):t._e(),2==t.recordSex?s("span",[t._v("女")]):t._e(),3==t.recordSex?s("span",[t._v("未知")]):t._e()]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("地区")]),t.detailVisible?t._e():s("a-cascader",{staticStyle:{width:"222px","margin-right":"5px"},attrs:{options:t.cityData2,placeholder:"请选择地区"},model:{value:t.recordArea,callback:function(e){t.recordArea=e},expression:"recordArea"}}),t.detailVisible?s("span",[""==t.recordArea2?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordArea2))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("备注")]),t.detailVisible?t._e():s("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入备注",autoComplete:"off",maxLength:10},model:{value:t.recordRemark,callback:function(e){t.recordRemark=e},expression:"recordRemark"}},[s("template",{slot:"suffix"},[t._v(t._s(t.recordRemark.length)+"/10")])],2),t.detailVisible?s("span",[""==t.recordRemark?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordRemark))])]):t._e()],1),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("客户来源")]),t.detailVisible?t._e():s("a-select",{staticStyle:{width:"222px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择客户来源"},model:{value:t.recordStatus,callback:function(e){t.recordStatus=e},expression:"recordStatus"}},t._l(t.selectList,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.match)+"\n\t\t\t\t\t\t")])})),1),t.detailVisible?s("span",[""==t.recordStatus2?s("span",[t._v("暂无")]):s("span",[t._v(t._s(t.recordStatus2))])]):t._e()],1),s("a-form-item",{staticStyle:{"margin-top":"4px"},attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t        客户标签 \n\t\t\t\t\t\t\t\t\t\t        "),s("a-tooltip",{attrs:{title:"针对录入的客户，自动打上选中的客户标签"}},[s("a-icon",{attrs:{type:"question-circle"}})],1)],1),t.isShowTag?s("corpChooseTag",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.tag_arr}}):t._e(),t.isShowTag?t._e():[t._l(t.tagData,(function(e){return s("a-tag",{attrs:{color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.tname)+"\n\t\t\t\t\t\t")])})),0==t.tagData.length?s("span",[t._v("暂无")]):t._e()]],2)],1)],2),s("a-modal",{attrs:{title:"上传表格",width:"750px",confirmLoading:t.modalLoading},on:{cancel:t.upLoadHandleCancel,ok:t.upLoadHandleOk},model:{value:t.upLoadShowModal,callback:function(e){t.upLoadShowModal=e},expression:"upLoadShowModal"}},[s("div",{staticStyle:{padding:"10px 0px",overflow:"auto"}},[s("div",{staticStyle:{color:"red"}},[t._v("为了避免导入时出现等待时间过长，建议单次上传不超过3000条，最多可支持5000条。")]),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("选择表格\n\t                ")]),s("a-upload",{attrs:{name:"avatar",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:t.beforeUpload}},[s("a-button",{staticStyle:{height:"28px","font-size":"14px"},attrs:{type:"primary"}},[t._v("上传Excel\n\t\t\t\t\t\t")])],1),""!=t.file_name?[s("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.file_name))]),s("a-icon",{staticStyle:{"vertical-align":"text-top","margin-left":"3px"},attrs:{type:"close-circle"},on:{click:t.closeExcel}})]:t._e(),s("div",{staticStyle:{"line-height":"normal","margin-bottom":"20px",color:"#999"}},[t._v("下载"),s("a",{attrs:{href:t.$store.state.commonUrl+"/upload/import_nocustomer.xlsx"}},[t._v("Excel模板")]),t._v("。"),s("span",[t._v("请按照模板的要求上传客户资料，若有重复手机号或空行将会自动过滤，以及不符合规范的填写格式，上传后直接显示”--“")])])],2),s("a-form-item",{staticStyle:{"margin-top":"4px"},attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t        客户标签 \n\t\t\t\t\t\t\t\t\t\t        "),s("a-tooltip",{attrs:{title:"针对导入的客户，自动打上选中的客户标签"}},[s("a-icon",{attrs:{type:"question-circle"}})],1)],1),t.isShowTag?s("corpChooseTag",{attrs:{callback:t.modalVisibleChange5,hasChoose:t.tag_arr3}}):t._e()],1)],1)]),s("a-modal",{attrs:{title:"上传进度",footer:!1,closable:!1,maskClosable:!1,maskStyle:{left:t.leftSiderWidth2},wrapClassName:"mask-dialog"},model:{value:t.progressVisible2,callback:function(e){t.progressVisible2=e},expression:"progressVisible2"}},[s("div",{staticStyle:{"text-align":"center"}},[s("a-progress",{attrs:{"stroke-linecap":"square",percent:t.progressNum2,type:"circle"}}),s("div",[s("img",{attrs:{src:a("19be"),alt:""}})]),s("p",{staticStyle:{margin:"0 auto 20px"}},[t._v("已成功上传"+t._s(t.successNum2)+"个客户，失败"+t._s(t.failNum2)+"个客户，还有"+t._s(t.notImportNum2)+"个客户待上传")])],1)]),s("a-modal",{attrs:{title:"选择成员"},on:{cancel:t.chooseStaffCancel,ok:t.chooseStaffHandel},model:{value:t.showModalStaff,callback:function(e){t.showModalStaff=e},expression:"showModalStaff"}},[s("div",{staticStyle:{color:"red","margin-bottom":"10px"}},[t._v("指定分配给具有外部联系人权限的成员")]),s("chooseStaffSelect",{ref:"staff",attrs:{index:0,index2:0,callback:t.selectStaffCallback}})],1),s("a-modal",{attrs:{title:"设置配置项",width:"888px!important"},model:{value:t.setOptionsVisible,callback:function(e){t.setOptionsVisible=e},expression:"setOptionsVisible"}},[s("template",{slot:"footer"},[s("a-button",{key:"back",on:{click:t.handleCancelSetOptions}},[t._v("取消")]),s("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.handleSetOptions}},[t._v("提交\n\t\t\t\t")])],1),s("a-row",{staticClass:"checkbox-row"},[s("span",{staticStyle:{"font-weight":"700"}},[t._v("隐藏手机号：")]),s("a-switch",{staticStyle:{"margin-right":"10px","vertical-align":"top"},model:{value:t.isHidePhone,callback:function(e){t.isHidePhone=e},expression:"isHidePhone"}}),s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[s("span",{staticStyle:{display:"inline-block",width:"370px","font-size":"13px"}},[t._v("一旦开启后，将在PC端后台和手机端页面，原本展示客户的手机号将全部隐藏，如客户详情页，但不影响数据导出。")])]),s("a-icon",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle"}})],2)],1),s("a-row",{staticClass:"checkbox-row"},[s("span",{staticStyle:{"font-weight":"700"}},[t._v("信息共享：")]),s("span",{staticStyle:{color:"#FF562D"}},[t._v("当同一个客户存在被多个员工归属时，当前默认不勾选，客户信息为共享可见或是编辑后共享。反之，客户信息独立。")]),s("a-popover",{attrs:{placement:"right"}},[s("template",{slot:"content"},[s("div",{staticStyle:{width:"220px","word-break":"break-all"}},[s("span",{staticStyle:{"font-size":"13px"}},[t._v("考虑到官方填写的客户信息页面，为员工与客户一一对应，非共享可见，故将客户同步至本系统里，此类信息不作配置项。")]),s("img",{staticStyle:{width:"200px","margin-top":"5px"},attrs:{src:a("cd5b")}})])]),s("a-icon",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle"}})],2)],1),s("a-row",{staticClass:"checkbox-row"},[s("a-checkbox",{model:{value:t.unshare_chat,callback:function(e){t.unshare_chat=e},expression:"unshare_chat"}},[t._v("\n\t\t\t\t\t所在群\n\t\t\t\t")])],1),s("a-row",{staticClass:"checkbox-row"},[s("a-checkbox",{model:{value:t.unshare_follow,callback:function(e){t.unshare_follow=e},expression:"unshare_follow"}},[t._v("\n\t\t\t\t\t跟进记录\n\t\t\t\t")])],1),s("a-row",{staticClass:"checkbox-row"},[s("a-checkbox",{model:{value:t.unshare_line,callback:function(e){t.unshare_line=e},expression:"unshare_line"}},[t._v("\n\t\t\t\t\t互动轨迹\n\t\t\t\t")])],1),s("a-row",{staticClass:"checkbox-row",staticStyle:{"border-top":"1px solid #F2F2F2","padding-top":"10px"}},[s("a-checkbox",{attrs:{disabled:1==t.unshare_field2},model:{value:t.unshare_field,callback:function(e){t.unshare_field=e},expression:"unshare_field"}},[t._v("\n\t\t\t\t\t客户画像\n\t\t\t\t")]),s("div",{staticStyle:{color:"rgb(255, 86, 45)","margin-top":"10px"}},[t._v("注意：为了避免来回勾选导致客户画像信息错乱，故勾选提交后，则不能再次操作。")])],1)],2)],1)},i=[],n=(a("4f7f"),a("5df3"),a("1c4c"),a("75fc")),r=(a("20d6"),a("4917"),a("6762"),a("2fdb"),a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("7618")),o=(a("96cf"),a("3b8d")),l=(a("28a5"),a("7f7f"),a("f64c")),c=a("c75b"),h=a("8c10c"),d=a("85d2"),p=a("0f2e"),u=a("c1df"),m=a.n(u),g=a("e306"),f=a.n(g),_=a("95204"),v=a("0cfc"),y=a("911a"),x=a.n(y),b=[{title:"客户信息",dataIndex:"customerInfo",scopedSlots:{customRender:"customerInfo"},key:"customerInfo"},{title:"来源",dataIndex:"add_way_info",key:"add_way_info",scopedSlots:{customRender:"add_way_info"}},{dataIndex:"tag_name",key:"tag_name",slots:{title:"tag_name2"},scopedSlots:{customRender:"tag_name"}},{title:"共享提醒",dataIndex:"claimTip",key:"claimTip",scopedSlots:{customRender:"claimTip"}},{title:"归属成员",dataIndex:"memberInfo",key:"memberInfo",scopedSlots:{customRender:"memberInfo"}},{title:"跟进状态",dataIndex:"followStatus",key:"followStatus",width:120,scopedSlots:{customRender:"followStatus"}},{title:"操作",dataIndex:"action",key:"action",width:"240px",scopedSlots:{customRender:"action"}}],w=[{title:"客户信息",dataIndex:"customerInfo",scopedSlots:{customRender:"customerInfo"},key:"customerInfo"},{dataIndex:"tag_name",key:"tag_name",slots:{title:"tag_name2"},scopedSlots:{customRender:"tag_name"}},{title:"归属成员（添加时间）",dataIndex:"memberInfo",key:"memberInfo",scopedSlots:{customRender:"memberInfo"}}],k=[{title:"店铺名称",dataIndex:"name",key:"name"},{title:"会员昵称",dataIndex:"nickName",key:"nickName"},{title:"等级",dataIndex:"gradeName",key:"gradeName"},{title:"积分",dataIndex:"points",key:"points"},{title:"经验值",dataIndex:"exp",key:"exp"},{title:"余额",dataIndex:"money",key:"money"},{title:"订单数",dataIndex:"orderCount",key:"orderCount"},{title:"状态",dataIndex:"isBind",scopedSlots:{customRender:"isBind"},key:"isBind"}],S=[{title:"客户信息",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"来源",dataIndex:"source",key:"source"},{title:"认领成员",dataIndex:"user_name",key:"user_name",scopedSlots:{customRender:"user_name"}},{title:"回收提醒",dataIndex:"claimTip",key:"claimTip",scopedSlots:{customRender:"claimTip"}},{title:"标签",dataIndex:"tag_name",key:"tag_name",scopedSlots:{customRender:"tag_name"}},{title:"跟进状态",dataIndex:"follow_status",key:"follow_status",scopedSlots:{customRender:"follow_status"}},{title:"认领时间",dataIndex:"add_time",key:"add_time"},{title:"操作",dataIndex:"action",key:"action",width:"100px",scopedSlots:{customRender:"action"}}],C={name:"customManageList",components:{chooseDepartment:c["a"],groupChat:h["a"],chooseStaffSelect:_["a"],corpChooseTag:v["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{customerType:[],corpType:[0],isRemind:!1,actionId:"",img:f.a,moment:m.a,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,corpInfo:[],corpId:t,is_hide_phone:0,customList:[],isLoading:!0,columns:b,columns1:w,showCustomData:!1,uniqueCount:0,fromUnique:0,total:1,quickJumper:!1,page:1,pageSize:15,checkedList:[],showModalDepartment:!1,chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,userList:[],selectedRowKeys:[],disabled:[],selectArr:[],selectValueArr:[],selectValue:[],commonTags:[],tag_count:"",tag_num:"",fansTag:[],confirmLoading:!1,confirmLoading2:!1,checked:[],visible:!1,visible1:!1,tagCheckValue1:[],tagsList:[],tagCheckValue:[],addTagVisible:!1,confirmLoading3:!1,inputValue:"",editGroupId:"",keysArr:[],groupList:[],groupId:"-1",tagLoading:!1,followRecord:[],showTransition:1,mouseEnterFlag:!1,startY:0,scrollFlag:!1,scroRight:!0,scrollOutFlag:!1,endOpen:!1,group_id:[],follows:[],follow_status:-1,chat_type:0,leave:0,add_way:[],wayList:[],way_id:[],codeList:[],sexValue:"-1",is_fans:0,other_way:-1,is_protect:-1,joinTime:null,followTime:null,chatTime:null,s_time:"",e_time:"",customName:"",phoneNumber:"",followNum1:"",followNum2:"",signId:[],bindStoreList:[],cityData:d["a"],province1:["全部"],province:"",city:"",tradeList:[],defineField:[],fieldData:[],trade:[],work:"",style:{width:"200px"},tagStyle:"1",tagsList2:[],checked2:[],checked3:!1,noTag:0,tag_arr:[],tag_ids:"",tagCheckIndex:0,initChecked:[],newChecked:[],diffChecked:[],userKey:"",bindStoreVisible:!1,loading:!1,noData:!1,storeTypeList:["智慧店铺","有赞","淘宝/天猫"],memberColumns:k,memberLoading:!1,memberList:[],cardNo:"",selectedRowKeys1:[],unbindStoreVisible:!1,storeList:[],selectKeys:[],seniorVisible:!1,customVisible:!1,chooseNum1:0,chatVisible:!1,is_list:0,checkedKey:0,chatArr:[],uniqueType:0,customName1:"",phoneNumber1:"",province3:["全部"],province2:"",city1:"",sexValue1:"-1",chooseNum3:0,chat_type1:0,chooseNum2:0,chooseUserNum2:0,chooseDepartmentNum2:0,checkedList1:[],userList1:[],joinTime1:null,customList1:[],total1:0,page1:0,pageSize1:15,isLoading1:!0,chatArr1:[],is_export:0,progressVisible:!1,progressNum:0,leftSiderWidth:document.getElementsByClassName("menu-sider")[0].style.width,downLoadUrl:"",progressWidth:120,progressCloseable:!1,tabKey:1,number:"",selectList:[],addStatus:0,is_protect2:-1,bindStatus:-1,chooseNum4:0,chooseUserNum4:0,chooseDepartmentNum4:0,checkedList4:[],userList4:[],claimTime:null,isLoading4:!0,noCustomerList:[],noCustomerColumns:S,chooseTagVisible:!1,tags:[],wordIds:[],tagStyle2:"1",tagType2:"1",total4:0,quickJumper4:!1,page4:1,pageSize4:15,detailVisible:!1,detailTitle:"",user_id:0,recordVisible:!1,recordLoading:!1,recordName:"",recordWx:"",recordQQ:"",recordPhone:"",recordCompany:"",recordEmail:"",recordSex:1,recordRemark:"",recordStatus:[],recordStatus2:"",isShowTag:!1,tag_arr2:[],tagData:[],cityData2:p["a"],recordArea:[],recordArea2:"",id:"",upLoadShowModal:!1,modalLoading:!1,fileInfo:{},file_name:"",tag_arr3:[],progressVisible2:!1,progressNum2:0,leftSiderWidth2:document.getElementsByClassName("menu-sider")[0].style.width,successNum2:0,failNum2:0,notImportNum2:0,is_assign:!0,assignType:1,assignRecord:"",showModalStaff:!1,userId:[],userName:[],batchTypeValue:!1,checkArr:[],is_rest:1,is_show:1,is_cancel:1,isShowMoreBtn:!0,setOptionsVisible:!1,unshare_chat:!1,unshare_follow:!1,unshare_line:!1,unshare_field:!1,isHidePhone:!1,unshare_chat2:!1,unshare_follow2:!1,unshare_line2:!1,unshare_field2:!1,isHidePhone2:!1}},methods:{contact:function(t,e){1==e&&(t.customerInfo={},t.customerInfo.nickname=t.name,t.customerInfo.avatar="",t.customerInfo.phone=t.phone),this.$confirm({title:"是否拨打电话",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){x.a.publish("showCall",{showCall:!0,avatar:t.customerInfo.avatar,nickname:t.customerInfo.nickname,follow_id:t.key,phone:t.customerInfo.phone,type:e,from:e})}})},recordCustomer:function(){this.detailTitle="录入客户",this.recordCancel(),this.detailVisible=!1,this.recordVisible=!0,this.isShowTag=!0},recordCancel:function(){this.recordVisible=!1,this.recordName="",this.recordWx="",this.recordQQ="",this.recordPhone="",this.recordCompany="",this.recordEmail="",this.recordSex=1,this.recordRemark="",this.recordStatus=[],this.recordStatus2="",this.recordArea=[],this.id="",this.isShowTag=!1,this.tag_arr2=[],this.tagData=[]},modalVisibleChange4:function(t,e){"ok"==t&&(this.tag_arr2=e.split(","))},recordOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=/^[a-zA-Z][a-zA-Z0-9_-]{5,19}$/,a=/^[1-9][0-9]{4,9}$/,s=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,i=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,""!=this.recordName){t.next=7;break}return this.$message.error("请填写姓名"),t.abrupt("return",!1);case 7:if(""!=this.recordWx||""!=this.recordQQ||""!=this.recordPhone){t.next=10;break}return this.$message.error("微信号/QQ号/手机号至少填写一个"),t.abrupt("return",!1);case 10:if(""==this.recordWx){t.next=14;break}if(e.test(this.recordWx)){t.next=14;break}return this.$message.error("请输入正确的微信号"),t.abrupt("return",!1);case 14:if(""==this.recordQQ){t.next=18;break}if(a.test(this.recordQQ)){t.next=18;break}return this.$message.error("请输入正确的QQ号"),t.abrupt("return",!1);case 18:if(""==this.recordPhone){t.next=22;break}if(s.test(this.recordPhone)){t.next=22;break}return this.$message.error("请输入正确的手机号"),t.abrupt("return",!1);case 22:if(""==this.recordEmail){t.next=26;break}if(i.test(this.recordEmail)){t.next=26;break}return this.$message.error("请输入正确的Email"),t.abrupt("return",!1);case 26:if("object"!=Object(r["a"])(this.recordStatus)||0!=this.recordStatus.length){t.next=29;break}return this.$message.error("请选择客户来源"),t.abrupt("return",!1);case 29:return this.recordLoading=!0,n="",1==this.recordSex?n="男":2==this.recordSex?n="女":3==this.recordSex&&(n="未知"),o="",this.recordArea.length>0&&(o=this.recordArea[0]+"-"+this.recordArea[1]),t.next=36,this.axios.post("public-sea-customer/set-follow-user",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),uid:localStorage.getItem("uid"),corp_id:this.corpId,user_id:this.user_id,name:this.recordName,wx_num:this.recordWx,phone:this.recordPhone,company:this.recordCompany,qq:this.recordQQ,email:this.recordEmail,sex:n,area:o,remark:this.recordRemark,field_option_id:this.recordStatus,id:this.id,tag_ids:this.tag_arr2});case 36:l=t.sent,c=l.data,0!=c.error?(this.recordLoading=!1,this.$message.error(c.error_msg)):(this.recordLoading=!1,this.recordCancel(),this.getNoCustomer());case 39:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),importExcel:function(){this.file_name="",this.fileInfo={},this.tag_arr3=[],this.isShowTag=!0,this.upLoadShowModal=!0},beforeUpload:function(t){var e=".xls"===t.name.substr(t.name.lastIndexOf(".")).toLowerCase(),a=".xlsx"===t.name.substr(t.name.lastIndexOf(".")).toLowerCase(),s=t.size/1024/1024<5;if(e||a){if(s)return this.fileInfo=t,this.file_name=t.name,!1;this.$message.warning("上传模板大小不能超过 5MB!")}else this.$message.warning("上传模板只能是 xls、xlsx格式!")},closeExcel:function(){this.fileInfo={},this.file_name=""},upLoadHandleOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.modalLoading=!0,"{}"!=JSON.stringify(this.fileInfo)){t.next=5;break}return this.$message.error("请选择上传Excel"),this.modalLoading=!1,t.abrupt("return",!1);case 5:return this.$message.info("已进入后台导入中，请耐心等待..."),this.progressNum2=0,this.successNum2=0,this.failNum2=0,this.notImportNum2=0,this.upLoadShowModal=!1,this.progressVisible2=!0,this.leftSiderWidth2=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width})),e=new FormData,e.append("uid",localStorage.getItem("uid")),e.append("isMasterAccount",localStorage.getItem("isMasterAccount")),e.append("sub_id",localStorage.getItem("sub_id")),e.append("corp_id",this.corpId),e.append("user_id",this.user_id),e.append("importFile",this.fileInfo),e.append("tag_ids",this.tag_arr3),2==localStorage.getItem("isMasterAccount")&&e.append("sub_id",localStorage.getItem("sub_id")),t.next=25,this.axios.post("public-sea-customer/import-follow-user",e);case 25:a=t.sent,s=a.data,0!=s.error&&(this.modalLoading=!1,this.progressVisible2=!1,this.$message.error(s.error_msg));case 28:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),upLoadHandleCancel:function(){this.fileInfo={},this.file_name="",this.tag_arr3=[],this.isShowTag=!1,this.modalLoading=!1,this.upLoadShowModal=!1},modalVisibleChange5:function(t,e){"ok"==t&&(this.tag_arr3=e.split(","))},handleChange:function(t){this.corpId=t,this.follow_status=-1,this.getFollowStatus(),this.chooseNum=0,this.checkedList=[],this.add_way=[],this.way_id=[],this.chooseNum1=0,this.chatArr=[],this.chooseNum2=0,this.checkedList1=[],this.chooseNum3=0,this.chatArr1=[],this.noTag=0,this.checked2=[],this.checked3=!1,this.tag_ids=[],this.tag_arr=[],this.getGroupList(),this.getTags([],2),this.searchStaff(),this.searchStaff1()},phoneChange:function(t){var e=t.target.value,a=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(e)&&a.test(e)||""===e||"-"===e)&&(this.phoneNumber=e)},phoneChange1:function(t){var e=t.target.value,a=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(e)&&a.test(e)||""===e||"-"===e)&&(this.phoneNumber1=e)},followMinNumChange:function(t){var e=t.target.value,a=/[^\d]/;isNaN(e)||a.test(e)||(this.followNum1=e)},followMaxNumChange:function(t){var e=t.target.value,a=/[^\d]/;isNaN(e)||a.test(e)||(this.followNum2=e)},followNumBlur:function(){if(""!=this.followNum1&&""!=this.followNum2&&Number(this.followNum1)>Number(this.followNum2)){var t=this.followNum1;this.followNum1=this.followNum2,this.followNum2=t}},handleChangeSign:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("third-store/get-merchants",{storeType:[],status:"1",storeName:e,uid:localStorage.getItem("uid"),isAll:1});case 2:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):this.bindStoreList=s.data.info;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),sexClick:function(t){this.sexValue=t.target.value},onChange:function(t){"全部"!=t[0]?this.province=t[0]:this.province="","全部"!=t[1]?this.city=t[1]:this.city=""},onChange1:function(t){"全部"!=t[0]?this.province2=t[0]:this.province2="","全部"!=t[1]?this.city1=t[1]:this.city1=""},getFollowStatus:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("custom-field/follow",{uid:localStorage.getItem("uid")});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.follows=a.data.follow;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAddWay:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-external-contact-follow-user/add-way-list");case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.wayList=a.data,this.add_way=-1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleChangeAddWay:function(){this.way_id=[],"way"!=this.add_way&&"redWay"!=this.add_way&&"chatWay"!=this.add_way&&"award"!=this.add_way&&"fission"!=this.add_way&&"redPack"!=this.add_way||this.handleChangeCode()},handleChangeCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||0==e||(e=""),t.next=3,this.axios.post("work-external-contact-follow-user/get-way-by-name",{type:this.add_way,corp_id:this.corpId,title:e});case 3:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):this.codeList=s.data;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getTradeList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("custom-field/field-info",{uid:localStorage.getItem("uid")});case 2:if(e=t.sent,a=e.data,0==a.error){t.next=8;break}this.$message.error(a.error_msg),t.next=29;break;case 8:for(this.tradeList=a.data.work,this.defineField=a.data.defineField,s=!0,i=!1,n=void 0,t.prev=13,r=this.defineField[Symbol.iterator]();!(s=(o=r.next()).done);s=!0)l=o.value,c={field:l.fieldid,type:l.type,match:[]},this.fieldData.push(JSON.parse(JSON.stringify(c)));t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](13),i=!0,n=t.t0;case 21:t.prev=21,t.prev=22,s||null==r.return||r.return();case 24:if(t.prev=24,!i){t.next=27;break}throw n;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}}),t,this,[[13,17,21,29],[22,,24,28]])})));function e(){return t.apply(this,arguments)}return e}(),changeTrade:function(t){this.trade="全部行业"!=t?t:""},blurChange:function(t){this.group_id=t,this.getTags(this.group_id,2)},changeNoTag:function(){this.noTag=this.checked3?1:0},changeTag:function(t){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},this.tag_arr.includes(t)?this.tag_arr.remove(t):this.tag_arr.push(t)},disabledDate:function(t){return t&&t>m()().endOf("day")},changeTime:function(t,e){this.joinTime=t},changeTime1:function(t,e){this.joinTime1=t},changeFollowTime:function(t,e){this.followTime=t},changeChatTime:function(t,e){this.chatTime=t},seniorSelect:function(){this.seniorVisible=!0},onClose:function(){this.seniorVisible=!1},onClose1:function(){this.customVisible=!1},searchStaff:function(){"[]"===JSON.stringify(this.trade)?this.work="":this.work=this.trade,this.tag_ids=this.tag_arr.join(),this.seniorVisible=!1,this.getCustomList()},filter:function(t,e){return e.some((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))},getCorpWx:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r,o,l,c,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-external-contact-follow-user/enterprise-type",{corp_id:this.corpId});case 2:if(e=t.sent,a=e.data,0==a.error){t.next=8;break}this.$message.error(a.error_msg),t.next=28;break;case 8:for(this.customerType=[{value:0,label:"全部"},{value:1,label:"个人微信"},{value:2,label:"企业微信",children:[{value:"",label:"全部"}]}],s=!0,i=!1,n=void 0,t.prev=12,r=a.data[Symbol.iterator]();!(s=(o=r.next()).done);s=!0)l=o.value,c=l.corp_full_name,h=l.corp_name,this.customerType[2].children.push({value:h,label:c});t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](12),i=!0,n=t.t0;case 20:t.prev=20,t.prev=21,s||null==r.return||r.return();case 23:if(t.prev=23,!i){t.next=26;break}throw n;case 26:return t.finish(23);case 27:return t.finish(20);case 28:case"end":return t.stop()}}),t,this,[[12,16,20,28],[21,,23,27]])})));function e(){return t.apply(this,arguments)}return e}(),searchStaff1:function(){this.getCustomList1()},reset:function(){this.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",this.add_way="-1",this.way_id=[],this.chatArr=[],this.chooseNum1=0,this.chat_type=0,this.leave=0,this.checked3=!1,this.noTag=0,this.joinTime=null,this.followTime=null,this.chatTime=null,this.follow_status=-1,this.group_id=[],this.getTags([],2),this.customName="",this.phoneNumber="",this.followNum1="",this.followNum2="",this.signId=[],this.sexValue="-1",this.is_fans=0,this.other_way=-1,this.is_protect=-1,this.trade=[],this.work="",this.province1=["全部"],this.province="",this.city="",this.checked2=[],this.tag_arr=[],this.tag_ids="";for(var t=0;t<this.fieldData.length;t++)this.fieldData[t].match=[];this.checkedList=[],this.userList=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.seniorVisible=!1,this.corpType=[0],this.getCustomList()},reset1:function(){this.chatArr1=[],this.chooseNum3=0,this.chat_type1=0,this.joinTime1=null,this.customName1="",this.phoneNumber1="",this.sexValue1="-1",this.province3=["全部"],this.province2="",this.city1="",this.checkedList1=[],this.userList1=[],this.chooseNum2=0,this.chooseUserNum2=0,this.chooseDepartmentNum2=0,this.getCustomList1()},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},showChatVisible:function(){this.chatVisible=!0,this.is_list=1,this.uniqueType=0},showChatVisible1:function(){this.chatVisible=!0,this.is_list=1,this.uniqueType=1},groupChatCallBack:function(t,e,a){"ok"==t&&(0==this.uniqueType?(this.chooseNum1=e,this.chatArr=a):(this.chooseNum3=e,this.chatArr1=a)),this.chatVisible=!1},showDepartmentList:function(){1==this.tabKey?this.customVisible?(this.uniqueType=1,this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList1)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.userList1))):(this.uniqueType=0,this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.userList))):(this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList4)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.userList4))),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,a,s,i){"ok"==t&&(1==this.tabKey?0==this.uniqueType?(this.checkedList=e,this.chooseNum=parseInt(a)+parseInt(s),this.chooseUserNum=a,this.chooseDepartmentNum=s,this.userList=i):(this.checkedList1=e,this.chooseNum2=parseInt(a)+parseInt(s),this.chooseUserNum2=a,this.chooseDepartmentNum2=s,this.userList1=i):2==this.tabKey&&(this.checkedList4=e,this.chooseNum4=parseInt(a)+parseInt(s),this.chooseUserNum4=a,this.chooseDepartmentNum4=s,this.userList4=i)),this.showModalDepartment=!1},clearDepartmentList:function(){this.checkedList=[],this.userList=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.getCustomList()},getCustomList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r,o,l=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=c.length>0&&void 0!==c[0]?c[0]:1,a=c.length>1&&void 0!==c[1]?c[1]:this.pageSize1,s=JSON.parse(JSON.stringify(this.fieldData)),i=0;i<s.length;i++)0==s[i].match.length&&(s.splice(i,1),i--);return n="number"==typeof this.add_way||"string"==typeof this.add_way?this.add_way:"-1",this.isLoading=!0,t.next=8,this.axios.post("work-external-contact-follow-user/custom-list",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),suite_id:1,corp_id:this.corpId,user_ids:this.checkedList,name:this.customName,group_id:this.group_id,page:e,page_size:a,sex:this.sexValue,is_fans:this.is_fans,other_way:this.other_way,is_protect:this.is_protect,phone:this.phoneNumber,work:this.work,province:this.province,city:this.city,tag_type:this.tagStyle,tag_ids:this.tag_ids,follow_id:this.follow_status,correctness:2,from_unique:0,follow_num1:this.followNum1,follow_num2:this.followNum2,sign_id:this.signId,fieldData:s,no_tag:this.noTag,chat_type:this.chat_type,leave:this.leave,add_way:n,way_id:this.way_id,chat_id:this.chatArr?this.chatArr:[],start_time:this.joinTime&&this.joinTime.length>1?this.joinTime[0].format("YYYY-MM-DD HH:mm"):"",end_time:this.joinTime&&this.joinTime.length>1?this.joinTime[1].format("YYYY-MM-DD HH:mm"):"",update_time:this.followTime&&this.followTime.length>1?[this.followTime[0].format("YYYY-MM-DD HH:mm"),this.followTime[1].format("YYYY-MM-DD HH:mm")]:null,chat_time:this.chatTime&&this.chatTime.length>1?[this.chatTime[0].format("YYYY-MM-DD HH:mm"),this.chatTime[1].format("YYYY-MM-DD HH:mm")]:null,is_export:this.is_export,selected_row_keys:this.selectedRowKeys,corp_type:this.corpType[0],corp_name:this.corpType[1]});case 8:r=t.sent,o=r.data,0!=o.error?(this.isLoading=!1,this.progressVisible=!1,this.$message.error(o.error_msg)):(this.isLoading=!1,0==this.is_export&&(this.customList=o.data.info,this.total=parseInt(o.data.count),this.uniqueCount=o.data.uniqueCount,this.showCustomData=!0,this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize,this.keysArr=o.data.keys,this.tag_count=o.data.tag_count,this.checkArr=[],this.customList.map((function(t){l.checkArr.push(t.key)})),this.batchTypeValue=!1,this.selectedRowKeys.length>0&&(this.batchTypeValue=!0,this.checkArr.map((function(t){-1==l.selectedRowKeys.indexOf(t)&&(l.batchTypeValue=!1)}))),this.is_rest=o.data.is_rest,this.is_show=o.data.is_show,this.is_cancel=o.data.is_cancel,this.unshare_chat2=o.data.unshare_chat,this.unshare_follow2=o.data.unshare_follow,this.unshare_line2=o.data.unshare_line,this.unshare_field2=o.data.unshare_field,this.isHidePhone2=o.data.is_hide_phone,this.is_hide_phone=o.data.is_hide_phone),this.is_export=0);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCustomList1:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading1=!0,t.next=5,this.axios.post("work-external-contact-follow-user/custom-list",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),suite_id:1,corp_id:this.corpId,user_ids:this.checkedList1,name:this.customName1,page:e,page_size:a,sex:this.sexValue1,phone:this.phoneNumber1,province:this.province2,city:this.city1,correctness:2,from_unique:1,chat_type:this.chat_type1,chat_id:this.chatArr1?this.chatArr1:[],start_time:this.joinTime1&&this.joinTime1.length>1?this.joinTime1[0].format("YYYY-MM-DD HH:mm"):"",end_time:this.joinTime1&&this.joinTime1.length>1?this.joinTime1[1].format("YYYY-MM-DD HH:mm"):""});case 5:s=t.sent,i=s.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.customList1=i.data.info,this.isLoading1=!1,this.total1=parseInt(i.data.count),this.page1=e,this.pageSize1=a,this.quickJumper=this.total>this.pageSize);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getCustomList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,40)}))},showSizeChange:function(t,e){this.getCustomList(1,e)},changePage1:function(t,e){this.getCustomList1(t,e),document.getElementsByClassName("ant-drawer-wrapper-body")[0].scrollTo(0,0)},showSizeChange1:function(t,e){this.getCustomList1(1,e)},bindStore:function(t){if(0==this.customList[t].customerInfo.merchant_type.length)return this.$message.destroy(),this.$message.warning("请前往【第三方店铺】-【店铺管理】，对第三方店铺绑定后，才能进行客户绑定"),!1;this.noData=!1,this.userKey=this.customList[t].key,this.storeTypeList=this.customList[t].customerInfo.merchant_type,this.memberList=[],this.cardNo="",this.selectedRowKeys1=[],this.bindStoreVisible=!0},selectStore:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.memberLoading=!0,""!=this.cardNo){t.next=6;break}return this.memberLoading=!1,this.$message.destroy(),this.$message.warning("请输入手机号、卡号或订单号！"),t.abrupt("return",!1);case 6:return t.next=8,this.axios.post("third-store/search-member",{uid:localStorage.getItem("uid"),cardNo:this.cardNo,customId:this.userKey});case 8:e=t.sent,a=e.data,0!=a.error?(this.memberLoading=!1,this.$message.error(a.error_msg)):(this.memberList=a.data,0==this.memberList.length?this.noData=!0:this.noData=!1,this.memberLoading=!1);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleCancelBind:function(){this.userKey="",this.memberList=[],this.cardNo="",this.selectedRowKeys1=[],this.bindStoreVisible=!1},handleBind:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n,r,o,l,c,h,d,p=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a={},s=[],i=!0,n=!1,r=void 0,t.prev=5,o=function(){var t=c.value,e=p.memberList.findIndex((function(e){return e.key==t}));a={member_id:p.memberList[e].member_id,uc_id:p.memberList[e].uc_id,key:p.memberList[e].key},s.push(JSON.parse(JSON.stringify(a)))},l=this.selectedRowKeys1[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)o();t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](5),n=!0,r=t.t0;case 14:t.prev=14,t.prev=15,i||null==l.return||l.return();case 17:if(t.prev=17,!n){t.next=20;break}throw r;case 20:return t.finish(17);case 21:return t.finish(14);case 22:return this,this.loading=!0,t.next=26,this.axios.post("third-store/is-bind-more",{ids:s,verify:1==e?1:0,customId:this.userKey});case 26:h=t.sent,d=h.data,0!=d.error?(this.loading=!1,this.$message.error(d.error_msg)):(this.loading=!1,this.handleCancelBind(),this.getCustomList(this.page,this.pageSize));case 29:case"end":return t.stop()}}),t,this,[[5,10,14,22],[15,,17,21]])})));function e(e){return t.apply(this,arguments)}return e}(),handleShowDetail:function(t){var e={id:t};this.$router.push({path:"/customManage/detail",query:e})},lookOrderList:function(t,e){var a={id:t,name:encodeURIComponent(e)};this.$router.push({path:"/customManage/thirdStore",query:a})},unbindStore:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.storeList=[],this.selectKeys=[],this.userKey=e,t.next=5,this.axios.post("third-store/bind-merchants",{uid:localStorage.getItem("uid"),customId:this.userKey});case 5:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):(this.storeList=s.data,0==this.storeList.length?this.$message.warning("暂无绑定的店铺"):this.unbindStoreVisible=!0);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),checkedStroe:function(t){var e=!0,a=!1,s=void 0;try{for(var i,n=this.selectKeys[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var r=i.value;if(r==t)return!0}}catch(o){a=!0,s=o}finally{try{e||null==n.return||n.return()}finally{if(a)throw s}}return!1},changeCheckedBox:function(t){if(0==this.selectKeys.length)this.selectKeys.push(t);else{for(var e=0;e<this.selectKeys.length;e++)if(this.selectKeys[e]==t)return this.selectKeys.splice(e,1),!1;this.selectKeys.push(t)}},handleCancelUnbind:function(){this.storeList=[],this.selectKeys=[],this.unbindStoreVisible=!1},handleUnbind:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.axios.post("third-store/bind-cancel",{ids:this.selectKeys});case 3:e=t.sent,a=e.data,0!=a.error?(this.loading=!1,this.$message.error(a.error_msg)):(this.loading=!1,this.handleCancelUnbind(),this.getCustomList(this.page,this.pageSize));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleShowFollow:function(t){},lookUniqueCustom:function(){this.reset1(),this.customVisible=!0},confirm:function(){l["a"].info("已进入后台刷新中，请耐心等待...",2,this.refreshFans)},refreshFans:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.axios.post("work-external-contact/refresh-work-external-contact-list",{corp_id:this.corpId,suite_id:1});case 3:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.destroy(),this.$message.error(a.error_msg)):(this.$message.destroy(),this.getCustomList());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),leadOut:function(){this.is_export=1,this.progressVisible=!0,this.progressCloseable=!1,this.progressNum=0,this.progressWidth=120,this.moveMask(),this.getCustomList()},moveMask:function(){this.leftSiderWidth=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width}))},getTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var s,i,r,o,l,c,h,d,p,u,m,g,f,_,v,y,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tagLoading=!0,s=e&&e[0]?e:this.groupId,s=-1==s?[]:s,t.next=5,this.axios.post("work-tag/list",{corp_id:this.corpId,suite_id:1,group_id:s,type:0,is_all:1});case 5:if(i=t.sent,r=i.data,0!=r.error)this.tagLoading=!1,this.$message.error(r.error_msg);else if(2==a){for(this.checked2=[],o=0;o<r.data.info.length;o++)this.checked2.push(!1);if(this.tagsList2=r.data.info,e&&e.length>0)for(l=0;l<this.tag_arr.length;l++){for(c=!0,h=0;h<this.tagsList2.length;h++)this.tagsList2[h].id==this.tag_arr[l]&&(c=!1);c&&(this.tag_arr.splice(l,1),l--)}for(d=0;d<this.tag_arr.length;d++)for(p=0;p<this.tagsList2.length;p++)this.tagsList2[p].id==this.tag_arr[d]&&(this.checked2[p]=!0)}else{for(this.tagsList=r.data.info,this.tagLoading=!1,u=0;u<this.tagsList.length;u++)m=!1,this.checked.push(m);if(9999-Math.max.apply(Math,Object(n["a"])(this.selectArr))<=0)for(this.disabled=[],g=0;g<this.tagsList.length;g++)f=!0,this.disabled.push(f);else{for(this.disabled=[],_=!1,v=0;v<this.tagsList.length;v++)this.disabled.push(_);for(y=0;y<this.tagsList.length;y++)for(x=0;x<this.commonTags.length;x++)this.commonTags[x].id==this.tagsList[y].key&&(this.disabled[y]=!0)}}case 8:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),getTags2:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,r,o,l,c,h,d,p,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.tagLoading=!0,e=-1==this.groupId?[]:this.groupId,t.next=4,this.axios.post("work-tag/list",{corp_id:this.corpId,suite_id:1,group_id:e,type:0,is_all:1});case 4:if(a=t.sent,s=a.data,0!=s.error)this.tagLoading=!1,this.$message.error(s.error_msg);else{if(this.tagsList=s.data.info,this.tagLoading=!1,9999-Math.max.apply(Math,Object(n["a"])(this.selectArr))<=0)for(this.disabled=[],i=0;i<this.tagsList.length;i++)r=!0,this.disabled.push(r);else if(o=[],this.tagsList.map((function(t){o.push(t.id)})),this.diffChecked=this.newChecked.filter((function(t){return-1==o.indexOf(t)})),this.tagCheckValue.length!=this.commonTags.length)if(0==this.tag_num){if(this.tagValue.length>0)for(l=0;l<this.tagValue.length;l++)c=!0,this.disabled.unshift(c)}else for(h=0;h<this.tagsList.length;h++)for(this.disabled[h]=!1,d=0;d<this.commonTags.length;d++)this.commonTags[d].id==this.tagsList[h].key&&(this.disabled[h]=!0);else for(p=0;p<this.tagsList.length;p++)for(this.disabled[p]=!1,u=0;u<this.tagCheckValue.length;u++)this.tagCheckValue[u]==this.tagsList[p].key&&(this.disabled[p]=!0);this.inputValue="",this.tagValue=[],this.tagCheckIndex++}case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showModal:function(){this.groupId="-1",this.getTags2();var t=this.selectedRowKeys;if(0==t.length)return this.$message.destroy(),this.$message.warning("请先选择客户"),!1;if(9999-Math.max.apply(Math,Object(n["a"])(this.selectArr))<=0){this.disabled=[];for(var e=0;e<this.tagsList.length;e++){var a=!0;this.disabled.push(a)}}function s(t){return Array.from(new Set(t))}this.selectValue=s(this.selectValueArr),this.tagCheckValue=[],this.visible=!0,this.getGroupList(),this.addCommonTags(0)},handleOk:function(){this.tagCheckValue.length==this.commonTags.length?(this.$message.destroy(),this.$message.warning("请选择要打的标签")):(this.confirmLoading2=!0,this.addTagsMore(0))},cancelVisible:function(){this.visible=!1,this.disabled=[],this.tag_num=9999-Math.max.apply(Math,Object(n["a"])(this.selectArr)),this.inputValue="",this.tagValue=[],this.tagCheckValue=[]},showModal1:function(){var t=this.selectedRowKeys;if(0==t.length)return this.$message.destroy(),this.$message.warning("请先选择客户"),!1;this.tagCheckValue1=[],this.addCommonTags(1),this.visible1=!0},handleOk1:function(){0==this.tagCheckValue1.length?(this.$message.destroy(),this.$message.warning("请选择要移除的标签")):(this.addTagsMore(1),this.confirmLoading=!0)},cancelVisible2:function(){this.visible1=!1,this.tagCheckValue=[],this.tagCheckValue1=[],this.commonTags=[],this.fansTag=[],this.initChecked=[]},onChange2:function(t){var e=this;this.newChecked=t.filter((function(t){return-1==e.initChecked.indexOf(t)})).concat(this.diffChecked);var a=this.initChecked.concat(this.newChecked);this.tagCheckValue=Array.from(new Set(a));var s=this.tagCheckValue.length-this.commonTags.length;this.tag_num=9999-Math.max.apply(Math,Object(n["a"])(this.selectArr))-s;for(var i=JSON.parse(JSON.stringify(this.tagCheckValue)),r=0;r<this.commonTags.length;r++)for(var o=0;o<i.length;o++)i[o]==this.commonTags[r].id&&i.splice(o,1);if(i=Array.from(new Set(i)),this.tag_num<=0){for(var l=0;l<this.disabled.length;l++)this.disabled[l]=!0;for(var c=0;c<this.tagsList.length;c++)for(var h=0;h<i.length;h++)this.tagsList[c].id==i[h]&&(this.disabled[c]=!1)}else{this.disabled=[];for(var d=0;d<this.tagsList.length;d++){var p=!1;this.disabled.push(p)}for(var u=0;u<this.tagsList.length;u++)for(var m=0;m<this.commonTags.length;m++)this.tagsList[u].id==this.commonTags[m].id&&(this.disabled[u]=!0)}},onChange3:function(t){this.tagCheckValue1=t},addCommonTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n,r,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",s={user_ids:this.selectedRowKeys,give:e},1==this.tabKey?(a="work-user/get-user-tags",s.type=2):2==this.tabKey&&(a="public-sea-customer/get-user-tags"),t.next=5,this.axios.post(a,s);case 5:if(i=t.sent,n=i.data,0!=n.error)this.$message.error(n.error_msg);else for(n.data.map((function(t){l.tagCheckValue.push(parseInt(t.id)),l.initChecked.push(parseInt(t.id))})),this.commonTags=n.data,this.fansTag=n.data,r=0;r<this.tagsList.length;r++)for(o=0;o<this.commonTags.length;o++)this.commonTags[o].id==this.tagsList[r].key&&(this.disabled[r]=!0);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addTagsMore:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n,r,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],this.tagCheckValue=this.tagCheckValue.filter((function(t){return!o.commonTags.some((function(e){return e.id===t.id}))})),a=0==e?this.tagCheckValue:this.tagCheckValue1,s="",i={tag_ids:a,user_ids:this.selectedRowKeys,type:e},1==this.tabKey?(s="work-user/give-user-tags",i.s_type=2):2==this.tabKey&&(s="public-sea-customer/give-user-tags"),t.next=8,this.axios.post(s,i);case 8:n=t.sent,r=n.data,0!=r.error?(this.$message.error(r.error_msg),this.confirmLoading2=!1,this.confirmLoading=!1):(this.$message.success(r.error_msg),this.selectedRowKeys=[],this.visible=!1,this.confirmLoading2=!1,this.disabled=[],this.visible1=!1,this.confirmLoading=!1,this.selectValueArr=[],this.selectArr=[],this.commonTags=[],this.selectValue=[],this.tagCheckValue=[],this.diffChecked=[],this.newChecked=[],this.initChecked=[],1==this.tabKey?this.getCustomList(this.page,this.pageSize):2==this.tabKey&&this.getNoCustomer(this.page4,this.pageSize4));case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showAddTagModal:function(){this.addTagVisible=!0,this.editGroupId=this.groupList[0].id},onSearch:function(){if(""==this.editGroupId)return this.$message.destroy(),this.$message.warning("请先选择分组"),!1;if(""==this.inputValue)return this.$message.destroy(),this.$message.warning("不能为空"),!1;this.tagValue=[];for(var t=0;t<this.inputValue.split(" ").length;t++){if(this.inputValue.split(" ")[t].length>15)return this.$message.destroy(),this.$message.error("每个标签最多15个字"),!1;this.inputValue.split(" ")[t].length>0&&this.tagValue.push(this.inputValue.split(" ")[t])}this.addTags()},addTagCancel:function(){this.inputValue="",this.editGroupId="",this.addTagVisible=!0},addTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{name:this.tagValue,corp_id:this.corpId,suite_id:1,type:0,group_id:this.editGroupId});case 2:e=t.sent,a=e.data,0!=a.error?"标签名非法，请注意不能和其他标签重名"==a.error_msg?this.$message.error("该标签名称与微信标签重复，请手动同步微信标签即可。"):this.$message.error(a.error_msg):(this.$message.success("新建标签成功"),this.inputValue="",this.addTagVisible=!1,this.editGroupId="",this.getTags2());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getGroupList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/list",{corp_id:this.corpId,type:0,suite_id:1});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.groupList=a.data.info;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeGroup:function(t){this.groupId="-1","undefined"!=typeof t&&(this.groupId=t),this.getTags2()},onSelectChange:function(t,e){this.selectArr=[];for(var a=0;a<e.length;a++)this.selectArr.push(e[a].tag_name.length);this.tag_num=9999-Math.max.apply(Math,Object(n["a"])(this.selectArr)),this.selectedRowKeys=t,this.batchTypeValue=this.checkArr.every((function(e){return t.includes(e)}))},onSelectRow:function(t,e,a,s){if(Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e)this.selectArr.push(t.tag_name.length),this.selectValueArr=this.selectValueArr.concat(t.tag_name),this.tag_num=9999-Math.max.apply(Math,Object(n["a"])(this.selectArr));else{this.selectArr.remove(t.tag_name.length);for(var i=0;i<t.tag_name.length;i++)this.selectValueArr.remove(t.tag_name[i]);this.tag_num=9999-Math.max.apply(Math,Object(n["a"])(this.selectArr))}},onSelectChange1:function(t,e){this.selectedRowKeys1=t},setScroLineHeight:function(){var t=this,e=0;e=t.$refs.scroLeft.clientHeight,e>=t.$refs.scroLeft.scrollHeight?t.scroRight=!1:(t.$refs.scroLine.style.height=(e-50)/t.$refs.scroLeft.scrollHeight*(t.$refs.scroRight.scrollHeight-50)+"px",t.scroRight=!0)},initFirefoxScroll:function(){var t=this;document.addEventListener&&document.addEventListener("DOMMouseScroll",(function(e){var a=window.event||e,s=t.$refs.scroLeft.scrollTop,i=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;a.detail>=0?s+=80:s-=80,s<0&&(s=0),s>i-50&&(s=i),t.$refs.scroLeft.scrollTop=s;var n=s/i*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;s>0&&s<i-50&&(n=s/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n>this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight&&(n=this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px"}),!1)},scrollWheel:function(){var t=t||(window.event?window.event:null),e=this.$refs.scroLeft.scrollTop,a=this.$refs.scroLeft.scrollHeight-this.$refs.scroLeft.clientHeight;t.wheelDelta,e-=.5*t.wheelDelta,e<0&&(e=0),e>a&&(e=a),this.$refs.scroLeft.scrollTop=e;var s=e/a*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;e>0&&e<a&&(s=e/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),s<0&&(s=0),this.$refs.scroLine.style.top=s+"px"},jumpScroll:function(){var t=this;if(!t.mouseEnterFlag){var e=e||(window.event?window.event:null),a=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;e.y,t.startY,a+=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight,t.$refs.scroLeft.scrollTop=a,a<0&&(a=0),a>s&&(a=s);var i=a/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;a>0&&a<s&&(i=a/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),i<0&&(i=0),t.$refs.scroLine.style.top=i+"px",t.startY=e.y}},scroLineDown:function(){this.mouseEnterFlag=!0,this.startY=event.y,window.addEventListener&&(window.addEventListener("mouseup",this.scroLineUp,!1),window.addEventListener("mousemove",this.scroLineMove,!1)),this.banUserSelect()},scroLineMove:function(){var t=this;if(t.mouseEnterFlag){var e=e||(window.event?window.event:null),a=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight,i=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight;a+=i,t.$refs.scroLeft.scrollTop=a,a<0&&(a=0),a>s&&(a=s);var n=a/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;a>0&&a<s&&(n=a/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px",t.startY=e.y}},scroLineUp:function(){if(1==this.mouseEnterFlag){var t=t||(window.event?window.event:null);this.mouseEnterFlag=!1,this.changeWidthSmallFlag&&(this.changeWidthSmall(),this.changeWidthSmallFlag=!1),this.scrollOutFlag&&(this.scrollOut(),this.scrollOutFlag=!1),window.removeEventListener&&(window.removeEventListener("mouseup",this.scroLineUp,!1),window.removeEventListener("mousemove",this.scroLineMove,!1)),this.userSelect()}},scroll:function(){this.scrollFlag=!0},scrollOut:function(){this.mouseEnterFlag||(this.scrollFlag=!1),this.scrollOutFlag=!0},banUserSelect:function(){this.$refs.fansList.style.MozUserSelect="none",this.$refs.fansList.style.UserSelect="none",this.$refs.fansList.style.webkitUserSelect="none",this.$refs.fansList.style.MsUserSelect="none"},userSelect:function(){this.$refs.fansList.style.MozUserSelect="text",this.$refs.fansList.style.UserSelect="text",this.$refs.fansList.style.webkitUserSelect="text",this.$refs.fansList.style.MsUserSelect="text"},websocketOnMessage:function(t){"undefined"!=typeof t.type&&"export_customer"==t.type&&(this.progressVisible=!0,this.leftSiderWidth=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width})),this.progressNum=parseInt(t.export_num/t.snum*100),100==this.progressNum&&(this.progressWidth=100,this.downLoadUrl=t.url,this.progressCloseable=!0),""!=t.url&&sessionStorage.setItem("externalDownLoadUrl",this.downLoadUrl)),"undefined"!=typeof t.type&&"import-follow-user"==t.type&&(1==localStorage.getItem("isMasterAccount")&&""==t.sub_id||2==localStorage.getItem("isMasterAccount")&&t.sub_id==localStorage.getItem("sub_id"))&&(this.progressVisible2=!0,this.leftSiderWidth2=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width})),this.upLoadShowModal=!1,this.progressNum2=parseInt(t.import_num/t.snum*100),this.successNum2=t.successNum,this.failNum2=t.failNum,this.notImportNum2=t.notImportNum,""!=t.textHtml&&(0==t.error?(this.modalLoading=!1,this.upLoadShowModal=!1,this.progressVisible2=!1,this.tag_arr3=[],this.isShowTag=!1,this.getNoCustomer()):this.$message.error(t.textHtml)),100==this.progressNum2&&(this.progressVisible2=!1))},progressDownload:function(){window.open(this.downLoadUrl),this.progressCancel()},progressCancel:function(){sessionStorage.removeItem("externalDownLoadUrl"),this.progressVisible=!1},changeTab:function(t){this.tabKey=t,this.selectedRowKeys=[],this.selectArr=[],this.tag_count=[],this.keysArr=[],this.tag_num="",this.batchTypeValue=!1,this.checkArr=[],this.assignType=1,this.assignRecord="",this.userId=[],this.userName=[],1==t?this.reset():2==t&&this.reset2()},getNoCustomer:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=this,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:this.pageSize4,this.isLoading4=!0,t.next=5,this.axios.post("public-sea-customer/custom-list",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),uid:localStorage.getItem("uid"),corp_id:this.corpId,name:this.number,user_ids:this.checkedList4,field_option_id:this.addStatus,is_protect:this.is_protect2,is_bind:this.bindStatus,tag_type:this.tagType2,page:e,page_size:a,s_date:this.claimTime&&this.claimTime.length>1?this.claimTime[0].format("YYYY-MM-DD HH:mm"):"",e_date:this.claimTime&&this.claimTime.length>1?this.claimTime[1].format("YYYY-MM-DD HH:mm"):"",tag_ids:this.tags});case 5:s=t.sent,i=s.data,0!=i.error?(this.isLoading4=!1,this.progressVisible=!1,this.$message.error(i.error_msg)):(this.isLoading4=!1,this.noCustomerList=i.data.followData,this.selectList=i.data.optionList,this.user_id=i.data.user_id,this.total4=parseInt(i.data.count),this.page4=e,this.pageSize4=a,this.quickJumper4=this.total4>this.pageSize4,this.keysArr=i.data.keys,this.tag_count=i.data.tag_count,this.batchTypeValue=!1,this.checkArr=[],this.noCustomerList.map((function(t){n.checkArr.push(t.key)})),this.batchTypeValue=!1,this.selectedRowKeys.length>0&&(this.batchTypeValue=!0,this.checkArr.map((function(t){-1==n.selectedRowKeys.indexOf(t)&&(n.batchTypeValue=!1)}))),this.is_rest=i.data.is_rest,this.is_show=i.data.is_show,this.is_cancel=i.data.is_cancel);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage4:function(t,e){this.getNoCustomer(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,40)}))},showSizeChange4:function(t,e){this.getNoCustomer(1,e)},searchStaff2:function(){this.getNoCustomer()},reset2:function(){this.checkedList4=[],this.chooseNum4=0,this.chooseUserNum4=0,this.chooseDepartmentNum4=0,this.userList4=[],this.claimTime=null,this.tagType2="1",this.bindStatus=-1,this.addStatus=0,this.is_protect2=-1,this.number="",this.tags=[],this.getNoCustomer()},cancleChooseTag:function(){this.chooseTagVisible=!1},showChooseTag:function(){this.wordIds=JSON.parse(JSON.stringify(this.tags)),this.tagStyle2=JSON.parse(JSON.stringify(this.tagType2)),this.chooseTagVisible=!0},handleChoose:function(){this.tags=JSON.parse(JSON.stringify(this.wordIds)),this.tagType2=JSON.parse(JSON.stringify(this.tagStyle2)),this.chooseTagVisible=!1},modalVisibleChange:function(t,e){"ok"==t&&(this.wordIds=""==e?[]:e.split(","))},changeTime2:function(t,e){this.claimTime=t},handleShowDetail2:function(t){var e={id:t};this.$router.push({path:"/customManage/noCustomDetail",query:e})},handleMenuClick:function(t,e,a,s){if(this.assignType=e,this.assignRecord=a,1==t.key)this.showModalStaff=!0;else if(2==t.key){var i=this;i.$confirm({title:"确定退回公海池吗？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.assignHighSea()}})}else 3==t.key?this.setProtect(e,a):4==t.key?this.cancelProtect(e,a):5==t.key?this.bindStore(s):6==t.key?this.unbindStore(a.key):7==t.key&&this.lookOrderList(a.key,a.customerInfo.name)},selectStaffCallback:function(t,e){var a=this;"ok"==t&&(this.userId=e,this.$nextTick((function(){a.userName=a.$refs.staff.$el.innerText})))},chooseStaffCancel:function(){this.userId="",this.userName="",this.assignRecord="",this.$refs.staff.userId=[],this.showModalStaff=!1},chooseStaffHandel:function(){if(0==this.userId.length)return this.$message.error("请先选择成员"),!1;var t=this,e="";"undefined"!=typeof t.assignRecord?0==this.assignType?e="一旦确定将【"+t.assignRecord.name+"】转交给【"+this.userName+"】，则进入该成员的客户列表。确定转交吗？":1==this.assignType&&(e="一旦确定将【"+t.assignRecord.customerInfo.name+"】转交给【"+this.userName+"】，则进入该成员的客户列表。确定转交吗？"):e="确定将"+this.selectedRowKeys.length+"位客户转交给【"+this.userName+"】吗？",t.showModalStaff=!1,t.$confirm({title:e,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.assignStaff()},onCancel:function(){t.showModalStaff=!0}})},assignStaff:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",e="undefined"!=typeof this.assignRecord?this.assignRecord.key:this.selectedRowKeys,t.next=4,this.axios.post("public-sea-customer/transfer",{uid:localStorage.getItem("uid"),corp_id:this.corpId,user_id:this.userId,type:this.assignType,follow_id:e});case 4:a=t.sent,s=a.data,0!=s.error?(i=this,i.$error({title:s.error_msg,onOk:function(){i.userId="",i.userName="",i.assignRecord="",i.$refs.staff.userId=[]}})):(this.$success({title:s.data.textHtml}),this.assignRecord="",this.selectedRowKeys=[],this.batchTypeValue=!1,this.chooseStaffCancel(),0==this.assignType?this.getNoCustomer(this.page4,this.pageSize4):1==this.assignType&&this.getCustomList(this.page,this.pageSize));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),assignHighSea:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",e="undefined"!=typeof this.assignRecord?this.assignRecord.key:this.selectedRowKeys,t.next=4,this.axios.post("public-sea-customer/give-up",{uid:localStorage.getItem("uid"),corp_id:this.corpId,type:this.assignType,follow_id:e});case 4:a=t.sent,s=a.data,0!=s.error?this.$error({title:s.error_msg}):(this.$success({title:s.data.textHtml}),this.assignRecord="",this.selectedRowKeys=[],this.batchTypeValue=!1,0==this.assignType?this.getNoCustomer(this.page4,this.pageSize4):1==this.assignType&&this.getCustomList(this.page,this.pageSize));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),batchTypeChange:function(){this.batchTypeValue?this.selectedRowKeys=[]:this.selectedRowKeys=this.checkArr},setProtect:function(t,e){this.assignType=t,this.assignRecord=e;var a=this,s="";s="undefined"!=typeof e?1==e.is_rest?1==this.assignType?"确定保护【"+e.customerInfo.name+"】永不进入公海池吗？":"确定保护【"+e.name+"】永不进入公海池吗？":"永不进入公海池的客户数已达上限，无法再设置。":"一旦将"+this.selectedRowKeys.length+"位客户设为保护对象，则不会自动进入公海池，确定保护吗？",a.$confirm({title:s,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){a.protectStaff()}})},protectStaff:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",e="undefined"!=typeof this.assignRecord?this.assignRecord.key:this.selectedRowKeys,t.next=4,this.axios.post("public-sea-customer/protect",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),corp_id:this.corpId,type:this.assignType,follow_id:e});case 4:a=t.sent,s=a.data,0!=s.error?this.$error({title:s.error_msg}):(this.$success({title:s.data.textHtml}),this.assignRecord="",this.selectedRowKeys=[],this.batchTypeValue=!1,0==this.assignType?this.getNoCustomer(this.page4,this.pageSize4):1==this.assignType&&this.getCustomList(this.page,this.pageSize));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelProtect:function(t,e){this.assignType=t,this.assignRecord=e;var a=this,s="一旦取消保护，当符合客户回收规则后，客户将自动进入公海池，被其他同事认领，确定取消保护吗？";a.$confirm({title:s,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){a.cancelProtectStaff()}})},cancelProtectStaff:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",e="undefined"!=typeof this.assignRecord?this.assignRecord.key:this.selectedRowKeys,t.next=4,this.axios.post("public-sea-customer/no-protect",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),corp_id:this.corpId,type:this.assignType,follow_id:e});case 4:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):(this.$message.success(s.data.textHtml),this.assignRecord="",this.selectedRowKeys=[],this.batchTypeValue=!1,0==this.assignType?this.getNoCustomer(this.page4,this.pageSize4):1==this.assignType&&this.getCustomList(this.page,this.pageSize));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setOptions:function(){this.unshare_chat=1==this.unshare_chat2,this.unshare_follow=1==this.unshare_follow2,this.unshare_line=1==this.unshare_line2,this.unshare_field=1==this.unshare_field2,this.isHidePhone=1==this.isHidePhone2,this.setOptionsVisible=!0},handleCancelSetOptions:function(){this.setOptionsVisible=!1},handleSetOptions:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-external-contact-follow-user/set-share-data",{corp_id:this.corpId,unshare_chat:this.unshare_chat?1:0,unshare_follow:this.unshare_follow?1:0,unshare_line:this.unshare_line?1:0,unshare_field:this.unshare_field?1:0,is_hide_phone:this.isHidePhone?1:0});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.setOptionsVisible=!1,this.getCustomList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{rowSelection:function(){var t=this,e=this.selectedRowKeys;return{selectedRowKeys:e,onChange:this.onSelectChange,hideDefaultSelections:!0,onSelect:this.onSelectRow,selections:[{key:"current-data",text:"当前页",onSelect:function(e){if(t.selectedRowKeys=e,t.selectArr=[],1==t.tabKey)for(var a=0;a<t.customList.length;a++)t.selectArr.push(t.customList[a].tag_name.length);else if(2==t.tabKey)for(var s=0;s<t.noCustomerList.length;s++)t.selectArr.push(t.noCustomerList[s].tag_name.length);t.tag_num=9999-Math.max.apply(Math,Object(n["a"])(t.selectArr))}},{key:"all-data",text:"选择所有项",onSelect:function(){t.selectedRowKeys=Object(n["a"])(t.keysArr.valueOf()),t.selectArr=t.tag_count,t.tag_num=9999-Math.max.apply(Math,Object(n["a"])(t.selectArr))}}],onSelection:this.onSelection}},rowSelection1:function(){var t=this.selectedRowKeys1;return{selectedRowKeys:t,onChange:this.onSelectChange1,hideDefaultSelections:!0,selections:[],getCheckboxProps:function(t){return{props:{disabled:1==t.isBind}}}}}},mounted:function(){var t=this;if("all"==localStorage.getItem("permissionButton"))this.is_assign=!0;else{var e=localStorage.getItem("permissionButton").split(",");-1==e.indexOf("client-assign")&&-1==e.indexOf("client-backHighSea")?this.is_assign=!1:this.is_assign=!0,-1==e.indexOf("other-store")&&-1==e.indexOf("client-bind")&&-1==e.indexOf("client-assign")&&-1==e.indexOf("client-backHighSea")&&-1==e.indexOf("client-protect")?this.isShowMoreBtn=!1:this.isShowMoreBtn=!0}this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.$emit("changeCorpId",t.corpId),t.ws.setCallback(t.websocketOnMessage),t.getGroupList(),t.handleChangeSign(""),t.getCustomList(),t.getTags([],2),t.getTradeList(),t.getFollowStatus(),t.getAddWay(),t.getCorpWx()}))},beforeRouteEnter:function(t,e,a){"/customManage/detail"==e.path?a((function(t){t.tabKey=1,t.getCustomList(t.page),t.ws.setCallback(t.websocketOnMessage),sessionStorage.getItem("externalDownLoadUrl")&&(t.progressCloseable=!0,t.progressNum=100,t.progressWidth=100,t.downLoadUrl=sessionStorage.getItem("externalDownLoadUrl"),t.progressVisible=!0,t.moveMask())})):"/customManage/thirdStore"==e.path?a((function(t){t.tabKey=1,t.getCustomList(t.page)})):"/customManage/noCustomDetail"==e.path?a((function(t){t.tabKey=2,t.getNoCustomer(t.page4)})):a((function(t){t.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",t.tabKey=1,t.joinTime=null,t.followTime=null,t.chatTime=null,t.endValue=null,t.follow_status=-1,t.group_id=[],t.getTags([],2),t.customName="",t.phoneNumber="",t.sexValue="-1",t.is_fans=0,t.other_way=-1,t.is_protect=-1,t.trade=[],t.work="",t.province1=["全部"],t.province="",t.city="",t.checked2=[],t.tag_arr=[],t.tag_ids="";for(var e=0;e<t.fieldData.length;e++)t.fieldData[e].match=[];t.checkedList=[],t.userList=[],t.chooseNum=0,t.chooseUserNum=0,t.chooseDepartmentNum=0,t.checkedList1=[],t.userList1=[],t.chooseNum2=0,t.chooseUserNum2=0,t.chooseDepartmentNum2=0,t.checkedList4=[],t.userList4=[],t.chooseNum4=0,t.chooseUserNum4=0,t.chooseDepartmentNum4=0,t.chooseNum1=0,t.chooseNum3=0,t.chatArr=[],t.chatArr1=[],t.getCustomList(),t.ws.setCallback(t.websocketOnMessage),sessionStorage.getItem("externalDownLoadUrl")&&(t.progressCloseable=!0,t.progressNum=100,t.progressWidth=100,t.downLoadUrl=sessionStorage.getItem("externalDownLoadUrl"),t.progressVisible=!0,t.moveMask())})),a()},beforeRouteLeave:function(t,e,a){this.ws.setCallback(),this.progressVisible=!1,a()}},L=C,N=(a("e122"),a("2877")),T=Object(N["a"])(L,s,i,!1,null,"45f88d8e",null);e["default"]=T.exports},"2d3a":function(t,e,a){"use strict";var s=a("8e3c"),i=a.n(s);i.a},4629:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-45f88d8e]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-45f88d8e]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-45f88d8e] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-45f88d8e]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-45f88d8e]{margin:0 20px 20px;min-width:885px}.content-hd[data-v-45f88d8e]{padding:10px 0;width:100%;min-width:885px;line-height:40px}.content-msg[data-v-45f88d8e]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-45f88d8e]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-45f88d8e]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-45f88d8e]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-45f88d8e],.list[data-v-45f88d8e]{height:100%}[data-v-45f88d8e] .dark-row{background:#fafafa}[data-v-45f88d8e] .light-row{background:#fff}.content-hd-right[data-v-45f88d8e]{float:right}.btn-primary[data-v-45f88d8e]{width:108px;height:30px;margin-left:20px;text-align:left;padding:0}.btn-primary span[data-v-45f88d8e]{display:inline-block;width:90px;height:30px;line-height:30px;text-align:center}.btn-primary1[data-v-45f88d8e]{float:right}.btn-primary1[data-v-45f88d8e],.btn-primary2[data-v-45f88d8e]{height:30px;margin:7px 0 0 20px;padding:0 15px}.btn-primary1[disabled][data-v-45f88d8e]{background-color:#f5f5f5;border-color:#d9d9d9}[data-v-45f88d8e] .ant-form-item-label{margin-bottom:10px}[data-v-45f88d8e] .ant-dropdown-trigger>.anticon.anticon-down{font-size:14px;color:#000}.sider-one[data-v-45f88d8e]{height:60px;border-bottom:1px solid #e2e2e2;padding:0 20px}.sider-one-txt[data-v-45f88d8e]{height:60px;line-height:60px;text-align:left;margin:0 10px}.sider-footer[data-v-45f88d8e]{position:fixed;height:50px;width:900px;bottom:0;background-color:#fff;border-top:1px solid #e2e2e2;padding-top:10px;z-index:999;text-align:center}.scro-right[data-v-45f88d8e]{position:relative;float:right;height:100%;height:calc(100% - 50px)!important;background-color:#fff}.scro-line[data-v-45f88d8e],.scro-right[data-v-45f88d8e]{width:3px;overflow:hidden}.scro-line[data-v-45f88d8e]{position:absolute;z-index:1;top:0;right:0;border-radius:3px;background-color:#d3d3d3}.sider-content[data-v-45f88d8e]{float:left;width:100%;width:calc(100% - 3px);width:97%;max-height:100%;overflow:hidden}.sider-two[data-v-45f88d8e]{padding:0 20px 10px}.sider-three[data-v-45f88d8e]{padding:0 20px}.sider-one span[data-v-45f88d8e],.sider-three div span[data-v-45f88d8e],.sider-two span[data-v-45f88d8e]{text-align:right;display:inline-block;width:120px}.sider-title[data-v-45f88d8e]{height:50px;width:250px;border-bottom:1px solid #e2e2e2;line-height:50px;text-align:center}.list[data-v-45f88d8e]{overflow-y:hidden}.sider-tags[data-v-45f88d8e]{text-align:left}[data-v-45f88d8e] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:5px}[data-v-45f88d8e] .ant-tag-checkable-checked{background-color:#1890ff}[data-v-45f88d8e] .bind-table thead .ant-checkbox-wrapper{display:none}.select-option[data-v-45f88d8e]{display:inline-block;margin-right:10px;margin-bottom:10px}.select-option label[data-v-45f88d8e]{display:inline-block;text-align:right;width:100px}[data-v-45f88d8e] .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){z-index:1;color:#fff;background:#1890ff;border-color:#1890ff;-webkit-box-shadow:none;box-shadow:none}.download-progress[data-v-45f88d8e] .ant-progress-inner{-webkit-transition:.5s;transition:.5s}.tabBtn[data-v-45f88d8e]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.activeBtn[data-v-45f88d8e]{color:#1890ff;background:#fff}[data-v-45f88d8e] .ant-table-thead>tr>th:first-child .ant-table-header-column{display:none}.repeat-table[data-v-45f88d8e] .ant-table-thead>tr>th:first-child .ant-table-header-column{display:block}.checkbox-row[data-v-45f88d8e]{margin-top:10px}[data-v-45f88d8e] .ant-drawer-content{height:calc(100% - 64px)}.over-width[data-v-45f88d8e]{width:500px!important;max-height:400px!important;overflow-y:auto!important}",""])},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"4f7f":function(t,e,a){"use strict";var s=a("c26b"),i=a("b39a"),n="Set";t.exports=a("e0b8")(n,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return s.def(i(this,n),t=0===t?0:t,t)}},s)},"8c10c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{width:"888px!important",title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("a-input-search",{staticStyle:{width:"230px","margin-right":"10px"},attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("div",[a("a-select",{staticStyle:{width:"230px"},attrs:{showSearch:"",getPopupContainer:function(t){return t.parentNode},optionFilterProp:"children",placeholder:"群分组",allowClear:!0},on:{change:function(e){return t.getChatList(1)}},model:{value:t.chartGroup,callback:function(e){t.chartGroup=e},expression:"chartGroup"}},t._l(t.chartGroupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t")])})),1)],1),a("div",[1==t.isSop?a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear}},[t._v("清空")]):t._e()],1)],1),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)||1==t.isSop&&t.isSopChooseComp(t.chatData,e)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("div",{staticClass:"flex items-center w-ful justify-between"},[a("div",[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"ss-ellipsis-1 pr-10 ss-break-all"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t"),e.member_num&&1==t.isShowGroupOwner?a("span",[t._v("（"+t._s(e.member_num)+"）")]):t._e()])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[0==t.isShowGroupOwner?a("span",[t._v(t._s(e.member_num)+"/200")]):t._e(),e.owner_name&&1==t.isShowGroupOwner?a("span",{staticStyle:{color:"#AAAAAA"}},[t._v("群主："+t._s(e.owner_name))]):t._e()])],1),1==t.isSop&&t.isSopChooseComp(t.chatData,e)?a("div",{staticClass:"flex-none"},[t._v("\n\t\t\t\t\t\t\t\t\t该群已有规则\n\t\t\t\t\t\t\t\t")]):t._e()])])])],1)})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],staticClass:"pagination",staticStyle:{width:"100%",margin:"20px 0px","padding-bottom":"20px",height:"50px"}},[a("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.count,showSizeChanger:"",showQuickJumper:!0,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.getChatList,showSizeChange:t.getChatList}})],1)])],1)])],1)},i=[],n=(a("96cf"),a("3b8d")),r=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),o=a.n(r),l=a("e306"),c=a.n(l),h=a("4bef"),d=a.n(h),p=o.a.CancelToken,u=p.source(),m={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){return[]}},chatArr:{type:Array,default:function(){return[]}},chatArrt:{type:Array,default:function(){return[]}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0},isSop:{type:Number,default:0},isShowGroupOwner:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:c.a,img2:d.a,chartGroupList:[],chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,pageSize2:15,count:0,chatData:[],chooseNum:0,chartGroup:void 0}},methods:{content:function(t,e){var a=!0,s=!1,i=void 0;try{for(var n,r=t[Symbol.iterator]();!(a=(n=r.next()).done);a=!0){var o=n.value;if(o==e)return!1}}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return!0},getChartGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat/chat-group-list",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):([{group_name:"群分组",id:0}],this.chartGroupList=a.data.info,this.getChatList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isSopChooseComp:function(t,e){return 1==e.disabled&&-1==this.chatArrt.indexOf(e.chat_id)},getChatList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:15,this.cancelFlag=!0,t.next=5,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,page_size:a,is_list:this.is_list,is_sop:this.isSop,group_id:this.chartGroup},{cancelToken:u.token});case 5:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):(this.count=i.data.count,this.cancelFlag=!1,this.page2=e,this.pageSize2=a,this.chatList=i.data.list);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},clear:function(){this.chooseNum=0,this.chatData=[]},handleCancle:function(){this.checkedKey++,this.cancelFlag&&u.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chartGroup=void 0,this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChartGroupList())}},mounted:function(){}},g=m,f=(a("2d3a"),a("2877")),_=Object(f["a"])(g,s,i,!1,null,"37bdbcfe",null);e["a"]=_.exports},"8e3c":function(t,e,a){var s=a("9125");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("1b2c097c",s,!0,{sourceMap:!1,shadowMode:!1})},9125:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-37bdbcfe] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-37bdbcfe] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox{float:right;margin-top:15px}.noMore[data-v-37bdbcfe]{text-align:center;padding:10px 0;font-size:12px;color:#999}.dropdown-style[data-v-37bdbcfe] .ant-select-dropdown{z-index:99999999999!important}",""])},95204:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:2==t.type?"请选择导购":"请选择企业成员",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}},t._l(t.userList,(function(e,s){return a("a-select-option",{key:2==t.type?s:e.id},[t._v("\n\t\t\t"+t._s(e.name)),2==t.type&&e.group_name?a("span",[t._v("("+t._s(e.group_name)+")")]):t._e()])})),1)],1)},i=[],n=(a("96cf"),a("3b8d")),r=(a("c5f6"),{props:{callback:{type:Function,default:null},index:{type:Number,default:-1},index2:{type:Number,default:-1},disabled:{type:Boolean,default:!1},getFisrstStaff:{type:Boolean,default:!1},type:{type:Number,default:0},ignore_dialout:{type:Number,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,userList:[],userId:[],userName:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,this.isLoading=!0,2==this.type?(a={corp_id:this.corpId,guide_keyword:this.userName,operator:0,page:e,page_size:10},s="shop-customer-guide/list"):(a={corp_id:this.corpId,name:this.userName,user_id:this.userId,is_all:0,page:e,ignore_dialout:this.ignore_dialout},1==this.type&&(a.sub_id=localStorage.getItem("sub_id"),a.isMasterAccount=localStorage.getItem("isMasterAccount")),s="work-user/get-all-user"),t.next=5,this.axios.post(s,a);case 5:i=t.sent,n=i.data,0!=n.error?(this.isLoading=!1,this.$message.error(n.error_msg)):(this.isLoading=!1,this.count=n.data.count,this.getFisrstStaff&&(this.userId=n.data.info[0].id,null!==this.callback&&"function"===typeof this.callback&&(-1===this.index&&-1===this.index2?this.callback("ok",n.data.info[0].id):this.callback("ok",n.data.info[0].id,this.index,this.index2,n.data.info[0]))),1==e?2==this.type?this.userList=n.data.result:this.userList=n.data.info:2==this.type?this.userList=this.userList.concat(n.data.result):this.userList=this.userList.concat(n.data.info),this.page=e);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSelect:function(t){null!==this.callback&&"function"===typeof this.callback&&(2==this.type?-1===this.index&&-1===this.index2?this.callback("ok",this.userList[t].id):this.callback("ok",this.userList[t].id,this.index,this.index2,this.userList[t]):-1===this.index&&-1===this.index2?this.callback("ok",t):this.callback("ok",t,this.index,this.index2))},focusSelect:function(){""!=this.userName&&(this.page=1,this.userList=[],this.userName="",this.getAllStaffList())},searchName:function(t){this.userName=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}},watch:{userId:{handler:function(t){this.getAllStaffList()},deep:!0},getFisrstStaff:{handler:function(t){this.getAllStaffList()},deep:!0}}}),o=r,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,"2fbfc039",null);e["a"]=c.exports},ad7d:function(t,e,a){var s=a("4629");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("3fd44ae6",s,!0,{sourceMap:!1,shadowMode:!1})},b39a:function(t,e,a){var s=a("d3f4");t.exports=function(t,e){if(!s(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b884:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-1c74f8e2] .ant-tree-checkbox{float:right}[data-v-1c74f8e2] .ant-tree-iconEle{display:none!important}[data-v-1c74f8e2] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-1c74f8e2] .ant-list-item{border-bottom:0;padding:0}[data-v-1c74f8e2] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-1c74f8e2] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-1c74f8e2]{color:red;margin:0 20px 12px 0}.group-name[data-v-1c74f8e2]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-1c74f8e2]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}[data-v-1c74f8e2] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;height:26px;line-height:25px}[data-v-1c74f8e2] .ant-tag-checkable-checked{background-color:#1890ff}[data-v-1c74f8e2] .ant-col-20{margin-left:20px;width:calc(83.33333% - 20px)}.add-tag-group[data-v-1c74f8e2] .ant-col-20{margin-left:0;width:83.33333333%}",""])},c26b:function(t,e,a){"use strict";var s=a("86cc").f,i=a("2aeb"),n=a("dcbc"),r=a("9b43"),o=a("f605"),l=a("4a59"),c=a("01f9"),h=a("d53b"),d=a("7a56"),p=a("9e1e"),u=a("67ab").fastKey,m=a("b39a"),g=p?"_s":"size",f=function(t,e){var a,s=u(e);if("F"!==s)return t._i[s];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,c){var h=t((function(t,s){o(t,h,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=s&&l(s,a,t[c],t)}));return n(h.prototype,{clear:function(){for(var t=m(this,e),a=t._i,s=t._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete a[s.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var a=m(this,e),s=f(a,t);if(s){var i=s.n,n=s.p;delete a._i[s.i],s.r=!0,n&&(n.n=i),i&&(i.p=n),a._f==s&&(a._f=i),a._l==s&&(a._l=n),a[g]--}return!!s},forEach:function(t){m(this,e);var a,s=r(t,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){s(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(t){return!!f(m(this,e),t)}}),p&&s(h.prototype,"size",{get:function(){return m(this,e)[g]}}),h},def:function(t,e,a){var s,i,n=f(t,e);return n?n.v=a:(t._l=n={i:i=u(e,!0),k:e,v:a,p:s=t._l,n:void 0,r:!1},t._f||(t._f=n),s&&(s.n=n),t[g]++,"F"!==i&&(t._i[i]=n)),t},getEntry:f,setStrong:function(t,e,a){c(t,e,(function(t,a){this._t=m(t,e),this._k=a,this._l=void 0}),(function(){var t=this,e=t._k,a=t._l;while(a&&a.r)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?h(0,"keys"==e?a.k:"values"==e?a.v:[a.k,a.v]):(t._t=void 0,h(1))}),a?"entries":"values",!a,!0),d(e)}}},c814:function(t,e,a){var s=a("b884");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("688da18d",s,!0,{sourceMap:!1,shadowMode:!1})},cd5b:function(t,e,a){t.exports=a.p+"assets/img/guide.0b1cdfa5.png"},d22e:function(t,e,a){"use strict";var s=a("c814"),i=a.n(s);i.a},df74:function(t,e,a){t.exports=a.p+"assets/img/call.179c83e9.png"},e0b8:function(t,e,a){"use strict";var s=a("7726"),i=a("5ca1"),n=a("2aba"),r=a("dcbc"),o=a("67ab"),l=a("4a59"),c=a("f605"),h=a("d3f4"),d=a("79e5"),p=a("5cc5"),u=a("7f20"),m=a("5dbc");t.exports=function(t,e,a,g,f,_){var v=s[t],y=v,x=f?"set":"add",b=y&&y.prototype,w={},k=function(t){var e=b[t];n(b,t,"delete"==t?function(t){return!(_&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return _&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof y&&(_||b.forEach&&!d((function(){(new y).entries().next()})))){var S=new y,C=S[x](_?{}:-0,1)!=S,L=d((function(){S.has(1)})),N=p((function(t){new y(t)})),T=!_&&d((function(){var t=new y,e=5;while(e--)t[x](e,e);return!t.has(-0)}));N||(y=e((function(e,a){c(e,y,t);var s=m(new v,e,y);return void 0!=a&&l(a,f,s[x],s),s})),y.prototype=b,b.constructor=y),(L||T)&&(k("delete"),k("has"),f&&k("get")),(T||C)&&k(x),_&&b.clear&&delete b.clear}else y=g.getConstructor(e,t,f,x),r(y.prototype,a),o.NEED=!0;return u(y,t),w[t]=y,i(i.G+i.W+i.F*(y!=v),w),_||g.setStrong(y,t,f),y}},e122:function(t,e,a){"use strict";var s=a("ad7d"),i=a.n(s);i.a},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"}}]);