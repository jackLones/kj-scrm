(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8f55988"],{"0094":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[r("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?r("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[r("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),r("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,a){return["scene"!=t.routeName&&"template"!=t.routeName?[r("a-radio-group",{on:{change:function(i){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[r("a-radio-button",{attrs:{value:e.corpid}},[r("div",[r("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:i("de05"),alt:""}}),r("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[r("a-radio-group",{on:{change:function(i){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[r("a-radio-button",{attrs:{value:e.corpid}},[r("div",[r("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),r("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},a=[],s=(i("7f7f"),i("28a5"),i("96cf"),i("3b8d")),o=(i("7514"),i("bc3a")),n=i.n(o),l=i("f64c"),c={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a,s,o,c,d,u=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,i=e.data,0!=i.error){t.next=34;break}if(!(i.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(r=this.hasName.split(","),!(r.length>0)){t.next=22;break}a=!0,s=0;case 11:if(!(s<r.length)){t.next=19;break}if(-1!=i.data.indexOf(r[s])){t.next=16;break}return l["a"].error("该企业微信未配置相关功能权限，无法选择"),a=!1,t.abrupt("return",!1);case 16:s++,t.next=11;break;case 19:a&&(this.showModal=!1,o=this.corpInfo.find((function(t){return t.corpid==u.corpId})),this.$store.dispatch("changeCorp",o),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,o.corp_name)),t.next=23;break;case 22:-1==i.data.indexOf(this.hasName)?l["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,c=this.corpInfo.find((function(t){return t.corpid==u.corpId})),this.$store.dispatch("changeCorp",c),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,c.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==u.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name);case 29:t.next=32;break;case 31:l["a"].error("无权限");case 32:t.next=35;break;case 34:l["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},d=c,u=(i("ffd5"),i("2877")),p=Object(u["a"])(d,r,a,!1,null,"440e9184",null);e["a"]=p.exports},"1c4c":function(t,e,i){"use strict";var r=i("9b43"),a=i("5ca1"),s=i("4bf8"),o=i("1fa8"),n=i("33a4"),l=i("9def"),c=i("f1ae"),d=i("27ee");a(a.S+a.F*!i("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,a,u,p=s(t),h="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,x=d(p);if(m&&(g=r(g,f>2?arguments[2]:void 0,2)),void 0==x||h==Array&&n(x))for(e=l(p.length),i=new h(e);e>v;v++)c(i,v,m?g(p[v],v):p[v]);else for(u=x.call(p),i=new h;!(a=u.next()).done;v++)c(i,v,m?o(u,g,[a.value,v],!0):a.value);return i.length=v,i}})},"20d6":function(t,e,i){"use strict";var r=i("5ca1"),a=i("0a49")(6),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},2247:function(t,e,i){var r=i("b2df");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("499e").default;a("57bc80db",r,!0,{sourceMap:!1,shadowMode:!1})},"4f7f":function(t,e,i){"use strict";var r=i("c26b"),a=i("b39a"),s="Set";t.exports=i("e0b8")(s,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(a(this,s),t=0===t?0:t,t)}},r)},"59fe":function(t,e,i){var r=i("b6ee");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=i("499e").default;a("2af37125",r,!0,{sourceMap:!1,shadowMode:!1})},95204:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:"请选择企业成员",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}},t._l(t.userList,(function(e,r){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])})),1)],1)},a=[],s=(i("96cf"),i("3b8d")),o=(i("c5f6"),{props:{callback:{type:Function,default:null},index:{type:Number,default:""},index2:{type:Number,default:""},disabled:{type:Boolean,default:!1},getFisrstStaff:{type:Boolean,default:!1},type:{type:Number,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,userList:[],userId:[],userName:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,this.isLoading=!0,i={corp_id:this.corpId,name:this.userName,user_id:this.userId,is_all:0,page:e},1==this.type&&(i.sub_id=localStorage.getItem("sub_id"),i.isMasterAccount=localStorage.getItem("isMasterAccount")),t.next=6,this.axios.post("work-user/get-all-user",i);case 6:r=t.sent,a=r.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):(this.isLoading=!1,this.count=a.data.count,this.getFisrstStaff&&(this.userId=a.data.info[0].id,null!==this.callback&&"function"===typeof this.callback&&(""===this.index&&""===this.index2?this.callback("ok",a.data.info[0].id):this.callback("ok",a.data.info[0].id,this.index,this.index2))),this.userList=1==e?a.data.info:this.userList.concat(a.data.info),this.page=e);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSelect:function(t){null!==this.callback&&"function"===typeof this.callback&&(""===this.index&&""===this.index2?this.callback("ok",t):this.callback("ok",t,this.index,this.index2))},focusSelect:function(){""!=this.userName&&(this.page=1,this.userList=[],this.userName="",this.getAllStaffList())},searchName:function(t){this.userName=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}},watch:{userId:{handler:function(t){this.getAllStaffList()},deep:!0},getFisrstStaff:{handler:function(t){this.getAllStaffList()},deep:!0}}}),n=o,l=i("2877"),c=Object(l["a"])(n,r,a,!1,null,"23e05649",null);e["a"]=c.exports},"9f27":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"80px"}},[i("div",[i("a-card",{staticStyle:{"margin-bottom":"20px",padding:"10px 20px"}},[i("label",{staticClass:"tpl-title"},[t._v("待办设置")])]),i("div",{staticStyle:{padding:"0 20px"}},[i("span",{directives:[{name:"has",rawName:"v-has",value:"todoManagementCustomizeNew-list",expression:"'todoManagementCustomizeNew-list'"}],staticClass:"tabBtn",class:{activeBtn:0==t.current},on:{click:function(e){return t.changeCurrent(0)}}},[t._v("自定义项目处理阶段")]),i("span",{directives:[{name:"has",rawName:"v-has",value:"todoLevel-list",expression:"'todoLevel-list'"}],staticClass:"tabBtn",class:{activeBtn:1==t.current},on:{click:function(e){return t.changeCurrent(1)}}},[t._v("自定义优先级")])]),i("a-card",{staticStyle:{margin:"0 20px 0px 20px",padding:"10px 20px 0px 20px"}},[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.current,expression:"current==0"}],staticClass:"steps-content"},[i("div",{staticStyle:{background:"#FFF",padding:"0 0 20px 0"}},[i("a-row",{staticStyle:{"margin-top":"10px"}},[t._l(t.executionStatusList,(function(e,r){return[i("a-col",{style:{float:r%16>7?"right":"left",marginRight:r%16==8?"4.17%":""},attrs:{span:2}},[i("a-button",{staticClass:"btn-tag",style:{color:e.color}},[t._v(t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")])],1),r%8!=7&&r!=t.executionStatusList.length-1?i("a-col",{staticStyle:{padding:"2px 0","text-align":"center"},style:{float:r%16>7?"right":"left"},attrs:{span:1}},[r%16>7?i("div",{staticClass:"arrow-left"}):t._e(),i("div",{staticClass:"line"}),r%16<7?i("div",{staticClass:"arrow-right"}):t._e()]):t._e(),r%16==7&&r!=t.executionStatusList.length-1?i("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:23}},[i("div",{staticClass:"line-right"})]):t._e(),r%16==7&&r!=t.executionStatusList.length-1?i("a-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:23}},[i("div",{staticClass:"arrow-bottom arrow-bottom-right"})]):t._e(),r%16==15&&r!=t.executionStatusList.length-1?i("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:23}},[i("div",{staticClass:"line-left"})]):t._e(),r%16==15&&r!=t.executionStatusList.length-1?i("a-col",{staticStyle:{"margin-bottom":"5px"},attrs:{span:23}},[i("div",{staticClass:"arrow-bottom arrow-bottom-left"})]):t._e()]}))],2),i("div",{staticStyle:{height:"40px","line-height":"40px",margin:"20px 0 10px 0"}},[i("span",{staticStyle:{color:"#FF562D","margin-left":"20px"}},[t._v("鼠标移动面板更改阶段排序，但第一个和最后一个的阶段顺序不可移动，亦不能删除。")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"todoManagementCustomizeNew-add",expression:"'todoManagementCustomizeNew-add'"}],staticStyle:{"margin-right":"20px","vertical-align":"middle",float:"right"},attrs:{type:"primary",icon:"plus"},on:{click:t.addFollow}},[t._v("新增处理阶段\n\t\t\t\t\t\t\t\t")])],1),i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading1}},[i("a-table",{staticClass:"follow-table",attrs:{columns:t.columns,dataSource:t.executionStatusList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"sort",fn:function(e,r,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a+1)+"\n\t\t\t\t\t\t\t\t\t")])}},{key:"desc",fn:function(e,r,a){return i("span",{},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.stateAll,expression:"stateAll==false"}]},[""!=r.desc?i("span",[t._v(t._s(r.desc))]):t._e(),""==r.desc?i("span",[t._v("--")]):t._e()]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.stateAll,expression:"stateAll==true"}]},[i("a-textarea",{attrs:{"allow-clear":"",maxLength:50,placeholder:"请输入状态描述，50个字以内"},on:{change:function(i){return t.editChange1(a,e)}},model:{value:e,callback:function(t){e=t},expression:"text"}})],1)])}},{key:"title1",fn:function(e,r,a){return i("span",{style:{color:r.color}},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.stateAll,expression:"stateAll==false"}]},[t._v(t._s(r.title))]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.stateAll,expression:"stateAll==true"}]},[i("a-input",{staticClass:"editInput",staticStyle:{width:"220px"},attrs:{maxLength:8,placeholder:"请输入状态，8个字以内"},on:{change:function(e){return t.editChange2(a,r.title)}},model:{value:r.title,callback:function(e){t.$set(r,"title",e)},expression:"record.title"}},[i("span",{style:{color:r.color},attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s((t.executionStatusList[a].title||"").length))]),t._v("/8\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),i("a-popover",{attrs:{trigger:"click",placement:"right"}},[i("color-picker",{attrs:{slot:"content"},slot:"content",model:{value:r.color,callback:function(e){t.$set(r,"color",e)},expression:"record.color"}}),i("div",{staticClass:"color-box",staticStyle:{display:"inline-block"}},[i("span",{staticClass:"color-show",style:{"background-color":t.fcRemark3(r,a)}})])],1)],1)])}},{key:"action",fn:function(e,r,a){return i("span",{},[t.stateAll?t._e():i("a-button",{directives:[{name:"has",rawName:"v-has",value:"todoManagementCustomizeNew-edit",expression:"'todoManagementCustomizeNew-edit'"}],staticStyle:{margin:"0 5px"},on:{click:function(e){return t.editOldFollow(a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t编辑\n\t\t\t\t\t\t\t\t\t\t")]),0!=a&&a!=t.executionStatusList.length-1?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"todoManagementCustomizeNew-delete",expression:"'todoManagementCustomizeNew-delete'"}],on:{click:function(e){return t.delFollow(r.sort,r.title)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)}}])})],1)],1),i("a-modal",{attrs:{visible:t.followVisible,title:t.addOrEditTitle,width:"720px"},on:{cancel:t.handleCancelFollow}},[i("template",{slot:"footer"},[i("a-button",{on:{click:t.handleCancelFollow}},[t._v("取消")]),i("a-button",{attrs:{loading:t.isLoading1,type:"primary"},on:{click:t.handleFollow}},[t._v("确定")])],1),i("a-form-model",{ref:"ruleFormOne",attrs:{rules:t.rulesOne}},[i("a-form-model-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("处理阶段\n\t\t\t\t\t\t\t\t\t")]),i("a-input",{attrs:{maxLength:8,placeholder:"请输入处理阶段，8个字以内"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.title.length))]),t._v("/8\n\t\t\t\t\t\t")])])],2),i("a-form-model-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t阶段描述\n\t\t\t\t\t\t\t\t\t")]),i("a-textarea",{staticStyle:{"margin-top":"12px"},attrs:{"allow-clear":"",maxLength:50,placeholder:"请输入阶段描述，50个字以内"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),i("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.desc.length)+" / 50")])],2),i("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t选择颜色\n\t\t\t\t\t\t\t\t\t")]),i("div",[[i("a-popover",{attrs:{trigger:"click",placement:"right"}},[i("color-picker",{attrs:{slot:"content"},slot:"content",model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),i("div",{staticClass:"color-box",staticStyle:{display:"inline-block"}},[i("span",{staticClass:"color-show",style:{"background-color":t.fcRemark()}})])],1)]],2)],2)],1)],2)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.current,expression:"current==1"}],staticClass:"steps-content"},[i("div",{staticStyle:{background:"#FFF",padding:"0 0 20px 0"}},[i("div",{staticStyle:{height:"40px","line-height":"40px",margin:"20px 0 10px 0"}},[i("span",{staticStyle:{color:"#FF562D","margin-left":"20px"}},[t._v("鼠标移动面板更改优先级排序")]),i("div",{staticStyle:{display:"inline-block",float:"right"}},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"todoLevel-add",expression:"'todoLevel-add'"}],staticStyle:{"margin-right":"20px","vertical-align":"middle"},attrs:{type:"primary",icon:"plus"},on:{click:t.addPriority}},[t._v("新增优先级\n\t\t\t\t\t\t\t\t\t")])],1)]),i("a-table",{staticClass:"follow-table2",attrs:{columns:t.columns2,dataSource:t.priorityList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"sort",fn:function(e,r,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t\t "+t._s(a+1)+"\n\t\t\t\t\t\t\t\t\t")])}},{key:"title2",fn:function(e,r,a){return i("span",{style:{color:r.color}},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.stateAll,expression:"stateAll==false"}],staticStyle:{padding:"2px 7px","border-radius":"4px"},style:{border:"1px solid "+r.color}},[t._v(t._s(r.title))]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.stateAll,expression:"stateAll==true"}]},[i("a-input",{staticClass:"editInput2",staticStyle:{width:"220px"},attrs:{maxLength:8,placeholder:"请输入状态，8个字以内"},on:{change:function(e){return t.editChange3(a,r.title)}},model:{value:r.title,callback:function(e){t.$set(r,"title",e)},expression:"record.title"}},[i("span",{style:{color:r.color},attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s((t.priorityList[a].title||"").length))]),t._v("/8\n\t\t\t\t\t\t\t\t\t\t")])]),i("a-popover",{attrs:{trigger:"click",placement:"right"}},[i("color-picker",{attrs:{slot:"content"},slot:"content",model:{value:r.color,callback:function(e){t.$set(r,"color",e)},expression:"record.color"}}),i("div",{staticClass:"color-box",staticStyle:{display:"inline-block"}},[i("span",{staticClass:"color-show",style:{"background-color":t.fcRemark4(r,a)}})])],1)],1)])}},{key:"desc",fn:function(e,r,a){return i("span",{},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==t.stateAll,expression:"stateAll==false"}]},[""!=r.desc?i("span",[t._v(t._s(r.desc))]):t._e(),""==r.desc?i("span",[t._v("--")]):t._e()]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.stateAll,expression:"stateAll==true"}]},[i("a-textarea",{attrs:{"allow-clear":"",maxLength:50,placeholder:"请输入优先级描述，50个字以内"},on:{change:function(i){return t.editChange4(a,e)}},model:{value:e,callback:function(t){e=t},expression:"text"}})],1)])}},{key:"action",fn:function(e,r,a){return i("span",{},[i("a-button",{directives:[{name:"show",rawName:"v-show",value:!t.stateAll,expression:"!stateAll"},{name:"has",rawName:"v-has",value:"todoLevel-edit",expression:"'todoLevel-edit'"}],staticStyle:{margin:"0 5px"},on:{click:function(e){return t.editPriority(a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t编辑\n\t\t\t\t\t\t\t\t\t")]),0!=a?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"todoLevel-delete",expression:"'todoLevel-delete'"}],on:{click:function(e){return t.delPriority(r.sort,r.title)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t")]):t._e()],1)}}])})],1),i("a-modal",{attrs:{visible:t.priorityVisible,title:t.priorityAddOrEditTitle,width:"720px"},on:{cancel:t.handleCancelPriority}},[i("template",{slot:"footer"},[i("a-button",{on:{click:t.handleCancelPriority}},[t._v("取消")]),i("a-button",{attrs:{loading:t.isLoading1,type:"primary"},on:{click:t.handlePriority}},[t._v("确定")])],1),i("a-form-model",{ref:"ruleFormTwo",attrs:{rules:t.rulesTwo}},[i("a-form-model-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("优先级名称\n\t\t\t\t\t\t\t\t\t")]),i("a-input",{attrs:{maxLength:8,placeholder:"请输入优先级名称，8个字以内"},model:{value:t.priorityTitle,callback:function(e){t.priorityTitle=e},expression:"priorityTitle"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.priorityTitle.length))]),t._v("/8\n\t\t\t\t\t\t")])])],2),i("a-form-model-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t优先级描述\n\t\t\t\t\t\t\t\t\t")]),i("a-textarea",{staticStyle:{"margin-top":"12px"},attrs:{"allow-clear":"",maxLength:50,placeholder:"请输入优先级描述，50个字以内"},model:{value:t.priorityDesc,callback:function(e){t.priorityDesc=e},expression:"priorityDesc"}}),i("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.priorityDesc.length)+" / 50")])],2),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t选择颜色\n\t\t\t\t\t\t\t\t\t")]),i("div",[[i("a-popover",{attrs:{trigger:"click",placement:"right"}},[i("color-picker",{attrs:{slot:"content"},slot:"content",model:{value:t.priorityColor,callback:function(e){t.priorityColor=e},expression:"priorityColor"}}),i("div",{staticClass:"color-box",staticStyle:{display:"inline-block"}},[i("span",{staticClass:"color-show",style:{"background-color":t.fcRemark2()}})])],1)]],2)],2)],1)],2)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.stateAll,expression:"stateAll==true"}],staticClass:"steps-action"},[i("div",{staticStyle:{display:"inline-block","margin-left":"-200px"}},[t.current>0?i("a-button",{on:{click:t.prev}},[t._v("\n\t\t\t\t\t\t\t\t上一步\n\t\t\t\t\t\t\t")]):t._e(),t.current<t.steps.length-1?i("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.next}},[t._v("\n\t\t\t\t\t\t\t\t下一步\n\t\t\t\t\t\t\t")]):t._e(),t.current==t.steps.length-1?i("a-button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.isLoadingb,type:"primary"},on:{click:t.createActivity}},[t._v("\n\t\t\t\t\t\t\t\t提交\n\t\t\t\t\t\t\t")]):t._e()],1)])])])],1)])},a=[],s=(i("ac6a"),i("4f7f"),i("5df3"),i("1c4c"),i("7514"),i("20d6"),i("55dd"),i("96cf"),i("3b8d")),o=(i("28a5"),i("c345a")),n=i("95204"),l=i("0094"),c=[{title:"排序",dataIndex:"sort",width:"10%",key:"sort",scopedSlots:{customRender:"sort"}},{title:"项目处理阶段",dataIndex:"title1",width:"30%",key:"title1",scopedSlots:{customRender:"title1"}},{title:"阶段描述",dataIndex:"desc",width:"40%",key:"desc",scopedSlots:{customRender:"desc"}},{dataIndex:"action",title:"操作",key:"action",width:"20%",scopedSlots:{customRender:"action"}}],d=[{title:"排序",dataIndex:"sort",width:"10%",key:"sort",scopedSlots:{customRender:"sort"}},{title:"优先级名称",dataIndex:"title2",width:"30%",key:"title",scopedSlots:{customRender:"title2"}},{title:"优先级描述",dataIndex:"desc",width:"40%",key:"desc",scopedSlots:{customRender:"desc"}},{dataIndex:"action",title:"操作",key:"action",width:"20%",scopedSlots:{customRender:"action"}}],u={name:"todoManagementCustomize",components:{"color-picker":o["Sketch"],chooseStaffSelect:n["a"],WeChatModal:l["a"],VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){return{corpId:localStorage.getItem("corpId"),stateAll:!1,showState:!1,showModal2:!1,corpName:localStorage.getItem("corpName"),init:null,obj4:[],isLoadingb:!1,editIndex:null,showName:null,isAddOrEdit:null,isIndex:null,projectName:"",nums:null,way:[],follow_id:"请选择跟进状态",follows:[],followTitle:"",switchState:0,value2:[],value3:[],delIndex:!1,userIndex:null,sortSum:1,openDate:1,need:1,value:1,radioStyle:{display:"block",height:"30px",lineHeight:"40px",marginBottom:"10px"},customVisible:!1,customAddOrEditTitle:"",content:[{task_id:0,title:"请选择项目名称",project_id:0,userInfo:"",descTitle:[],type:1,days:"",date:null}],customList:[],tableList:[],page1:1,count1:0,isLoading5:!1,openIndex:null,openStyle:null,obj3:[],suite_id:1,appList:[],appId:"",projectRemind:[{type:"1",days:""}],userList:[],startId3:null,endId3:null,projectUserId:"请选择企业成员",projectUserName:null,projectDay:"",projectLevelTitle:"选择优先级",index:0,isLoading3:!1,projectColor:"#000",projectTitle:"",projectDesc:"",projectVisible:!1,projectAddOrEditTitle:"",projectList:[],obj2:[],user:"",remind:"",startId2:null,endId2:null,priorityColor:"#000",isLoading:!1,priorityTitle:"",priorityDesc:"",priorityVisible:!1,priorityAddOrEditTitle:"",priorityList:[],obj1:[],startId:null,endId:null,color:"#000",isLoading1:!1,followVisible:!1,addOrEditTitle:"",editId:"",title:"",desc:"",executionStatusList:[],current:0,todoManagementCustomize:!0,todoLevel:!0,steps:[{title:"自定义项目处理阶段"},{title:"自定义优先级"}],createLoading:!1,columns:c,columns2:d,page:1,pageSize:15,total:0,quickJumper:!1,rules:{name:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],desc:[{required:!0,message:"项目描述不能为空",trigger:"blur"}]},rulesOne:{stepName:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],stepDesc:[{required:!0,message:"项目描述不能为空",trigger:"blur"}]},rulesTwo:{name:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],desc:[{required:!0,message:"项目描述不能为空",trigger:"blur"}]}}},mounted:function(){var t=this;if(2==localStorage.getItem("isMasterAccount")){var e=localStorage.getItem("permissionButton").split(","),i=this;-1!=e.indexOf("todoManagementCustomizeNew-list")?i.current=0:i.current=1,-1!=e.indexOf("todoManagementCustomizeNew-remove")?i.todoManagementCustomize=!0:i.todoManagementCustomize=!1,-1!=e.indexOf("todoLevel-remove")?i.todoLevel=!0:i.todoLevel=!1,i.$forceUpdate()}else t.current=0;this.getDefaultData()},watch:{current:function(){0==this.current?this.setDragTable():1==this.current&&this.setDragTable2()},init:function(){0==this.init&&(this.stateAll=!0)}},methods:{editChange3:function(t,e){this.priorityList[t].title=e},editChange4:function(t,e){this.priorityList[t].desc=e},editChange2:function(t,e){this.executionStatusList[t].title=e},editChange1:function(t,e){this.executionStatusList[t].desc=e},editAll:function(){this.obj1=JSON.parse(JSON.stringify(this.executionStatusList)),this.obj2=JSON.parse(JSON.stringify(this.priorityList)),this.obj3=JSON.parse(JSON.stringify(this.projectList)),this.obj4=JSON.parse(JSON.stringify(this.customList)),this.stateAll=!0},notEditAll:function(){this.executionStatusList=JSON.parse(JSON.stringify(this.obj1)),this.priorityList=JSON.parse(JSON.stringify(this.obj2)),this.projectList=JSON.parse(JSON.stringify(this.obj3)),this.customList=JSON.parse(JSON.stringify(this.obj4)),this.$message.warning("已取消编辑"),this.stateAll=!1},getDefaultData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading1=!0,t.next=3,this.axios.post("wait-project/common-detail",{uid:localStorage.getItem("uid")});case 3:e=t.sent,i=e.data,0!=i.error?(this.isLoading1=!1,this.$message.error(i.error_msg)):(this.init=i.data.init,0==this.init&&(this.stateAll=!0),this.executionStatusList=i.data.project_status,this.priorityList=i.data.project_level,0==this.current?this.setDragTable():1==this.current&&this.setDragTable2(),this.isLoading1=!1);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setDragTable:function(){if(this.todoManagementCustomize){var t=this;this.$nextTick((function(){for(var e=document.getElementsByClassName("follow-table")[0].getElementsByTagName("tr"),i=2;i<e.length-1;i++)e[i].setAttribute("draggable",!0),e[i].setAttribute("data-id",i-1),e[i].addEventListener("dragstart",t.dragStart),e[i].addEventListener("drop",t.drop),e[i].addEventListener("dragover",t.dragOver)}))}},setDragTable2:function(){if(this.todoLevel){var t=this;this.$nextTick((function(){for(var e=document.getElementsByClassName("follow-table2")[0].getElementsByTagName("tr"),i=1;i<e.length;i++)e[i].setAttribute("draggable",!0),e[i].setAttribute("data-id2",i-1),e[i].addEventListener("dragstart",t.dragStart),e[i].addEventListener("drop",t.drop),e[i].addEventListener("dragover",t.dragOver)}))}},changeOpenDate1:function(t){t.days=null},dragOver:function(t){t.preventDefault()},dragStart:function(t){0==this.current?this.startId=parseInt(t.currentTarget.attributes["data-id"].value):1==this.current&&(this.startId2=parseInt(t.currentTarget.attributes["data-id2"].value))},drop:function(t){var e,i;if(0==this.current){if(this.endId=parseInt(t.currentTarget.attributes["data-id"].value),e=this.startId,i=this.endId,i<e){for(var r=JSON.parse(JSON.stringify(this.executionStatusList[e])),a=e;a>i;a--)this.executionStatusList[a]=JSON.parse(JSON.stringify(this.executionStatusList[a-1]));this.executionStatusList[i]=JSON.parse(JSON.stringify(r))}else{for(var s=JSON.parse(JSON.stringify(this.executionStatusList[e])),o=e;o<i;o++)this.executionStatusList[o]=JSON.parse(JSON.stringify(this.executionStatusList[o+1]));this.executionStatusList[i]=JSON.parse(JSON.stringify(s))}this.stateAll?(this.executionStatusList=JSON.parse(JSON.stringify(this.executionStatusList)),this.setDragTable()):this.sortFollowList()}else if(1==this.current){if(this.endId2=parseInt(t.currentTarget.attributes["data-id2"].value),e=this.startId2,i=this.endId2,i<e){for(var n=JSON.parse(JSON.stringify(this.priorityList[e])),l=e;l>i;l--)this.priorityList[l]=JSON.parse(JSON.stringify(this.priorityList[l-1]));this.priorityList[i]=JSON.parse(JSON.stringify(n))}else{for(var c=JSON.parse(JSON.stringify(this.priorityList[e])),d=e;d<i;d++)this.priorityList[d]=JSON.parse(JSON.stringify(this.priorityList[d+1]));this.priorityList[i]=JSON.parse(JSON.stringify(c))}this.stateAll?(this.priorityList=JSON.parse(JSON.stringify(this.priorityList)),this.setDragTable2()):this.sortPriorityList()}},sortFollowList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=[],i=0;i<this.executionStatusList.length;i++)e.push(this.executionStatusList[i].id);return t.next=4,this.axios.post("wait-project/wait-status-sort",{uid:localStorage.getItem("uid"),ids:e});case 4:r=t.sent,a=r.data,0!=a.error?(this.isLoadingb=!1,this.$message.error(a.error_msg),this.getDefaultData()):this.getDefaultData();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sortPriorityList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=[],i=0;i<this.priorityList.length;i++)e.push(this.priorityList[i].id);return t.next=4,this.axios.post("wait-project/wait-level-sort",{uid:localStorage.getItem("uid"),ids:e});case 4:r=t.sent,a=r.data,0!=a.error?(this.isLoadingb=!1,this.$message.error(a.error_msg),this.getDefaultData()):this.getDefaultData();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addPriority:function(){this.editId="",this.priorityTitle="",this.priorityDesc="",this.priorityColor="#000",this.priorityAddOrEditTitle="新增优先级",this.priorityVisible=!0},editPriority:function(t){this.editId=this.priorityList[t].id,this.priorityTitle=this.priorityList[t].title,this.priorityDesc=this.priorityList[t].desc,this.priorityColor=this.priorityList[t].color,this.priorityAddOrEditTitle="编辑优先级",this.priorityVisible=!0},handleCancelPriority:function(){this.priorityVisible=!1,this.editId="",this.priorityTitle="",this.priorityDesc="",this.priorityColor="#000"},handlePriority:function(){var t=this;if(""==this.priorityTitle)return this.$message.destroy(),this.$message.warning("优先级名称不能为空"),!1;var e=!1;if(this.priorityList.filter((function(i){if((t.editId!=i.id||""==t.editId)&&i.title==t.priorityTitle)return e=!0,t.$message.destroy(),t.$message.warning("优先级名称已存在"),!1})),1==e)return!1;this.stateAll?function(){for(var e=t.executionStatusList[t.executionStatusList.length-1].sort+1,i=0;;i++){if(-1==t.executionStatusList.findIndex((function(t){return t.sort==e})))break;e++}var r={id:0,sort:e,title:t.priorityTitle,desc:t.priorityDesc,color:t.priorityColor,key:e};t.priorityList.push(r),t.setDragTable2(),t.priorityVisible=!1}():this.addNewPriority()},addNewPriority:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",""!=this.editId){t.next=14;break}e=this.priorityList[this.priorityList.length-1].sort+1,0;case 4:if(-1==this.priorityList.findIndex((function(t){return t.sort==e}))){t.next=8;break}e++,t.next=9;break;case 8:return t.abrupt("break",12);case 9:t.next=4;break;case 12:t.next=15;break;case 14:e=this.priorityList.find((function(t){return t.id==a.editId})).sort;case 15:return t.next=17,this.axios.post("wait-project/add-wait-level",{uid:localStorage.getItem("uid"),id:this.editId,title:this.priorityTitle,color:this.priorityColor,desc:this.priorityDesc,sort:e,key:e});case 17:i=t.sent,r=i.data,0!=r.error?(this.isLoadingb=!1,this.$message.error(r.error_msg)):(this.getDefaultData(),this.priorityVisible=!1);case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),delPriority:function(t,e){var i=this;this.$confirm({title:"一旦删除后，处于【"+e+"】的项目自动回到排序为1的优先级。确定删除吗？",okText:"是",okType:"danger",cancelText:"否",onOk:function(){i.deletePriority(t)},onCancel:function(){}})},deletePriority:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var i,r,a,s,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,r=i.priorityList.findIndex((function(t){return t.sort==e})),0==i.priorityList[r].id){t.next=10;break}return t.next=5,this.axios.post("wait-project/del-wait-level",{id:i.priorityList[r].id});case 5:if(a=t.sent,s=a.data,0!=s.error)this.isLoadingb=!1,this.$message.error(s.error_msg);else if(i.stateAll)if(i.priorityList.length>1)for(i.priorityList=i.priorityList.filter((function(t){if(t.sort!=e)return t})),o=0;o<this.priorityList.length;o++)this.priorityList[o].sort=o+1;else i.$message.warning("当前已是最后一个，不可删除");else i.getDefaultData();t.next=11;break;case 10:if(i.priorityList.length>1)for(i.priorityList=i.priorityList.filter((function(t){if(t.sort!=e)return t})),n=0;n<this.priorityList.length;n++)this.priorityList[n].sort=n+1;else i.$message.warning("当前已是最后一个，不可删除");case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fcRemark2:function(){return"undefined"!=typeof this.priorityColor.hex&&(this.priorityColor=this.priorityColor.hex),this.priorityColor},handleCancelFollow:function(){this.followVisible=!1,this.title="",this.desc="",this.color="#000"},fcRemark:function(){return"undefined"!=typeof this.color.hex&&(this.color=this.color.hex),this.color},fcRemark3:function(t,e){var i=this;return this.executionStatusList.find((function(e){e.sort==t.sort&&(e.color="undefined"==typeof t.color.hex?t.color:t.color.hex)})),this.stateAll&&this.$nextTick((function(){document.getElementsByClassName("editInput")[e].getElementsByClassName("ant-input")[0].style.color=i.executionStatusList[e].color})),this.executionStatusList[e].color},fcRemark4:function(t,e){var i=this;return this.priorityList.find((function(e){e.sort==t.sort&&(e.color="undefined"==typeof t.color.hex?t.color:t.color.hex)})),this.stateAll&&this.$nextTick((function(){document.getElementsByClassName("editInput2")[e].getElementsByClassName("ant-input")[0].style.color=i.priorityList[e].color})),this.priorityList[e].color},handleFollow:function(){var t=this;if(""==this.title.trim())return this.$message.destroy(),this.$message.warning("处理阶段不能为空"),!1;var e=!1;if(this.executionStatusList.filter((function(i){if((t.editId!=i.id||""==t.editId)&&i.title==t.title)return e=!0,t.$message.destroy(),t.$message.warning("处理阶段已存在"),!1})),1==e)return!1;this.editId?this.addNewFollow():this.stateAll?function(){for(var e=t.executionStatusList[t.executionStatusList.length-1].sort+1,i=0;;i++){if(-1==t.executionStatusList.findIndex((function(t){return t.sort==e})))break;e++}var r={id:0,sort:t.executionStatusList[t.executionStatusList.length-1].sort,title:t.title,desc:t.desc,color:t.color,key:t.executionStatusList[t.executionStatusList.length-1].sort},a=JSON.parse(JSON.stringify(t.executionStatusList[t.executionStatusList.length-1]));a.sort=e,a.key=e,t.executionStatusList.splice(t.executionStatusList.length-1,1,r),t.executionStatusList.push(a),t.setDragTable(),t.followVisible=!1}():this.addNewFollow()},addNewFollow:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",""!=this.editId){t.next=14;break}e=this.executionStatusList[this.executionStatusList.length-1].sort+1,0;case 4:if(-1==this.executionStatusList.findIndex((function(t){return t.sort==e}))){t.next=8;break}e++,t.next=9;break;case 8:return t.abrupt("break",12);case 9:t.next=4;break;case 12:t.next=15;break;case 14:e=this.executionStatusList.find((function(t){return t.id==a.editId})).sort;case 15:return t.next=17,this.axios.post("wait-project/add-wait-status",{uid:localStorage.getItem("uid"),id:this.editId,sort:e,title:this.title,desc:this.desc,color:this.color,key:e});case 17:i=t.sent,r=i.data,0!=r.error?this.$message.error(r.error_msg):(this.getDefaultData(),this.followVisible=!1);case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count1&&(this.page1++,this.getAllStaffList(this.page1))},addFollow:function(){this.editId="",this.addOrEditTitle="添加处理阶段",this.title="",this.desc="",this.color="#000",this.followVisible=!0},editOldFollow:function(t){this.editId=this.executionStatusList[t].id,this.addOrEditTitle="编辑处理阶段",this.title=this.executionStatusList[t].title,this.desc=this.executionStatusList[t].desc,this.color=this.executionStatusList[t].color,this.followVisible=!0},delFollow:function(t,e){var i=this;this.$confirm({title:"一旦删除后，停留在【"+e+"】的客户自动回到排序为1的阶段。确定删除吗?",okText:"是",okType:"danger",cancelText:"否",onOk:function(){i.deleteFollow(t)},onCancel:function(){}})},deleteFollow:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var i,r,a,s,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=this,r=i.executionStatusList.find((function(t){return t.sort==e})),0==r.id){t.next=10;break}return t.next=5,this.axios.post("wait-project/del-wait-status",{id:r.id});case 5:if(a=t.sent,s=a.data,0!=s.error)this.isLoadingb=!1,this.$message.error(s.error_msg);else if(i.stateAll)for(i.executionStatusList=i.executionStatusList.filter((function(t){if(t.sort!=e)return t})),o=0;o<this.executionStatusList.length;o++)this.executionStatusList[o].sort=o+1;else i.getDefaultData();t.next=12;break;case 10:for(i.executionStatusList=i.executionStatusList.filter((function(t){if(t.sort!=e)return t})),n=0;n<this.executionStatusList.length;n++)this.executionStatusList[n].sort=n+1;case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editFollow:function(t){this.title=t.tag_ids,this.desc=t.add_num,this.color=t.color,this.addOrEditTitle="编辑处理阶段",this.followVisible=!0},createActivity:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(this.isLoadingb=!0,e=0;e<this.executionStatusList.length;e++)this.executionStatusList[e].sort=e+1;for(i=0;i<this.priorityList.length;i++)this.priorityList[i].sort=i+1;return t.next=5,this.axios.post("wait-project/set",{uid:localStorage.getItem("uid"),project_status:this.executionStatusList,project_level:this.priorityList});case 5:r=t.sent,a=r.data,0!=a.error?(this.isLoadingb=!1,this.$message.error(a.error_msg)):(this.isLoadingb=!1,this.current=0,this.stateAll=!1,this.getDefaultData());case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeCurrent:function(t){this.current=t},next:function(){if(0==this.current){var t=this.executionStatusList,e=t.map((function(t){return t.title})),i=Array.from(new Set(e));if(i.length<e.length)return this.$message.destroy(),this.$message.warning("处理阶段已存在"),!1}else if(1==this.current){var r=this.priorityList,a=r.map((function(t){return t.title})),s=Array.from(new Set(a));if(s.length<a.length)return this.$message.destroy(),this.$message.warning("优先级名称已存在"),!1}this.current++},prev:function(){this.current--},rowClassName:function(t,e){var i="dark-row";return e%2===0&&(i="light-row"),i}},created:function(){}},p=u,h=(i("b658"),i("2877")),f=Object(h["a"])(p,r,a,!1,null,"5abfcc22",null);e["default"]=f.exports},b2df:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-5abfcc22] .ant-card-bordered{border:0}.tpl-title[data-v-5abfcc22]{float:left}.right[data-v-5abfcc22],.tpl-title[data-v-5abfcc22]{font-size:16px;vertical-align:top}.right[data-v-5abfcc22]{float:right;margin:10px 0}.content-bd[data-v-5abfcc22]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;margin:20px 20px}[data-v-5abfcc22] .dark-row{background:#fafafa}[data-v-5abfcc22] .light-row{background:#fff}.steps-content[data-v-5abfcc22]{border-radius:6px;height:calc(100% - 52px);padding:0 30px;overflow-y:auto}.steps-action[data-v-5abfcc22]{position:fixed;bottom:0;z-index:999;height:60px;line-height:60px;width:100%;-webkit-transform:translateX(-40px);transform:translateX(-40px);text-align:center;border-top:1px solid #f1f1f1;background-color:#f0f2f5}.arrow-left[data-v-5abfcc22]{border:5px solid;border-color:transparent #1890ff transparent transparent}.arrow-left[data-v-5abfcc22],.arrow-right[data-v-5abfcc22]{vertical-align:middle;display:inline-block;width:0;height:0}.arrow-right[data-v-5abfcc22]{border:5px solid;border-color:transparent transparent transparent #1890ff}.line[data-v-5abfcc22]{display:inline-block;height:0;width:calc(100% - 10px);border-top:2px solid #1890ff;vertical-align:middle}.line-right[data-v-5abfcc22]{margin-right:4.17%;float:right}.line-left[data-v-5abfcc22],.line-right[data-v-5abfcc22]{height:20px;width:0;border-right:2px solid #1890ff}.line-left[data-v-5abfcc22]{margin-left:4.17%;float:left}.arrow-bottom[data-v-5abfcc22]{display:inline-block;color:#c3c3c3;-webkit-transform:rotate(90deg);transform:rotate(90deg);width:0;height:0;border:5px solid;border-color:transparent transparent transparent #1890ff}.arrow-bottom-right[data-v-5abfcc22]{line-height:10px;float:right;margin-right:calc(4.17% - 4px)}.arrow-bottom-left[data-v-5abfcc22]{line-height:9px;float:left;margin-left:calc(4.17% - 4px)}.color-show[data-v-5abfcc22]{width:20px;height:20px;display:inline-block;margin:0 10px;vertical-align:sub;border:1px solid #bfbfbf}.btn-tag[data-v-5abfcc22]{border:1px solid #1890ff;color:#1890ff;width:100%;overflow:hidden;text-overflow:ellipsis}.active[data-v-5abfcc22]{margin-bottom:20px}.ant-checkbox-wrapper+.ant-checkbox-wrapper[data-v-5abfcc22]{margin-left:0}[data-v-5abfcc22] .ant-select-selection--multiple{margin-bottom:10px}[data-v-5abfcc22] .ant-input-number-handler-down,[data-v-5abfcc22] .ant-input-number-handler-up{display:none}.tabBtn[data-v-5abfcc22]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.activeBtn[data-v-5abfcc22]{color:#1890ff;background:#fff}",""])},b39a:function(t,e,i){var r=i("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b658:function(t,e,i){"use strict";var r=i("2247"),a=i.n(r);a.a},b6ee:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},c26b:function(t,e,i){"use strict";var r=i("86cc").f,a=i("2aeb"),s=i("dcbc"),o=i("9b43"),n=i("f605"),l=i("4a59"),c=i("01f9"),d=i("d53b"),u=i("7a56"),p=i("9e1e"),h=i("67ab").fastKey,f=i("b39a"),g=p?"_s":"size",m=function(t,e){var i,r=h(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var d=t((function(t,r){n(t,d,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&l(r,i,t[c],t)}));return s(d.prototype,{clear:function(){for(var t=f(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=f(this,e),r=m(i,t);if(r){var a=r.n,s=r.p;delete i._i[r.i],r.r=!0,s&&(s.n=a),a&&(a.p=s),i._f==r&&(i._f=a),i._l==r&&(i._l=s),i[g]--}return!!r},forEach:function(t){f(this,e);var i,r=o(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){r(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!m(f(this,e),t)}}),p&&r(d.prototype,"size",{get:function(){return f(this,e)[g]}}),d},def:function(t,e,i){var r,a,s=m(t,e);return s?s.v=i:(t._l=s={i:a=h(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[g]++,"F"!==a&&(t._i[a]=s)),t},getEntry:m,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=f(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?d(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,d(1))}),i?"entries":"values",!i,!0),u(e)}}},e0b8:function(t,e,i){"use strict";var r=i("7726"),a=i("5ca1"),s=i("2aba"),o=i("dcbc"),n=i("67ab"),l=i("4a59"),c=i("f605"),d=i("d3f4"),u=i("79e5"),p=i("5cc5"),h=i("7f20"),f=i("5dbc");t.exports=function(t,e,i,g,m,v){var x=r[t],b=x,y=m?"set":"add",w=b&&b.prototype,S={},k=function(t){var e=w[t];s(w,t,"delete"==t?function(t){return!(v&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof b&&(v||w.forEach&&!u((function(){(new b).entries().next()})))){var L=new b,_=L[y](v?{}:-0,1)!=L,I=u((function(){L.has(1)})),N=p((function(t){new b(t)})),C=!v&&u((function(){var t=new b,e=5;while(e--)t[y](e,e);return!t.has(-0)}));N||(b=e((function(e,i){c(e,b,t);var r=f(new x,e,b);return void 0!=i&&l(i,m,r[y],r),r})),b.prototype=w,w.constructor=b),(I||C)&&(k("delete"),k("has"),m&&k("get")),(C||_)&&k(y),v&&w.clear&&delete w.clear}else b=g.getConstructor(e,t,m,y),o(b.prototype,i),n.NEED=!0;return h(b,t),S[t]=b,a(a.G+a.W+a.F*(b!=x),S),v||g.setStrong(b,t,m),b}},ffd5:function(t,e,i){"use strict";var r=i("59fe"),a=i.n(r);a.a}}]);