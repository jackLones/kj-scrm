(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a7b36a8"],{"1c4c":function(t,e,i){"use strict";var s=i("9b43"),a=i("5ca1"),n=i("4bf8"),o=i("1fa8"),r=i("33a4"),c=i("9def"),l=i("f1ae"),h=i("27ee");a(a.S+a.F*!i("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,a,d,u=n(t),p="function"==typeof this?this:Array,g=arguments.length,f=g>1?arguments[1]:void 0,m=void 0!==f,v=0,x=h(u);if(m&&(f=s(f,g>2?arguments[2]:void 0,2)),void 0==x||p==Array&&r(x))for(e=c(u.length),i=new p(e);e>v;v++)l(i,v,m?f(u[v],v):u[v]);else for(d=x.call(u),i=new p;!(a=d.next()).done;v++)l(i,v,m?o(d,f,[a.value,v],!0):a.value);return i.length=v,i}})},"20d6":function(t,e,i){"use strict";var s=i("5ca1"),a=i("0a49")(6),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),s(s.P+s.F*o,"Array",{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(n)},"2c75":function(t,e,i){t.exports=i.p+"assets/img/token.e3f53cc5.png"},"36bd":function(t,e,i){"use strict";var s=i("4bf8"),a=i("77f1"),n=i("9def");t.exports=function(t){var e=s(this),i=n(e.length),o=arguments.length,r=a(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,l=void 0===c?i:a(c,i);while(l>r)e[r++]=t;return e}},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"4f7f":function(t,e,i){"use strict";var s=i("c26b"),a=i("b39a"),n="Set";t.exports=i("e0b8")(n,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return s.def(a(this,n),t=0===t?0:t,t)}},s)},"515d":function(t,e,i){"use strict";var s=i("8e34"),a=i.n(s);a.a},5489:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-6f13e9ab] .ant-form-item-control{margin-left:15px!important;margin-bottom:10px!important}[data-v-6f13e9ab] .ant-tree-iconEle{display:none!important}[data-v-6f13e9ab] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-6f13e9ab] .ant-list-item{border-bottom:0;padding:0}[data-v-6f13e9ab] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-6f13e9ab] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px;float:right}.page-spinning[data-v-6f13e9ab] .ant-spin-spinning{margin-top:150px}[data-v-6f13e9ab] .ant-tree-title{display:inline-block;width:155px;overflow:hidden;text-overflow:ellipsis}",""])},"5ecc":function(t,e,i){"use strict";var s=i("917a"),a=i.n(s);a.a},6602:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("div",{attrs:{id:"components-layout-demo-basic"}},[s("a-layout-header",[t._v("违规监控")]),t._m(0),s("div",{staticStyle:{"padding-top":"20px",width:"100%",position:"absolute",height:"calc(100% - 190px)"}},[s("div",{staticStyle:{padding:"0 20px"}},[s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-control",expression:"'sensitive-control'"}],staticClass:"tabBtn",class:{activeBtn:1==t.tabKey},on:{click:function(e){return t.changeTabs("1")}}},[t._v("敏感词监控")]),s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words",expression:"'sensitive-words'"}],staticClass:"tabBtn",class:{activeBtn:2==t.tabKey},on:{click:function(e){return t.changeTabs("2")}}},[t._v("敏感词词库")])]),1==t.tabKey?s("div",{staticStyle:{background:"#FAFAFA",margin:"0 20px 20px",padding:"12px 18px",height:"calc(100% - 40px)"}},[s("a-layout",{staticStyle:{position:"relative","padding-top":"10px"}},[s("a-layout-sider",[s("Sensitive",{ref:"sensitive",staticStyle:{position:"absolute",height:"100%","overflow-y":"auto",width:"100%",padding:"10px 0 0 10px"},attrs:{isClose:1,isSystem:1,callback:t.modalVisibleChange3}})],1),s("a-layout",{staticClass:"content",staticStyle:{overflow:"hidden"}},[s("a-layout-header",[s("div",{staticClass:"content-hd"},[t.corpInfo.length>1?s("a-select",{staticStyle:{width:"145px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleWxId},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[s("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2):t._e(),s("a-button",{staticStyle:{"min-width":"150px","margin-right":"5px"},on:{click:t.showDepartmentList1}},[t.chooseNum>0?s("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):s("span",[t._v("选择部门成员")])]),s("a-button",{staticStyle:{width:"145px","margin-right":"5px"},on:{click:t.showChatVisible}},[t.chooseNum1>0?s("span",{staticStyle:{"text-align":"center"}},[t._v("已选择"+t._s(t.chooseNum1)+"个群")]):s("span",{staticStyle:{"text-align":"center"}},[t._v("选择群聊")])]),s("a-range-picker",{staticStyle:{width:"210px"},attrs:{format:"YYYY-MM-DD",allowClear:"","disabled-date":t.disabledDate},model:{value:t.sendTime,callback:function(e){t.sendTime=e},expression:"sendTime"}}),s("a-button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary"},on:{click:function(e){return t.getSensitiveList(1,15)}}},[t._v("查找\n\t\t\t\t\t\t\t\t")]),s("a-button",{on:{click:t.clearSensitive}},[t._v("清空")])],1),t.total1>0?s("div",{staticStyle:{"font-size":"14px",height:"40px","line-height":"40px"}},[t._v("\n\t\t\t\t\t\t\t\t共有\n\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total1)+"\n\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t个违规内容\n\t\t\t\t\t\t\t")]):t._e()]),s("a-layout-content",{staticClass:"scroll",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},[s("div",{staticClass:"page-spinning",staticStyle:{"margin-top":"10px"}},[0!=t.sensitiveList.length||t.isLoading?t._e():s("a-empty",{staticStyle:{"margin-top":"100px"}}),s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[s("div",{staticClass:"spin-content"},[t._l(t.sensitiveList,(function(e){return s("div",{staticStyle:{width:"100%","background-color":"#FFFFFF","margin-bottom":"10px","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.2)"}},[s("div",{staticStyle:{padding:"10px 20px","border-bottom":"1px solid #F8F8FF"}},[1==e.from_type?s("span",[t._v("成员")]):t._e(),2==e.from_type?s("span",[t._v("客户")]):t._e(),s("span",{staticStyle:{"font-weight":"700"}},[t._v("【"+t._s(e.from_name)+"】")]),1!=e.is_chat?s("span",[t._v(" 对 ")]):t._e(),1==e.is_chat?s("span",[t._v(" 在 ")]):t._e(),1==e.is_chat?s("span",[t._v("群聊")]):t._e(),1!=e.is_chat&&1==e.to_type?s("span",[t._v("成员")]):t._e(),1!=e.is_chat&&2==e.to_type?s("span",[t._v("客户")]):t._e(),s("span",{staticStyle:{"font-weight":"700"}},[t._v("【"+t._s(e.to_name)+"】")]),t._v(" 说\n\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{float:"right"}},[t._v(t._s(e.msg_time))])]),s("div",{staticStyle:{padding:"20px 20px"}},[s("div",{staticStyle:{display:"inline-block","vertical-align":"top","margin-right":"10px"}},[s("a-avatar",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.avatar,shape:"square"}})],1),s("div",{staticStyle:{display:"inline-block",width:"calc(100% - 60px)"}},[s("p",{staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(e.from_name))]),s("p",{staticStyle:{display:"inline-block","margin-bottom":"0px"},domProps:{innerHTML:t._s(e.content)}})])])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total1>0,expression:"total1 > 0"}],staticClass:"pagination",staticStyle:{"background-color":"#FFFFFF"}},[s("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right",margin:"20px"}},[s("a-pagination",{attrs:{total:t.total1,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page1,pageSize:t.pageSize1,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage1,showSizeChange:t.showSizeChange1}})],1)])],2)])],1)])],1)],1),s("groupChat",{attrs:{isRemindAll:1,corpId:t.corpId,show:t.chatVisible,chatArr:t.chatArr,is_list:2,noticeTitle:"只显示历史上设置过违规提醒的群聊。如曾经设置过某群聊违规提醒，现在该群聊不再设置，那么其历史触发敏感词的监控内容，依然在列表中可见。",callback:t.groupChatCallBack}})],1):t._e(),2==t.tabKey?s("div",{staticStyle:{background:"#FAFAFA",margin:"0 20px 20px",padding:"12px 20px",height:"calc(100% - 40px)"}},[s("a-layout",{staticStyle:{position:"relative","padding-top":"10px"}},[s("a-layout-sider",[s("team",{attrs:{isForbid:2,isSystem:1,sortUrl:"limit-word/group-sort",addUrl:"limit-word/group-add",editUrl:"limit-word/group-add",delUrl:"limit-word/del-group",listUrl:"limit-word/group",name:"敏感词",callback:t.modalVisibleChange}})],1),s("a-layout",{staticClass:"content",staticStyle:{overflow:"hidden"}},[s("a-layout-header",[s("div",{staticClass:"content-hd"},[s("div",{staticStyle:{float:"left"}},[s("a-input",{staticStyle:{width:"165px",margin:"0 5px"},attrs:{placeholder:"查找敏感词"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getSensitiveWords(1,15)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("a-button",{staticStyle:{margin:"0px 5px"},attrs:{type:"primary"},on:{click:function(e){return t.getSensitiveWords(1,15)}}},[t._v("查找\n\t\t\t\t\t\t\t\t\t")]),s("a-button",{on:{click:t.clear}},[t._v("清空")])],1),s("div",{staticClass:"content-hd-right"},[s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-add",expression:"'sensitive-words-add'"}],staticClass:"btn-primary",attrs:{icon:"plus",type:"primary"},on:{click:function(e){return t.showModal("add")}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t新建敏感词\n\t\t\t\t\t\t\t\t\t")]),s("a-modal",{attrs:{title:"新建敏感词",confirmLoading:t.confirmLoading3,width:"550px!important"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t选择分组\n\t\t\t\t\t\t\t\t\t\t\t")]),s("a-select",{staticStyle:{width:"180px"},attrs:{showSearch:"",optionFilterProp:"children",dropdownStyle:{overflow:"hidden"}},model:{value:t.editGroupId,callback:function(e){t.editGroupId=e},expression:"editGroupId"}},t._l(t.groupList,(function(e){return s("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],2),s("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[s("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t敏感词名称\n\t\t\t\t\t\t\t\t\t\t\t")]),s("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t每个敏感词名称最多6个字。同时新建多个敏感词时，请用“空格”隔开")]),s("a-input",{attrs:{placeholder:"请输入敏感词（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1)],1)]),s("div",{staticStyle:{"font-size":"14px",height:"40px","line-height":"40px"}},[t._v("\n\t\t\t\t\t\t\t\t共有\n\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total)+"\n\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t个敏感词\n\t\t\t\t\t\t\t")])]),s("a-layout-content",{staticClass:"scroll",staticStyle:{"overflow-x":"hidden","overflow-y":"auto"}},[s("div",{staticClass:"content-bd",staticStyle:{"margin-top":"10px"}},[s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[s("div",{staticClass:"spin-content"},[s("a-table",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-list",expression:"'sensitive-words-list'"}],attrs:{columns:t.columns,dataSource:t.wordsList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"checkedBox",fn:function(e,i,a){return s("span",{},[s("a-checkbox",{attrs:{disabled:1==i.is_forbid},on:{click:function(e){return t.changeSelectKey(i.key)}},model:{value:t.checkBoxValue[a],callback:function(e){t.$set(t.checkBoxValue,a,e)},expression:"checkBoxValue[index]"}})],1)}},{key:"name",fn:function(e,i){return s("span",{},[s("a-tag",{staticClass:"tag-name",attrs:{color:"#2db7f5"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t    "+t._s(i.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1)}},{key:"status",fn:function(e,i){return s("span",{},[1==i.status?s("span",[t._v("已开启")]):t._e(),2==i.status?s("span",[t._v("已关闭")]):t._e()])}},{key:"action",fn:function(e,i){return s("span",{},[1!=i.is_forbid&&2==i.status?s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-close",expression:"'sensitive-words-close'"}],staticStyle:{color:"#1890FF",cursor:"pointer",margin:"5px"},on:{click:function(s){return t.openStatus(e,i)}}},[t._v("开启")]):t._e(),1!=i.is_forbid&&1==i.status?s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-close",expression:"'sensitive-words-close'"}],staticStyle:{color:"#1890FF",cursor:"pointer",margin:"5px"},on:{click:function(s){return t.closeStatus(e,i)}}},[t._v("关闭")]):t._e(),1!=i.is_forbid?s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-delete",expression:"'sensitive-words-delete'"}],staticStyle:{color:"#1890FF",cursor:"pointer",margin:"5px"},on:{click:function(s){return t.showModal3(e,i)}}},[t._v("删除")]):t._e(),1!=i.is_forbid?s("span",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-remove",expression:"'sensitive-words-remove'"}],staticStyle:{color:"#1890FF",cursor:"pointer",margin:"5px"},on:{click:function(e){return t.showModalGroup(i.key)}}},[t._v("移动")]):t._e()])}}],null,!1,1560330595)},[s("span",{attrs:{slot:"checkedBoxTitle"},slot:"checkedBoxTitle"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination"},[s("div",{staticStyle:{height:"32px",float:"left","line-height":"32px",margin:"20px 0px 0px 10px"}},[s("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),s("a-select",{staticStyle:{width:"150px",margin:"0 5px"},attrs:{optionFilterProp:"children"},on:{change:t.changeBatchType},model:{value:t.batchType,callback:function(e){t.batchType=e},expression:"batchType"}},[s("a-select-option",{attrs:{value:"0"}},[t._v("选择当前页")]),s("a-select-option",{attrs:{value:"1"}},[t._v("选择所有")])],1),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-close",expression:"'sensitive-words-close'"}],staticClass:"btn-primary",attrs:{icon:"unlock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:function(e){return t.releaseFollow()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t批量开启\n\t\t\t\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-close",expression:"'sensitive-words-close'"}],staticClass:"btn-primary",attrs:{icon:"lock",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:function(e){return t.failure()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t批量关闭\n\t\t\t\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-delete",expression:"'sensitive-words-delete'"}],staticClass:"btn-primary",attrs:{icon:"delete",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:function(e){return t.deleteCoustomTags()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t删除敏感词\n\t\t\t\t\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-remove",expression:"'sensitive-words-remove'"}],staticClass:"btn-primary",attrs:{icon:"retweet",disabled:0==t.selectedRowKeys.length,type:"primary"},on:{click:function(e){return t.showModalGroup(0)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t移动敏感词\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1),s("div",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-list",expression:"'sensitive-words-list'"}],staticClass:"pagination",staticStyle:{height:"32px",float:"right",margin:"20px"}},[s("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)])],1)]),s("a-modal",{attrs:{title:"删除敏感词",confirmLoading:t.confirmLoading2},on:{ok:t.handleOk3},model:{value:t.visible3,callback:function(e){t.visible3=e},expression:"visible3"}},[s("div",{staticStyle:{margin:"19px 0px"}},[s("a-icon",{staticStyle:{color:"#F7BA2A","font-size":"22px","margin-right":"10px"},attrs:{type:"exclamation-circle"}}),s("span",{staticStyle:{"font-size":"16px",display:"inline-block",width:"90%","line-height":"22px","vertical-align":"top","white-space":"normal","word-break":"break-all"}},[s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.inputValue3))]),t._v("确定删除吗？")])],1)]),s("a-modal",{attrs:{title:"选择分组",width:"888"},on:{ok:t.handleGroupOk,cancel:t.handleCancel},model:{value:t.visibleGroup,callback:function(e){t.visibleGroup=e},expression:"visibleGroup"}},[s("div",{staticStyle:{height:"340px"}},[s("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeGroup},model:{value:t.moveGroupId,callback:function(e){t.moveGroupId=e},expression:"moveGroupId"}},[t._l(t.groupList,(function(e){return[s("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2),s("div",{staticClass:"wxtpl",staticStyle:{height:"300px"}},[t._l(t.groupList,(function(e,i){return[[s("a-radio-group",{on:{change:function(i){return t.changeGroup(e.id)}},model:{value:t.moveGroupId,callback:function(e){t.moveGroupId=e},expression:"moveGroupId"}},[s("a-radio-button",{attrs:{value:e.id}},[s("div",[s("span",{staticStyle:{display:"inline-block",width:"100%","margin-left":"5px","white-space":"nowrap","text-overflow":"ellipsis","-o-text-overflow":"ellipsis",overflow:"hidden","vertical-align":"middle"}},[t._v(t._s(e.title))])])])],1)]]}))],2)],1)])],1)],1)],1):t._e()])],1),s("a-modal",{attrs:{title:"开通会话存档流程图",width:"700px !important"},on:{cancel:t.cancleSetting},model:{value:t.settingVisible,callback:function(e){t.settingVisible=e},expression:"settingVisible"}},[s("template",{slot:"footer"},[s("a-button",{key:"back",on:{click:t.cancleSetting}},[t._v("关闭")])],1),s("img",{staticStyle:{width:"600px"},attrs:{src:i("2c75")}})],2),s("chooseDepartment",{ref:"user",attrs:{id:t.corpId,show:t.showModalDepartment1,isAudit:"1",noticeTitle:"显示历史上开启会话存档的企业成员。若曾经设置过某员工违规提醒，现在对该员工关闭、不再开启会话存档或是该员工离职，那么其历史触发敏感词的监控内容，依然在列表中可见。",isAuditUserAll:1,chooseNum:t.chooseNum,callback:t.modalVisibleChange5,is_from:7,is_special:1}})],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-msg"},[i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t1、当敏感词被不启用时，曾经所触发的内容依然在列表中可见。")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t2、显示历史上开启会话存档的企业成员。若曾经设置过某员工违规提醒，现在对该员工关闭、不再开启会话存档或是该员工离职，那么其历史触发敏感词的监控内容，依然在列表中可见。")]),i("p",{staticStyle:{"margin-bottom":"0"}},[t._v("\n\t\t\t\t3、显示历史上设置过违规提醒的群聊。如曾经设置过某群聊违规提醒，现在该群聊不再设置，那么其历史触发敏感词的监控内容，依然在列表中可见。")])])}],n=(i("20d6"),i("6c7b"),i("28a5"),i("7514"),i("4f7f"),i("5df3"),i("1c4c"),i("96cf"),i("3b8d")),o=(i("ac4d"),i("8a81"),i("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sider-one"},[s("div",{staticClass:"team-add"},[s("span",{staticClass:"team-add-title"},[t._v("分组管理")]),s("a-icon",{directives:[{name:"has",rawName:"v-has",value:t.hasAddName,expression:"hasAddName"}],staticClass:"team-add-icon",attrs:{type:"plus"},on:{click:t.addTeamModal}})],1),s("div",{directives:[{name:"has",rawName:"v-has",value:t.hasGroupName,expression:"hasGroupName"}],ref:"scroll",staticClass:"sider-content scroll-content",on:{mousewheel:t.scrollWheel,mouseover:t.scrollOver,mouseout:t.scrollOut,mousemove:t.scroLineMove,mouseup:t.scroLineUp}},[s("div",{ref:"scroLeft",staticClass:"sider-content"},[s("div",{staticStyle:{width:"100%",cursor:"pointer"}},[s("div",{staticClass:"team",class:{active:0==t.teamId},on:{click:function(e){return t.selectTeam(0,"所有分组")}}},[s("label",{staticClass:"team-name"},[t._v("所有分组")])]),s("vuedrag",{on:{end:t.changeGroupSort},model:{value:t.teamsList1,callback:function(e){t.teamsList1=e},expression:"teamsList1"}},[t._l(t.teamsList1,(function(e,a){return[s("div",{staticClass:"team",class:{active:t.teamId==e.id},on:{click:function(i){return t.selectTeam(e.id,e.title)},mouseleave:t.hideTip,mouseover:function(i){return t.showOperation(e.id)}}},[s("span",{staticClass:"team-name"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t"),1==e.is_forbid&&1==t.isForbid?s("span",[t._v("（系统）")]):t._e()]),t.mouseOverId==e.id&&"未分组"!=e.title&&1!=e.is_forbid&&t.isShow?s("a-popover",{staticStyle:{display:"inline-block",float:"right",cursor:"pointer"},attrs:{placement:"right",trigger:"hover"}},[s("template",{slot:"content"},[s("div",{staticStyle:{width:"100%","text-align":"center"},on:{mouseover:t.showTip,mouseleave:t.hidePopover}},[s("p",{directives:[{name:"has",rawName:"v-has",value:t.hasEditName,expression:"hasEditName"}],staticClass:"team-operation",on:{click:function(e){return t.editTeamName(a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t编辑小组")]),s("p",{directives:[{name:"has",rawName:"v-has",value:t.hasDeleteName,expression:"hasDeleteName"}],staticClass:"team-operation1",on:{click:function(i){return t.removeTeam(e.id,e.title)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t删除小组")])])]),s("img",{staticStyle:{float:"right","vertical-align":"middle","margin-top":"14px"},attrs:{src:i("69f5")}})],2):t._e()],1)]}))],2)],1)]),s("div",{ref:"scroRight",staticClass:"scro-right",on:{mouseup:t.jumpScroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollFlag&&t.scroRight,expression:"scrollFlag && scroRight"}],ref:"scroLine",staticClass:"scro-line",on:{mousedown:t.scroLineDown}})])]),s("a-modal",{attrs:{title:t.title,destroyOnClose:!0,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[s("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[s("span",{attrs:{slot:"suffix"},slot:"suffix"},[s("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],1)],1)}),r=[],c=(i("7f7f"),i("a481"),i("c5f6"),i("b76a")),l=i.n(c),h={name:"team",components:{vuedrag:l.a},props:{callback:{type:Function,default:null},listUrl:{type:String,default:""},sortUrl:{type:String,default:""},addUrl:{type:String,default:""},editUrl:{type:String,default:""},delUrl:{type:String,default:""},name:{type:String,default:""},isForbid:{type:Number,default:0},isSystem:{type:Number,default:0}},data:function(){return{isShow:!0,mouseEnterFlag:!1,startY:0,scrollFlag:!1,scroRight:!0,scrollOutFlag:!1,corpInfo:[],suite_id:1,key:1,visible:!1,editGroupId:"",title:"新建分组",teamsList:[],teamsList1:[],tipVisible:!1,timeOut:"",teamId:0,mouseOverId:"",editFlag:!1,confirmLoading:!1,type:1,teamName:"",hasDeleteName:"",hasEditName:"",hasAddName:"",hasGroupName:""}},created:function(){if("/label/list"==this.$route.path?(this.type=1,this.hasDeleteName="work-tag-group-delete",this.hasEditName="work-tag-group-edit",this.hasAddName="work-tag-group-add",this.hasGroupName="work-tag-group"):"/customTags/list"==this.$route.path?(this.type=0,this.hasDeleteName="client-tag-group-del",this.hasEditName="client-tag-group-edit",this.hasAddName="client-tag-group-add",this.hasGroupName="client-tag-group"):"/group/list"==this.$route.path?(this.type=2,this.hasDeleteName="groupList-del",this.hasEditName="groupList-edit",this.hasAddName="groupList-add",this.hasGroupName="groupList-group"):"/archive/sensitive"==this.$route.path&&(this.type=3,this.hasDeleteName="sensitive-words-group-delete",this.hasEditName="sensitive-words-group-edit",this.hasAddName="sensitive-words-group-add",this.hasGroupName="sensitive-words-group-list"),2==localStorage.getItem("isMasterAccount")){var t=localStorage.getItem("permissionButton").split(",");-1==t.indexOf(this.hasEditName)&&-1==t.indexOf(this.hasDeleteName)?this.isShow=!1:this.isShow=!0}else this.isShow=!0},mounted:function(){this.getTeamsList();var t=new MutationObserver(this.setScroLineHeight);t.observe(this.$refs.scroLine,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),this.setScroLineHeight(),this.initFirefoxScroll()},methods:{changeGroupSort:function(){this.sortGroup()},sortGroup:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],this.teamsList1.map((function(t){e.push(t.id)})),t.next=4,this.axios.post(this.sortUrl,{ids:e,uid:localStorage.getItem("uid")});case 4:i=t.sent,i.data,this.getTeamsList(this.teamId);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showOperation:function(t){clearTimeout(this.timeOut),this.mouseOverId=t},showTip:function(){clearTimeout(this.timeOut)},hideTip:function(){var t=this;this.timeOut=setTimeout((function(){t.mouseOverId=""}),500)},hidePopover:function(){this.mouseOverId=""},addTeamModal:function(){this.title="新增分组",this.teamName="",this.visible=!0},handleOk:function(){if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),!this.teamName)return this.$message.error("请输入分组名"),!1;this.editGroupId?this.sureRemark():this.addTeam()},addTeam:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post(this.addUrl,{uid:localStorage.getItem("uid"),id:this.editGroupId,title:this.teamName});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.teamName="",this.visible=!1,this.getTeamsList(this.teamId));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleCancel:function(){this.editGroupId="",this.visible=!1},handleChange:function(t){var e=this;this.corpInfo.map((function(i){t==i.corpid&&e.$store.dispatch("changeCorp",i)})),this.isLoading=!0,this.teamId="",this.getTeamsList(0),2==localStorage.getItem("isMasterAccount")&&this.$store.dispatch("getPermissionButton")},changetype:function(t){this.key=t},selectTeam:function(t,e){if(t==this.teamId)return!1;this.editFlag=!1,this.teamId=t,this.teamName=e,null!==this.callback&&"function"===typeof this.callback&&this.callback(this.suite_id,this.type,this.teamId,e)},sureRemark:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post(this.editUrl,{uid:localStorage.getItem("uid"),id:this.editGroupId,title:this.teamName});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.visible=!1,this.getTeamsList(this.editGroupId),this.editGroupId="");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editTeamName:function(t){this.mouseOverId="",this.editGroupId=this.teamsList[t].id,this.title="编辑分组",this.teamName=this.teamsList[t].title,this.tipVisible=!1,this.visible=!0},removeTeam:function(t,e){this.mouseOverId="";var i=this;i.$confirm({title:"【"+e+"】一旦删除，归属于该分组的"+this.name+"都将被移至【未分组】，确定删除分组吗?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.delTeam(t)}})},delTeam:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post(this.delUrl,{uid:localStorage.getItem("uid"),id:e});case 2:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.teamId==e&&(e=0,this.teamId=0),this.getTeamsList(e));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getTeamsList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post(this.listUrl,{uid:localStorage.getItem("uid"),is_system:this.isSystem});case 2:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.isLoading=!1,this.teamsList=s.data.group,this.teamsList1=JSON.parse(JSON.stringify(this.teamsList)),this.teamId?(this.teamId=e,this.teamName=0==e?"所有分组":this.teamsList.find((function(t){return t.id==e})).title):(this.teamId=0,this.teamName="所有分组"),null!==this.callback&&"function"===typeof this.callback&&this.callback(this.suite_id,this.type,this.teamId,this.teamName));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setScroLineHeight:function(){var t=this,e=0;e=t.$refs.scroLeft.clientHeight,e>=t.$refs.scroLeft.scrollHeight?t.scroRight=!1:(t.$refs.scroLine.style.height=(e-50)/t.$refs.scroLeft.scrollHeight*(t.$refs.scroRight.scrollHeight-50)+"px",t.scroRight=!0)},initFirefoxScroll:function(){var t=this;document.addEventListener&&document.addEventListener("DOMMouseScroll",(function(e){var i=window.event||e,s=t.$refs.scroLeft.scrollTop,a=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;i.detail>=0?s+=80:s-=80,s<0&&(s=0),s>a-50&&(s=a),t.$refs.scroLeft.scrollTop=s;var n=s/a*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;s>0&&s<a-50&&(n=s/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n>this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight&&(n=this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px"}),!1)},scrollWheel:function(){var t=t||(window.event?window.event:null),e=this.$refs.scroLeft.scrollTop,i=this.$refs.scroLeft.scrollHeight-this.$refs.scroLeft.clientHeight;t.wheelDelta,e-=.5*t.wheelDelta,e<0&&(e=0),e>i&&(e=i),this.$refs.scroLeft.scrollTop=e;var s=e/i*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;e>0&&e<i&&(s=e/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),s<0&&(s=0),this.$refs.scroLine.style.top=s+"px"},jumpScroll:function(){var t=this;if(!t.mouseEnterFlag){var e=e||(window.event?window.event:null),i=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;e.y,t.startY,i+=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight,t.$refs.scroLeft.scrollTop=i,i<0&&(i=0),i>s&&(i=s);var a=i/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;i>0&&i<s&&(a=i/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),a<0&&(a=0),t.$refs.scroLine.style.top=a+"px",t.startY=e.y}},scroLineDown:function(){this.mouseEnterFlag=!0,this.startY=event.y,window.addEventListener&&(window.addEventListener("mouseup",this.scroLineUp,!1),window.addEventListener("mousemove",this.scroLineMove,!1)),this.$emit("banUserSelect")},scroLineMove:function(){var t=this;if(t.mouseEnterFlag){var e=e||(window.event?window.event:null),i=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight,a=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight;i+=a,t.$refs.scroLeft.scrollTop=i,i<0&&(i=0),i>s&&(i=s);var n=i/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;i>0&&i<s&&(n=i/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px",t.startY=e.y}},scroLineUp:function(){if(1==this.mouseEnterFlag){var t=t||(window.event?window.event:null);this.mouseEnterFlag=!1,this.changeWidthSmallFlag&&(this.changeWidthSmall(),this.changeWidthSmallFlag=!1),this.scrollOutFlag&&(this.scrollOut(),this.scrollOutFlag=!1),window.removeEventListener&&(window.removeEventListener("mouseup",this.scroLineUp,!1),window.removeEventListener("mousemove",this.scroLineMove,!1)),this.$emit("userSelect")}},scrollOver:function(){this.scrollFlag=!0},scrollOut:function(){this.mouseEnterFlag||(this.scrollFlag=!1),this.scrollOutFlag=!0}}},d=h,u=(i("c46e"),i("2877")),p=Object(u["a"])(d,o,r,!1,null,"08bc2318",null),g=p.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-spinning"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("div",{staticStyle:{width:"100%"}},[i("a-input-search",{staticStyle:{"margin-bottom":"8px",width:"75%"},attrs:{placeholder:"搜索"},on:{change:t.onChange},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),t.searchVisible?i("div",{staticStyle:{padding:"10px 10px 10px 0"}},[i("a-tree",{attrs:{showIcon:"",checkable:"",expandedKeys:t.expandedKeys,autoExpandParent:t.autoExpandParent,treeData:t.searchValue},on:{expand:t.onExpand,check:t.onSelect2},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}}),i("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.searchValue.length&&!t.isLoading,expression:"searchValue.length == 0 && !isLoading"}]})],1):t._e(),t.searchVisible?t._e():i("a-tree",{attrs:{showIcon:"",checkable:"",expandedKeys:t.expandedKeys,autoExpandParent:t.autoExpandParent,treeData:t.sensitiveList},on:{expand:t.onExpand,check:t.onSelect},model:{value:t.checkedKeys,callback:function(e){t.checkedKeys=e},expression:"checkedKeys"}}),i("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.sensitiveList.length&&!t.isLoading,expression:"sensitiveList.length == 0 && !isLoading"}]})],1)])],1)},m=[],v=i("75fc"),x={name:"chooseDepartment",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},chooseNum:{type:Number,default:0},isSystem:{type:Number,default:0},isClose:{type:Number,default:0}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{isLoading:!1,suite_id:1,corpId:t,showModal:!1,sensitiveList:[],department_id:[],expandedKeys:[],autoExpandParent:!0,checkedKeys:[],checkedNodes:[],selectedKeys:[],searchVal:"",searchValue:[],searchVisible:!1,staffList:[],checkedList:[],checkedKeysArr:[],staffListArr:[],keyList:[]}},methods:{onChange:function(t){var e=t.target.value;""!=e?(this.searchVisible=!0,this.searchValue=[]):(this.searchVisible=!1,this.expandedKeys=[],this.checkedKeys=[],this.checkedKeys=JSON.parse(JSON.stringify(this.checkedNodes)),"undefined"!=typeof this.sensitiveList[0]&&"undefined"!=typeof this.sensitiveList[0].children&&"undefined"!=typeof this.sensitiveList[0].children[0]&&"undefined"!=typeof this.sensitiveList[0].children[0].key&&this.expandedKeys.push(this.sensitiveList[0].children[0].key));for(var i=[],s=function t(e,i,s){return e.forEach((function(e){if(e.title.indexOf(s)>-1){var a={key:e.key,title:e.title,children:e.children};i.push(a)}else if(e.children)return t(e.children,i,s)})),i},a=s(this.sensitiveList,i,e),n=0;n<a.length;n++)for(var o=n+1;o<a.length;o++)a[n].title==a[o].title&&(a.splice(o,1),o--);this.searchValue=a},isFlod:function(t){for(var e=0;e<this.sensitiveList.length;e++)if(this.sensitiveList[e].key==t)return!0;return!1},getSensitiveList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.sensitiveList=[],this.corpId=localStorage.getItem("corpId"),t.next=4,this.axios.post("limit-word/word-group",{uid:localStorage.getItem("uid"),is_system:this.isSystem,is_close:this.isClose});case 4:e=t.sent,i=e.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.sensitiveList=i.data,"undefined"!=typeof this.sensitiveList[0]&&"undefined"!=typeof this.sensitiveList[0].children&&"undefined"!=typeof this.sensitiveList[0].children[0]&&"undefined"!=typeof this.sensitiveList[0].children[0].key&&this.expandedKeys.push(this.sensitiveList[0].children[0].key),0==this.chooseNum?(this.autoExpandParent=!0,this.checkedKeys=[],this.selectedKeys=[],this.searchValue=[],this.staffList=[],this.checkedKeys=[],this.keyList=[]):this.staffList=JSON.parse(JSON.stringify(this.staffListArr)),this.isLoading=!1,this.callback([],!1));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onExpand:function(t){this.expandedKeys=t,this.autoExpandParent=!1},onSelect:function(t,e){var i=this;this.checkedNodes=[],e.checkedNodes.length>0&&e.checkedNodes.map((function(t){i.checkedNodes.push(t.key)})),this.staffList=[];var s=function t(e,i,s){e.forEach((function(e){return e.key===i?s(e):e.children?t(e.children,i,s):void 0}))},a=function t(e,i,s){return e.forEach((function(e,a,n){if(e.children)return t(e.children,i,s)})),s(i)};t.map((function(t){s(i.sensitiveList,t,(function(e){i.isFlod(e.key)||i.staffList.push(e),e.children&&a(e.children,t,(function(t){}))}))})),this.callback(this.staffList,t.length>0)},onSelect2:function(t,e){var i=this,s=function t(e,i,s){e.forEach((function(e){return e.key===i?s(e):e.children?t(e.children,i,s):void 0}))},a=function t(e,i,s){return e.forEach((function(e){if(i.push(e.key),e.children)return t(e.children,i,s)})),s(i)};if(e.checked)if(this.isFlod(e.node.eventKey)){var n=[];s(this.searchValue,e.node.eventKey,(function(t){t.children.length>0&&a(t.children,[e.node.eventKey],(function(t){n=t}))})),n.length>0&&(this.checkedNodes=this.checkedNodes.concat(n))}else this.checkedNodes.push(e.node.eventKey);else if(this.isFlod(e.node.eventKey)){var o=[];s(this.searchValue,e.node.eventKey,(function(t){t.children.length>0&&a(t.children,[e.node.eventKey],(function(t){o=t,o.length>0&&o.map((function(t){var e=i.checkedNodes.indexOf(t);i.checkedNodes.splice(e,1)}))}))}))}else{var r=this.checkedNodes.indexOf(e.node.eventKey);this.checkedNodes.splice(r,1)}this.checkedNodes=Object(v["a"])(new Set(this.checkedNodes)),this.staffList=[],this.checkedNodes.length>0&&this.checkedNodes.map((function(t){s(i.sensitiveList,t,(function(e){i.isFlod(e.key)||i.staffList.push(e),e.children&&a(e.children,[t],(function(t){}))}))})),this.callback(this.staffList,this.checkedNodes.length>0)}},mounted:function(){this.isLoading=!0,this.getSensitiveList()}},y=x,b=(i("5ecc"),Object(u["a"])(y,f,m,!1,null,"6f13e9ab",null)),w=b.exports,k=i("c75b"),_=i("8c10c"),S=i("c1df"),L=i.n(S),N=[{dataIndex:"checkedBox",key:"checkedBox",width:"9%",scopedSlots:{customRender:"checkedBox",title:"checkedBoxTitle"}},{title:"敏感词名称",dataIndex:"name",scopedSlots:{customRender:"name"},key:"name"},{title:"员工触发次数",dataIndex:"staff_times",key:"staff_times"},{title:"客户触发次数",dataIndex:"custom_times",key:"custom_times"},{title:"创建时间",dataIndex:"add_time",key:"add_time"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"},key:"status"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],I={components:{team:g,Sensitive:w,groupChat:_["a"],chooseDepartment:k["a"]},data:function(){return{tabKey:"1",chatVisible:!1,settingVisible:!1,isAudit:0,userIds:[],checkedList:[],chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,showModalDepartment1:!1,chatArr:[],chooseNum1:0,sendTime:null,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,corpInfo:[],corpId:localStorage.getItem("corpId"),wordIds:[],isSelected:!1,page1:1,pageSize1:15,sensitiveList:[],total1:0,checkBoxValue:[],batchType:"0",batchTypeValue:!1,title:"",group_id:"",wordsList:[],isLoading:!0,columns:N,visible:!1,inputValue:"",newWordList:[],inputValue2:"",wordId:"",visible3:!1,inputValue3:"",total:0,quickJumper:!1,page:1,pageSize:15,confirmLoading:!1,confirmLoading2:!1,confirmLoading3:!1,oldValue:"",selectedRowKeys:[],isBatch:!0,ids:[],wordKeys:[],visibleGroup:!1,moveGroupId:"",editGroupId:"",groupList:[],groupDisabled:!1}},methods:{changeTabs:function(t){this.tabKey=t,1==t?this.$nextTick((function(){this.$refs.sensitive.getSensitiveList()})):this.getSensitiveWords()},handleWxId:function(t){this.corpId=t,this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.checkedList=[],this.userIds=[],this.chooseNum1=0,this.chatArr=[],this.$refs.sensitive.getSensitiveList()},modalVisibleChange3:function(t,e){this.isSelected=e,this.wordIds=[];var i=!0,s=!1,a=void 0;try{for(var n,o=t[Symbol.iterator]();!(i=(n=o.next()).done);i=!0){var r=n.value;this.wordIds.push(r.id)}}catch(c){s=!0,a=c}finally{try{i||null==o.return||o.return()}finally{if(s)throw a}}if(0==this.corpInfo.length)return this.isLoading=!1,this.$message.destroy(),this.$message.warning("请授权企业微信！"),!1;this.getSensitiveList()},clearSensitive:function(){this.chooseNum1=0,this.chatArr=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.checkedList=[],this.userIds=[],this.sendTime=null,this.corpId=localStorage.getItem("corpId"),this.getSensitiveList()},cancleSetting:function(){this.settingVisible=!1},showDepartmentList1:function(){if(0==this.corpLen)return this.$message.destroy(),this.$message.warning("请授权企业微信"),!1;this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.userIds)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.checkedList)),this.showModalDepartment1=!0},modalVisibleChange5:function(t,e,i,s,a){"ok"==t&&(this.checkedList=a,this.userIds=e,this.chooseNum=parseInt(i)+parseInt(s),this.chooseUserNum=i,this.chooseDepartmentNum=s),this.showModalDepartment1=!1},showChatVisible:function(){if(0==this.corpLen)return this.$message.destroy(),this.$message.warning("请授权企业微信"),!1;this.chatVisible=!0},groupChatCallBack:function(t,e,i){"ok"==t&&(this.chooseNum1=e,this.chatArr=i),this.chatVisible=!1},disabledDate:function(t){return t&&t>L()().endOf("day")},getSensitiveList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:1,i=n.length>1&&void 0!==n[1]?n[1]:this.pageSize1,this.isLoading=!0,0!=this.corpLen){t.next=8;break}return this.isLoading=!1,this.$message.destroy(),this.$message.warning("请授权企业微信"),t.abrupt("return",!1);case 8:return t.next=10,this.axios.post("limit-word/monitor",{limit_id:this.wordIds,corp_id:this.corpId,start_date:this.sendTime&&this.sendTime.length>1?L()(this.sendTime[0]).format("YYYY-MM-DD"):"",end_date:this.sendTime&&this.sendTime.length>1?L()(this.sendTime[1]).format("YYYY-MM-DD"):"",chat_id:this.chatArr,user_id:this.userIds,is_selected:this.isSelected,page:e,pageSize:i,uid:localStorage.getItem("uid")});case 10:s=t.sent,a=s.data,0!=a.error?(this.$message.error(a.error_msg),this.sensitiveList=[],this.page1=1,this.pageSize1=i,this.total1=0,this.isLoading=!1):(this.sensitiveList=a.data.infoList,this.page1=e,this.pageSize1=i,this.total1=parseInt(a.data.count),this.isLoading=!1);case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),unique:function(t){return Array.from(new Set(t))},handleGroupOk:function(){this.moveGroupIds()},handleCancel:function(){this.visibleGroup=!1},moveGroupIds:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],e=this.isBatch?this.selectedRowKeys:this.ids,t.next=4,this.axios.post("limit-word/group-change",{group_id:this.moveGroupId,id:e,uid:localStorage.getItem("uid")});case 4:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.visibleGroup=!1,this.selectedRowKeys=[],this.ids=[],this.$message.success("移动成功"),this.getSensitiveWords());case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeGroup:function(t){this.moveGroupId=t},showModalGroup:function(t){0!=t?(this.isBatch=!1,this.ids=[],this.ids.push(t)):(this.isBatch=!0,this.ids=[]),this.getTeamsList(),this.visibleGroup=!0},getTeamsList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/group",{uid:localStorage.getItem("uid")});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.groupList=i.data.group,0==this.group_id?(this.moveGroupId=this.groupList.length>0?this.groupList.find((function(t){return 1==t.is_not_group})).id:[],this.editGroupId=this.groupList.length>0?this.groupList.find((function(t){return 1==t.is_not_group})).id:[]):(this.moveGroupId=this.group_id,this.editGroupId=this.group_id));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteCoustomTags:function(){var t=this;t.$confirm({title:"确定删除选中的敏感词?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.removeCoustomTags(0,t.selectedRowKeys)}})},releaseFollow:function(){var t=this;t.$confirm({title:"确定开启选中的敏感词?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.removeCoustomTags(1,t.selectedRowKeys)}})},failure:function(){var t=this;t.$confirm({title:"确定关闭选中的敏感词?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.isLoading=!0,t.removeCoustomTags(2,t.selectedRowKeys)}})},removeCoustomTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/change-status",{uid:localStorage.getItem("uid"),ids:i,status:e});case 2:s=t.sent,a=s.data,0!=a.error?this.$message.error(a.error_msg):(this.visibleGroup=!1,this.selectedRowKeys=[],n="",0==e?(n="删除成功",this.getSensitiveWords()):1==e?(n="开启成功",this.getSensitiveWords(this.page,this.pageSize)):2==e&&(n="关闭成功",this.getSensitiveWords(this.page,this.pageSize)),this.$message.success(n));case 5:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),rowClassName:function(t,e){var i="dark-row";return e%2===0&&(i="light-row"),i},modalVisibleChange:function(t,e,i){this.selectedRowKeys=[],this.suite_id=t,this.type=e,this.group_id=i,this.getSensitiveWords()},showModal:function(){this.getTeamsList(),this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var i=0;i<t.split(" ").length;i++){if(t.split(" ")[i].length>6)return e.$message.error("每个敏感词最多6个字"),e.confirmLoading3=!1,e.inputValue="",!1;t.split(" ")[i].length>0&&(e.newWordList.push(t.split(" ")[i]),e.confirmLoading3=!1)}e.addTags(),e.newWordList=[],e.inputValue=""},addTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/set",{uid:localStorage.getItem("uid"),group_id:this.editGroupId,title:this.newWordList});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.isLoading=!0,this.getSensitiveWords(),this.inputValue="",this.newWordList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.inputValue="",this.visible=!1},changeSelectKey:function(t){for(var e=0;e<this.selectedRowKeys.length;e++)if(t==this.selectedRowKeys[e])return this.selectedRowKeys.splice(e,1),this.setBox(),!1;this.selectedRowKeys.push(t),this.setBox()},batchTypeChange:function(){this.batchTypeValue?(0==this.batchType?(this.removeKey(this.wordsList),this.setCheckedBox(this.wordsList)):1==this.batchType&&(this.selectedRowKeys=[],this.setBox()),this.batchTypeValue=!1):(0==this.batchType?(this.addKey(this.wordsList),this.setCheckedBox(this.wordsList)):1==this.batchType&&(this.selectedRowKeys=JSON.parse(JSON.stringify(this.wordKeys)),this.setBox()),this.batchTypeValue=!0)},setBox:function(){this.setCheckedBox(this.wordsList)},setCheckedBox:function(t){this.checkBoxValue=new Array(t.length),this.checkBoxValue.fill(!1);for(var e=0;e<t.length;e++)for(var i=0;i<this.selectedRowKeys.length;i++)t[e].key==this.selectedRowKeys[i]&&(this.checkBoxValue[e]=!0);if(0==this.batchType){this.batchTypeValue=!0;for(var s=0;s<this.checkBoxValue.length;s++)this.checkBoxValue[s]||1==this.wordsList[s].is_forbid||(this.batchTypeValue=!1)}else this.selectedRowKeys.length==this.wordKeys.length&&0!=this.wordKeys.length?this.batchTypeValue=!0:this.batchTypeValue=!1;if(0==t.length)this.batchTypeValue=!1;else{var a=!0,n=!1,o=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var l=r.value;if(1!=l.is_forbid)return!1}}catch(h){n=!0,o=h}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}this.batchTypeValue=!1}},changeBatchType:function(t){this.batchType=t,this.batchTypeValue?(0==this.batchType&&(this.selectedRowKeys=[]),this.batchTypeValue=!1,this.batchTypeChange()):this.setBox()},addKey:function(t){for(var e=this,i=function(i){var s=e.selectedRowKeys.findIndex((function(e){return e===t[i].key}));-1==s&&1!=t[i].is_forbid&&e.selectedRowKeys.push(t[i].key)},s=0;s<t.length;s++)i(s)},removeKey:function(t){for(var e=this,i=function(i){var s=e.selectedRowKeys.findIndex((function(e){return e===t[i].key}));-1!=s&&e.selectedRowKeys.splice(s,1)},s=0;s<t.length;s++)i(s)},openStatus:function(t,e){var i=this;i.$confirm({title:"确定开启选中的敏感词?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.removeCoustomTags(1,[e.key])}})},closeStatus:function(t,e){var i=this;i.$confirm({title:"确定关闭选中的敏感词?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.removeCoustomTags(2,[e.key])}})},showModal3:function(t,e){this.visible3=!0,this.wordId=e.key,this.inputValue3=e.title},handleOk3:function(t){this.confirmLoading2=!0,this.removeCoustomTags(0,[this.wordId])},clear:function(){this.title="",this.getSensitiveWords()},getSensitiveWords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,i=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("limit-word/list",{uid:localStorage.getItem("uid"),title:this.title,group_id:this.group_id,page:e,pageSize:i});case 5:s=t.sent,a=s.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg),this.confirmLoading=!1):(this.wordsList=a.data.limitWord,this.wordKeys=a.data.keys,this.setCheckedBox(this.wordsList),this.total=parseInt(a.data.count),this.page=e,this.pageSize=i,this.quickJumper=this.total>this.pageSize,this.confirmLoading=!1,this.confirmLoading2=!1,this.visible3=!1,this.confirmLoading3=!1,this.visible=!1,this.isLoading=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getSensitiveWords(t,e),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange:function(t,e){this.getSensitiveWords(1,e)},changePage1:function(t,e){this.getSensitiveList(t,e),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange1:function(t,e){this.getSensitiveList(1,e)},moment:L.a},created:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.corpInfo.length>0&&(t.isAudit=t.corpInfo.find((function(e){return e.corpid==t.corpId})).isAudit);var i=t;if(2==localStorage.getItem("isMasterAccount")){var s=localStorage.getItem("permissionButton").split(",");-1!=s.indexOf("sensitive-control")?i.tabKey="1":i.tabKey="2",i.$forceUpdate()}else i.tabKey="1"}))}},T=I,C=(i("cd35"),Object(u["a"])(T,s,a,!1,null,"9d1ca460",null));e["default"]=C.exports},"69f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAQAAABuvaSwAAAAY0lEQVR42r2SQQ1AIQxDkYIEJCFlacMdR+CIOeAnYKAkH7brO7x1DeHplFSSiLJycrJq8Nyrwb5gF43R0WXrW4OMgYF8cCDG/2kg0+mixs0asbGJTzlL46hItmATrS1afJvTB40bQb8Be38ZAAAAAElFTkSuQmCC"},"6c7b":function(t,e,i){var s=i("5ca1");s(s.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},"7f5b":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".sider-content[data-v-08bc2318]{float:left;width:100%;width:calc(100% - 3px);width:-webkit-calc(100% - 3px);height:100%;max-height:100%;overflow:hidden}.scroll-content[data-v-08bc2318]{width:calc(100% - 20px)!important;height:calc(100% - 60px);overflow:hidden;position:absolute;top:60px}.scro-right[data-v-08bc2318]{position:relative;float:right;height:100%;background-color:#fff}.scro-line[data-v-08bc2318],.scro-right[data-v-08bc2318]{width:3px;overflow:hidden}.scro-line[data-v-08bc2318]{position:absolute;z-index:1;top:0;right:0;border-radius:3px;background-color:#d3d3d3}.sider-one[data-v-08bc2318]{padding:0 10px 0 10px!important;height:100%;overflow-y:hidden}.sider-one-txt[data-v-08bc2318]{height:60px;line-height:60px;text-align:left;overflow-y:hidden}.team[data-v-08bc2318]{width:100%;padding:0 10px}.team[data-v-08bc2318],.team-type[data-v-08bc2318]{height:50px;line-height:50px}.team-type[data-v-08bc2318]{display:inline-block;margin-right:20px;min-width:60px;text-align:center}.team-add[data-v-08bc2318]{width:calc(100% - 3px);height:50px;line-height:50px;margin-top:10px;background-color:#f5f5f5}.team-name[data-v-08bc2318]{display:inline-block;width:160px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.team-add-title[data-v-08bc2318]{display:inline-block;margin-left:76px}.team-add-icon[data-v-08bc2318]{float:right;color:#1e90ff;margin-top:18px;margin-right:20px;cursor:pointer}.team-operation[data-v-08bc2318]{margin-top:4px;cursor:pointer;margin-bottom:8px!important}.team-operation1[data-v-08bc2318]{margin-top:4px;cursor:pointer;margin-bottom:4px!important}.team-operation[data-v-08bc2318]:hover{color:#1890ff}.active-key[data-v-08bc2318]{border-bottom:2px solid #1e90ff;color:#1e90ff}.active[data-v-08bc2318]{background:#1e90ff;color:#fff}[data-v-08bc2318] .ant-popover-inner .ant-popover-inner-content .ant-popover-buttons,[data-v-08bc2318] .ant-tooltip-placement-bottom .ant-tooltip-arrow{display:none!important}",""])},"8c10c":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{staticClass:"msg-modal",attrs:{title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[i("a-input-search",{attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.noticeTitle?i("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),i("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),i("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[i("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return i("a-row",[i("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)},on:{click:function(i){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?i("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[i("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?i("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?i("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?i("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?i("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?i("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?i("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?i("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?i("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?i("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),i("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[i("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")]),i("div",{staticStyle:{width:"calc(100% - 100px)",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")])],2),e.name&&""!=e.name?t._e():i("div",[t._v("--")]),i("div",[t._v(t._s(e.member_num)+"/200")])],1)])],1)})),1),t.chatList.length<t.count?i("div",{staticClass:"noMore"},[t._v("正在加载")]):t._e(),t.chatList.length==t.count?i("div",{staticClass:"noMore"},[t._v("没有更多了")]):t._e()],1)],1)],1)},a=[],n=(i("96cf"),i("3b8d")),o=(i("ac4d"),i("8a81"),i("ac6a"),i("c5f6"),i("bc3a")),r=i.n(o),c=i("e306"),l=i.n(c),h=i("4bef"),d=i.n(h),u=r.a.CancelToken,p=u.source(),g={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){}},chatArr:{type:Array,default:function(){}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:l.a,img2:d.a,chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,count:0,chatData:[],chooseNum:0}},methods:{content:function(t,e){var i=!0,s=!1,a=void 0;try{for(var n,o=t[Symbol.iterator]();!(i=(n=o.next()).done);i=!0){var r=n.value;if(r==e)return!1}}catch(c){s=!0,a=c}finally{try{i||null==o.return||o.return()}finally{if(s)throw a}}return!0},getChatList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a=this,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,this.cancelFlag=!0,t.next=4,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,is_list:this.is_list},{cancelToken:p.token});case 4:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.count=s.data.count,this.cancelFlag=!1,this.page2=e,1==this.page2?(this.chatList=s.data.list,this.$nextTick((function(){var t=a,e=document.getElementsByClassName("msg-modal")[0].getElementsByClassName("ant-modal-body")[0];e.onscroll=function(){var i=e.scrollTop,s=e.clientHeight||document.body.clientHeight,a=e.scrollHeight||document.body.scrollHeight;i+s==a&&Math.ceil(t.count/15)>t.page2&&t.getChatList(t.page2+1)}}))):this.chatList=this.chatList.concat(s.data.list));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,i=0;i<this.chatData.length;i++)this.chatData[i]==t&&(this.chatData.splice(i,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},handleCancle:function(){this.checkedKey++,this.cancelFlag&&p.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChatList())}},created:function(){}},f=g,m=(i("515d"),i("2877")),v=Object(m["a"])(f,s,a,!1,null,"53470dae",null);e["a"]=v.exports},"8e34":function(t,e,i){var s=i("e81db");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("499e").default;a("9b59d6d6",s,!0,{sourceMap:!1,shadowMode:!1})},"917a":function(t,e,i){var s=i("5489");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("499e").default;a("946b77f8",s,!0,{sourceMap:!1,shadowMode:!1})},a253:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".wx-info[data-v-9d1ca460]{width:100%;position:absolute;left:0;top:100px;bottom:0;overflow:hidden}.wx-info[data-v-9d1ca460]::-webkit-scrollbar{width:2px;height:100%}.wx-info[data-v-9d1ca460]::-webkit-scrollbar-track-piece{background-color:#fff}.wx-info[data-v-9d1ca460]::-webkit-scrollbar-thumb{background:#fff}#components-layout-demo-basic[data-v-9d1ca460]{height:calc(100% - 80px)}#components-layout-demo-basic .ant-layout-header[data-v-9d1ca460]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:835px;width:100%;line-height:50px}[data-v-9d1ca460] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-9d1ca460]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-9d1ca460]{width:calc(100% - 20px);margin:0 10px}.content-hd[data-v-9d1ca460]{width:100%;line-height:50px}.content-msg[data-v-9d1ca460]{width:calc(100% - 40px);border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:10px 0 0 20px}.msg-info[data-v-9d1ca460]{color:#ffdda6;margin-right:10px}.content-bd[data-v-9d1ca460]{background:#fff;min-height:120px;border:1px solid #e2e2e2;width:100%}#components-layout-demo-basic>.ant-layout[data-v-9d1ca460]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-9d1ca460]:last-child{margin:0}[data-v-9d1ca460] .ant-tabs-tabpane{height:100%;padding-bottom:39px}[data-v-9d1ca460] .ant-tabs-bar{margin-bottom:0}[data-v-9d1ca460] .ant-tabs-top-content{padding-bottom:0}.ant-layout.ant-layout-has-sider[data-v-9d1ca460],.list[data-v-9d1ca460]{height:100%}[data-v-9d1ca460] .ant-layout.ant-layout-has-sider{margin:0}.content-hd-left[data-v-9d1ca460]{float:left}.content-hd-right[data-v-9d1ca460]{float:right}.btn-primary[data-v-9d1ca460]{margin-left:20px}.sider-one[data-v-9d1ca460]{padding:0 20px}.sider-one-txt[data-v-9d1ca460]{height:60px;line-height:60px;text-align:left}.selectWx[data-v-9d1ca460]{width:200px;margin-left:20px;height:50px;line-height:50px;cursor:pointer;padding-left:10px}.active[data-v-9d1ca460]{background:#1e90ff;color:#fff}.tag-name[data-v-9d1ca460]{padding:6px 14px;height:34px;font-size:13px;border:1px solid #d9d9d9;background-color:transparent!important;color:rgba(0,0,0,.65)}[data-v-9d1ca460] .dark-row{background:#fafafa}[data-v-9d1ca460] .light-row{background:#fff}[data-v-9d1ca460] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-9d1ca460] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}[data-v-9d1ca460] .ant-dropdown-trigger>.anticon.anticon-down{font-size:14px;color:#000}.page-spinning[data-v-9d1ca460] .ant-spin-spinning{margin-top:150px}.tabBtn[data-v-9d1ca460]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.activeBtn[data-v-9d1ca460]{color:#1890ff;background:#fff}[data-v-9d1ca460] .ant-layout{background:#fafafa}.content[data-v-9d1ca460] .ant-layout-header{height:auto!important}",""])},a5a1:function(t,e,i){var s=i("a253");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("499e").default;a("d0f43718",s,!0,{sourceMap:!1,shadowMode:!1})},ab9a:function(t,e,i){var s=i("7f5b");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("499e").default;a("7f8d9b0d",s,!0,{sourceMap:!1,shadowMode:!1})},b39a:function(t,e,i){var s=i("d3f4");t.exports=function(t,e){if(!s(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,i){"use strict";var s=i("86cc").f,a=i("2aeb"),n=i("dcbc"),o=i("9b43"),r=i("f605"),c=i("4a59"),l=i("01f9"),h=i("d53b"),d=i("7a56"),u=i("9e1e"),p=i("67ab").fastKey,g=i("b39a"),f=u?"_s":"size",m=function(t,e){var i,s=p(e);if("F"!==s)return t._i[s];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var h=t((function(t,s){r(t,h,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=s&&c(s,i,t[l],t)}));return n(h.prototype,{clear:function(){for(var t=g(this,e),i=t._i,s=t._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete i[s.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var i=g(this,e),s=m(i,t);if(s){var a=s.n,n=s.p;delete i._i[s.i],s.r=!0,n&&(n.n=a),a&&(a.p=n),i._f==s&&(i._f=a),i._l==s&&(i._l=n),i[f]--}return!!s},forEach:function(t){g(this,e);var i,s=o(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){s(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!m(g(this,e),t)}}),u&&s(h.prototype,"size",{get:function(){return g(this,e)[f]}}),h},def:function(t,e,i){var s,a,n=m(t,e);return n?n.v=i:(t._l=n={i:a=p(e,!0),k:e,v:i,p:s=t._l,n:void 0,r:!1},t._f||(t._f=n),s&&(s.n=n),t[f]++,"F"!==a&&(t._i[a]=n)),t},getEntry:m,setStrong:function(t,e,i){l(t,e,(function(t,i){this._t=g(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?h(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,h(1))}),i?"entries":"values",!i,!0),d(e)}}},c46e:function(t,e,i){"use strict";var s=i("ab9a"),a=i.n(s);a.a},cd35:function(t,e,i){"use strict";var s=i("a5a1"),a=i.n(s);a.a},e0b8:function(t,e,i){"use strict";var s=i("7726"),a=i("5ca1"),n=i("2aba"),o=i("dcbc"),r=i("67ab"),c=i("4a59"),l=i("f605"),h=i("d3f4"),d=i("79e5"),u=i("5cc5"),p=i("7f20"),g=i("5dbc");t.exports=function(t,e,i,f,m,v){var x=s[t],y=x,b=m?"set":"add",w=y&&y.prototype,k={},_=function(t){var e=w[t];n(w,t,"delete"==t?function(t){return!(v&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof y&&(v||w.forEach&&!d((function(){(new y).entries().next()})))){var S=new y,L=S[b](v?{}:-0,1)!=S,N=d((function(){S.has(1)})),I=u((function(t){new y(t)})),T=!v&&d((function(){var t=new y,e=5;while(e--)t[b](e,e);return!t.has(-0)}));I||(y=e((function(e,i){l(e,y,t);var s=g(new x,e,y);return void 0!=i&&c(i,m,s[b],s),s})),y.prototype=w,w.constructor=y),(N||T)&&(_("delete"),_("has"),m&&_("get")),(T||L)&&_(b),v&&w.clear&&delete w.clear}else y=f.getConstructor(e,t,m,b),o(y.prototype,i),r.NEED=!0;return p(y,t),k[t]=y,a(a.G+a.W+a.F*(y!=x),k),v||f.setStrong(y,t,m),y}},e306:function(t,e,i){t.exports=i.p+"assets/img/chat.29abd713.png"},e81db:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-53470dae] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-53470dae] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-53470dae] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-53470dae] .ant-checkbox{float:right;margin-top:12px}.noMore[data-v-53470dae]{text-align:center;padding:10px 0;font-size:12px;color:#999}",""])}}]);