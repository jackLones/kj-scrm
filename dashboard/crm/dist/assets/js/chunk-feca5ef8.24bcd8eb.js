(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-feca5ef8"],{"2d3a":function(t,e,a){"use strict";var s=a("8e3c"),i=a.n(s);i.a},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"8c10c":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{width:"888px!important",title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("a-input-search",{staticStyle:{width:"230px","margin-right":"10px"},attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("div",[a("a-select",{staticStyle:{width:"230px"},attrs:{showSearch:"",getPopupContainer:function(t){return t.parentNode},optionFilterProp:"children",placeholder:"群分组",allowClear:!0},on:{change:function(e){return t.getChatList(1)}},model:{value:t.chartGroup,callback:function(e){t.chartGroup=e},expression:"chartGroup"}},t._l(t.chartGroupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t")])})),1)],1),a("div",[1==t.isSop?a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear}},[t._v("清空")]):t._e()],1)],1),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)||1==t.isSop&&t.isSopChooseComp(t.chatData,e)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("div",{staticClass:"flex items-center w-ful justify-between"},[a("div",[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"ss-ellipsis-1 pr-10 ss-break-all"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t"),e.member_num&&1==t.isShowGroupOwner?a("span",[t._v("（"+t._s(e.member_num)+"）")]):t._e()])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[0==t.isShowGroupOwner?a("span",[t._v(t._s(e.member_num)+"/200")]):t._e(),e.owner_name&&1==t.isShowGroupOwner?a("span",{staticStyle:{color:"#AAAAAA"}},[t._v("群主："+t._s(e.owner_name))]):t._e()])],1),1==t.isSop&&t.isSopChooseComp(t.chatData,e)?a("div",{staticClass:"flex-none"},[t._v("\n\t\t\t\t\t\t\t\t\t该群已有规则\n\t\t\t\t\t\t\t\t")]):t._e()])])])],1)})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],staticClass:"pagination",staticStyle:{width:"100%",margin:"20px 0px","padding-bottom":"20px",height:"50px"}},[a("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.count,showSizeChanger:"",showQuickJumper:!0,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.getChatList,showSizeChange:t.getChatList}})],1)])],1)])],1)},i=[],n=(a("96cf"),a("3b8d")),o=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),r=a.n(o),c=a("e306"),l=a.n(c),p=a("4bef"),h=a.n(p),u=r.a.CancelToken,d=u.source(),g={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){return[]}},chatArr:{type:Array,default:function(){return[]}},chatArrt:{type:Array,default:function(){return[]}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0},isSop:{type:Number,default:0},isShowGroupOwner:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:l.a,img2:h.a,chartGroupList:[],chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,pageSize2:15,count:0,chatData:[],chooseNum:0,chartGroup:void 0}},methods:{content:function(t,e){var a=!0,s=!1,i=void 0;try{for(var n,o=t[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var r=n.value;if(r==e)return!1}}catch(c){s=!0,i=c}finally{try{a||null==o.return||o.return()}finally{if(s)throw i}}return!0},getChartGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat/chat-group-list",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):([{group_name:"群分组",id:0}],this.chartGroupList=a.data.info,this.getChatList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isSopChooseComp:function(t,e){return 1==e.disabled&&-1==this.chatArrt.indexOf(e.chat_id)},getChatList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:15,this.cancelFlag=!0,t.next=5,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,page_size:a,is_list:this.is_list,is_sop:this.isSop,group_id:this.chartGroup},{cancelToken:d.token});case 5:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):(this.count=i.data.count,this.cancelFlag=!1,this.page2=e,this.pageSize2=a,this.chatList=i.data.list);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},clear:function(){this.chooseNum=0,this.chatData=[]},handleCancle:function(){this.checkedKey++,this.cancelFlag&&d.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chartGroup=void 0,this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChartGroupList())}},mounted:function(){}},m=g,_=(a("2d3a"),a("2877")),f=Object(_["a"])(m,s,i,!1,null,"37bdbcfe",null);e["a"]=f.exports},"8e3c":function(t,e,a){var s=a("9125");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("1b2c097c",s,!0,{sourceMap:!1,shadowMode:!1})},9125:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-37bdbcfe] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-37bdbcfe] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox{float:right;margin-top:15px}.noMore[data-v-37bdbcfe]{text-align:center;padding:10px 0;font-size:12px;color:#999}.dropdown-style[data-v-37bdbcfe] .ant-select-dropdown{z-index:99999999999!important}",""])},b497:function(t,e,a){"use strict";var s=a("e6b7"),i=a.n(s);i.a},cfe4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[s("div",{attrs:{id:"components-layout-demo-basic"}},[s("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[s("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[s("a-layout-header",[t._v("标签拉群")]),s("a-layout-content",[s("div",{staticClass:"content-msg"},[s("p",[s("span",{staticStyle:{"font-weight":"700"}},[t._v("标签拉群：")]),t._v("将同一标签层次的客户拉入同一个客户群内，比如将带有“吃货”标签的客户，拉入到“吃货群”，这样他们因具有相同的话题和兴趣爱好，企业就可以有针对性地对该特征的客户群制定社群运营方案，社群运营起来不仅高效，也方便管理，更利于群转化。\n\t\t\t\t\t\t\t")]),s("p",[s("span",{staticStyle:{"font-weight":"700"}},[t._v("拉群流程：")]),t._v("选择需要群发的员工，针对该员工的客户，筛选具有同属性/标签的客户，同时选择多个群聊，并一一上传正确的群二维码，按照群聊顺序，客户群发给相应的员工确认，确认后，员工的客户即会收到该员工推送的入群欢迎语和入群二维码。\n\t\t\t\t\t\t\t")]),s("p",{staticStyle:{"margin-bottom":"0px","font-weight":"700"}},[t._v("温馨提示：")]),s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t1、客户每个月最多接收来自同一企业的管理员的4条群发消息，可在一天内发送4条，到达接收上限后，将无法给该客户推送消息，即无法收到入群邀请。\n\t\t\t\t\t\t\t")]),s("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t2、为了保证推送的客户均可以入群（群人数上限为200人），请添加多个群聊。系统会根据群成员当前人数推送入群二维码，当推送的客户数达到群上限人数时，系统会自动更换另外入群二维码群发给下一个客户。"),s("span",{staticStyle:{color:"#F56C6C"}},[t._v("如当前群人数20人，那么当推送给第181位客户时，这个该客户会收到另外一个入群二维码，不论之前推送的180位客户是否已入群。")])])]),s("div",{staticClass:"content-hd"},[s("a-col",{staticStyle:{float:"left"}},[s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[s("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2),s("a-input",{staticStyle:{width:"180px"},attrs:{placeholder:"搜索任务名称",allowClear:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectTitle(e)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("a-button",{staticStyle:{width:"180px","margin-left":"10px"},on:{click:t.showChatVisible}},[t.chooseNum>0?s("span",{staticStyle:{"text-align":"center"}},[t._v("已选择"+t._s(t.chooseNum)+"个群")]):s("span",{staticStyle:{"text-align":"center"}},[t._v("选择群聊")])]),s("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.selectTitle}},[t._v("查找")]),s("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clearTitle}},[t._v("清空")])],1),s("a-col",{staticStyle:{float:"right"}},[s("a-button",{directives:[{name:"has",rawName:"v-has",value:"groupTags-add",expression:"'groupTags-add'"}],attrs:{icon:"plus",type:"primary"},on:{click:t.create}},[t._v("\n\t\t\t\t\t\t\t\t\t新建拉群\n\t\t\t\t\t\t\t\t")]),s("a-button",{directives:[{name:"has",rawName:"v-has",value:"groupTags-list",expression:"'groupTags-list'"}],staticStyle:{"margin-left":"10px",width:"110px"},attrs:{icon:"reload"},on:{click:t.refresh}},[t._v("\n\t\t\t\t\t\t\t\t\t更新数据\n\t\t\t\t\t\t\t\t")])],1)],1),s("div",{staticClass:"content-bd"},[s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[s("a-table",{directives:[{name:"has",rawName:"v-has",value:"groupTags-list",expression:"'groupTags-list'"}],attrs:{columns:t.columns,dataSource:t.groupList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"title2",fn:function(e,a,i){return s("span",{},[s("div",{staticStyle:{width:"145px","min-width":"60px"}},[t._v(t._s(a.title))])])}},{key:"chat_name",fn:function(e,a,i){return s("span",{},t._l(a.chat_name,(function(e){return s("div",[s("a-tag",{staticStyle:{padding:"3px"}},[s("span",{staticStyle:{background:"#1890FF",width:"18px",height:"18px",display:"inline-block","margin-right":"5px","vertical-align":"middle"}},[s("img",{staticStyle:{width:"14px",margin:"2px"},attrs:{src:t.img}})]),s("span",{staticStyle:{width:"110px",display:"inline-block","vertical-align":"middle",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[s("a-popover",{attrs:{trigger:"hover"}},[s("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("span",{staticStyle:{color:"#1890FF",cursor:"pointer"}},[t._v(t._s(e))])])],1)])],1)})),0)}},{key:"sender_name",fn:function(e,a,i){return s("span",{},[a.others?s("div",{staticStyle:{"max-width":"300px"}},[0==a.others.user_ids.length?s("span",[t._v("--")]):s("span",[a.others.user_ids.length>5?[s("a-popover",{attrs:{trigger:"hover"}},[s("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all","max-height":"300px","overflow-y":"auto"},attrs:{slot:"content"},slot:"content"},[t._l(a.others.user_ids,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"==e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"orange"}},[t._v(t._s(e.title))]):t._e()]})),t._l(a.others.user_ids,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"!=e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.title))]):t._e()]})),0==a.others.user_ids.length?s("span",[t._v("--")]):t._e()],2),t._l(a.others.user_ids,(function(e,a){return[a<5&&e.scopedSlots&&e.scopedSlots.title&&"custom"==e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"orange"}},[t._v(t._s(e.title))]):t._e()]})),t._l(a.others.user_ids,(function(e,a){return[a<5&&e.scopedSlots&&e.scopedSlots.title&&"custom"!=e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.title))]):t._e()]})),s("span",{staticStyle:{cursor:"pointer"}},[t._v("等共计"+t._s(t.getUserNum(a.others.user_ids))+"位成员、"+t._s(a.others.user_ids.length-t.getUserNum(a.others.user_ids))+"部门")])],2)]:[t._l(a.others.user_ids,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"==e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"orange"}},[t._v(t._s(e.title))]):t._e()]})),t._l(a.others.user_ids,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"!=e.scopedSlots.title?s("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.title))]):t._e()]}))]],2)]):t._e()])}},{key:"will_num",fn:function(e,a,i){return s("span",{},[s("div",{staticStyle:{"min-width":"105px"}},[t._v("预计发送"+t._s(a.will_num)+"人")]),s("div",[t._v("已成功发送"+t._s(a.real_num)+"人")])])}},{key:"has_group",fn:function(e,a,i){return s("span",{},[s("div",{staticStyle:{"min-width":"105px"}},[t._v("已入群"+t._s(a.has_group)+"人")]),s("div",[t._v("未入群"+t._s(a.no_group)+"人")])])}},{key:"action",fn:function(e,a){return s("span",{},[s("a-button",{directives:[{name:"has",rawName:"v-has",value:"groupTags-info",expression:"'groupTags-info'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.detailList(a.id)}}},[t._v("详情")]),s("a-popconfirm",{attrs:{title:"确定删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.deleteList(a.id)}}},[s("a-button",{directives:[{name:"has",rawName:"v-has",value:"groupTags-delete",expression:"'groupTags-delete'"}]},[t._v("删除")])],1)],1)}}])},[s("span",{attrs:{slot:"sender_name2"},slot:"sender_name2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t客户归属\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("具有外部联系人权限的成员")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),s("span",{attrs:{slot:"will_num2"},slot:"will_num2"},[t._v("\n\t\t\t\t\t\t                  发送客户情况\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("客户已不是好友关系、客户接收已达上限及客户收到其他群发消息等其他原因，导致与预计人数不符")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),s("span",{attrs:{slot:"has_group2"},slot:"has_group2"},[t._v("\n\t\t\t\t\t\t                  客户入群情况\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("不包括外部非联系人和已存在客户群中的客户")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[s("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1)])],1)],1)],1),s("a-drawer",{attrs:{placement:"right",closable:!1,visible:t.detailVisible,width:"1000px!important"},on:{close:t.detailDrawerClose}},[s("template",{slot:"title"},[t._v("\n\t\t\t\t"+t._s(t.drawerTitle)+"\n\t\t\t")]),s("div",{staticStyle:{padding:"20px"}},[0==t.user_ids.length?s("p",[t._v("向"),s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.will_num))]),t._v("位客户，发送入群邀请通知")]):s("p",[t._v("\n\t\t\t\t\t向【"+t._s(t.user_ids[0].title)+"】\n\t\t\t\t\t"),t.user_ids.length>1?[t._v("、【"+t._s(t.user_ids[1].title)+"】")]:t._e(),t.user_ids.length>2?[t._v("、【"+t._s(t.user_ids[2].title)+"】")]:t._e(),t.user_ids.length>3?[t._v("等"+t._s(t.getUserNum(t.user_ids))+"个成员、"+t._s(t.user_ids.length-t.getUserNum(t.user_ids))+"个部门")]:t._e(),t._v("\n\t\t\t\t\t共计"),s("span",{staticStyle:{color:"red"}},[t._v(t._s(t.will_num))]),t._v("位客户，发送入群邀请通知\n\t\t\t\t")],2),-1!=t.others.sex?[1==t.others.sex?s("a-tag",{attrs:{color:"blue"}},[t._v("男性")]):t._e(),2==t.others.sex?s("a-tag",{attrs:{color:"blue"}},[t._v("女性")]):t._e(),3==t.others.sex?s("a-tag",{attrs:{color:"blue"}},[t._v("未知性别")]):t._e()]:t._e(),""!=t.others.start_time&&""!=t.others.end_time?[s("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t.others.start_time)+"至"+t._s(t.others.end_time)+"加入")])]:t._e(),"object"==typeof t.others.update_time&&0!=t.others.update_time.length?[s("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t.others.update_time[0])+"至"+t._s(t.others.update_time[1])+"跟进")])]:t._e(),"object"==typeof t.others.chat_time&&0!=t.others.chat_time.length?[s("a-tag",{attrs:{color:"blue"}},[t._v("上次"+t._s(t.others.chat_time[0])+"至"+t._s(t.others.chat_time[1])+"单聊")])]:t._e(),""!=t.others.follow_num1&&""!=t.others.follow_num2?s("a-tag",{attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t跟进次数在"+t._s(t.others.follow_num1)+"至"+t._s(t.others.follow_num2)+"次之间\n\t\t\t\t\t")]):t._e(),""!=t.others.follow_num1&&""==t.others.follow_num2?s("a-tag",{attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t跟进次数高于"+t._s(t.others.follow_num1)+"次\n\t\t\t\t\t")]):t._e(),""==t.others.follow_num1&&""!=t.others.follow_num2?s("a-tag",{attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t跟进次数不低于"+t._s(t.others.follow_num1)+"次\n\t\t\t\t\t")]):t._e(),""!=t.others.store_name?s("a-tag",{attrs:{color:"blue"}},[t._v(t._s(t.others.store_name))]):t._e(),""!=t.others.province&&""==t.others.city?s("a-tag",{attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.others.province)+"\n\t\t\t\t\t")]):t._e(),""!=t.others.province&&""!=t.others.city?s("a-tag",{attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.others.province)+t._s(t.others.city)+"\n\t\t\t\t\t")]):t._e(),"object"==typeof t.others.attribute_data&&0!=t.others.attribute_data.length?t._l(t.others.attribute_data,(function(e){return s("a-tag",{attrs:{color:"blue"}},[t._v(t._s(e.value))])})):t._e(),""!=t.others.follow_num1&&""==t.others.follow_num2?s("a-tag",{attrs:{color:"blue"}},[t._v("跟进状态")]):t._e(),"object"==typeof t.others.tag_name&&0!=t.others.tag_name.length?t._l(t.others.tag_name,(function(e){return s("a-tag",{attrs:{color:"blue"}},[t._v(t._s(e))])})):t._e(),s("p"),s("a-row",{staticClass:"single-accout-card"},[s("a-col",{staticClass:"single-accout-cardItem",attrs:{span:6}},[s("p",{staticClass:"single-accout-cardItem-num"},[t._v(t._s(t.invite_num))]),s("p",{staticClass:"single-accout-cardItem-title"},[t._v("已邀请客户\n\t\t\t\t\t\t\t"),s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[s("span",[t._v("在预计发送客户中，已收到成员推送的入群二维码的客户数（同一客户添加多个员工，只计入1个成员推送）")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("a-col",{staticClass:"single-accout-cardItem",attrs:{span:6}},[s("p",{staticClass:"single-accout-cardItem-num"},[t._v(t._s(t.invite_not_num))]),s("p",{staticClass:"single-accout-cardItem-title"},[t._v("未邀请客户\n\t\t\t\t\t\t\t"),s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[s("span",[t._v("在预计发送客户中，未收到成员推送的入群二维码的客户数")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("a-col",{staticClass:"single-accout-cardItem",attrs:{span:6}},[s("p",{staticClass:"single-accout-cardItem-num"},[t._v(t._s(t.has_num))]),s("p",{staticClass:"single-accout-cardItem-title"},[t._v("已入群客户\n\t\t\t\t\t\t\t"),s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[s("span",[t._v("不包括外部非联系人和已存在客户群中的客户")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("a-col",{staticClass:"single-accout-cardItem",attrs:{span:6}},[s("p",{staticClass:"single-accout-cardItem-num"},[t._v(t._s(t.has_not_num))]),s("p",{staticClass:"single-accout-cardItem-title"},[t._v("未入群客户")])])],1),s("a-tabs",{staticStyle:{margin:"20px 0"},attrs:{type:"card"},on:{change:t.changeTabKey},model:{value:t.tabKey,callback:function(e){t.tabKey=e},expression:"tabKey"}},[s("a-tab-pane",{key:1,attrs:{tab:"群发记录"}},[s("div",{staticStyle:{margin:"0 0 20px 0"}},[s("div",{staticStyle:{"background-color":"#FFFFFF"}},[s("div",{staticStyle:{height:"32px","line-height":"32px","margin-bottom":"10px",color:"#000"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total2))]),t._v("个客户\n\t\t\t\t\t\t\t\t")]),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("搜索客户：")]),s("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"请输入要搜索的客户"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getMassMessageRecord(1,t.pageSize2)}},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}})],1),s("span",{staticClass:"select-option",staticStyle:{"margin-left":"15px"}},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("所属成员：")]),s("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseStaffNum>0?s("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):s("span",[t._v("选择成员")])])],1),s("span",{staticClass:"select-option",staticStyle:{"margin-left":"15px"}},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("送达状态：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择送达状态"},model:{value:t.deliveryStatus,callback:function(e){t.deliveryStatus=e},expression:"deliveryStatus"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:0}},[t._v("未收到邀请")]),s("a-select-option",{attrs:{value:1}},[t._v("已收到邀请")]),s("a-select-option",{attrs:{value:2}},[t._v("客户已不是好友")]),s("a-select-option",{attrs:{value:3}},[t._v("未知原因导致失败")])],1)],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("是否入群：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择"},model:{value:t.isJoin,callback:function(e){t.isJoin=e},expression:"isJoin"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:0}},[t._v("未入群")]),s("a-select-option",{attrs:{value:1}},[t._v("已入群")])],1)],1),s("a-button",{staticStyle:{"margin-right":"5px","margin-left":"15px"},attrs:{type:"primary"},on:{click:t.searchRecord}},[t._v("查找\n\t\t\t\t\t\t\t\t")]),s("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.resetRecord}},[t._v("清空")])],1)]),s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading2}},[s("a-table",{attrs:{columns:t.columns2,dataSource:t.massMessageRecordList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"customer",fn:function(e,i,n){return s("div",{},[i.avatar?s("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:i.avatar}}):t._e(),i.avatar?t._e():s("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),s("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px"}},[s("div",{staticStyle:{height:"42px"}},[s("a-popover",{attrs:{placement:"top"}},[s("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.customer_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=i.corp_name?"corp-name":"wx-name"},[null!=i.corp_name?[t._v("@"+t._s(i.corp_name))]:[t._v("@微信")]],2)]),s("span",{staticStyle:{display:"inline-block","max-width":"180px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.customer_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),s("span",{class:null!=i.corp_name?"corp-name":"wx-name"},[null!=i.corp_name?[t._v("@"+t._s(i.corp_name))]:[t._v("@微信")]],2)])],2),"男性"==i.gender?s("a-icon",{staticStyle:{color:"#427EBA","vertical-align":"top","margin-top":"14px"},attrs:{type:"man"}}):t._e(),"女性"==i.gender?s("a-icon",{staticStyle:{color:"#ED4997","vertical-align":"top","margin-top":"14px"},attrs:{type:"woman"}}):t._e()],1)])],1)}},{key:"send",fn:function(e,a,i){return s("span",{},[0==a.send?s("span",[t._v("未收到邀请")]):t._e(),1==a.send?s("span",[t._v("已收到邀请")]):t._e(),2==a.send?s("span",[t._v("客户已不是好友")]):t._e(),3==a.send?s("span",[t._v("未知原因导致失败")]):t._e()])}},{key:"title2",fn:function(e,a,i){return s("span",{},[s("a-tag",{staticStyle:{padding:"3px"}},[s("span",{staticStyle:{background:"#1890FF",width:"18px",height:"18px",display:"inline-block","margin-right":"5px","vertical-align":"middle"}},[s("img",{staticStyle:{width:"14px",margin:"2px"},attrs:{src:t.img}})]),s("span",{staticStyle:{width:"110px",display:"inline-block","vertical-align":"middle",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[s("a-popover",{attrs:{trigger:"hover"}},[s("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("span",{staticStyle:{color:"#1890FF",cursor:"pointer"}},[t._v(t._s(a.title))])])],1)])],1)}},{key:"status",fn:function(e,a,i){return s("span",{},[0==a.status?s("span",[t._v("未入群")]):t._e(),1==a.status?s("span",[t._v("已入群")]):t._e()])}}])}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total2>0,expression:"total2 > 0"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[s("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total2,showSizeChanger:"",showQuickJumper:t.quickJumper2,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage2,showSizeChange:t.showSizeChange2}})],1)])],1)],1),s("a-tab-pane",{key:2,attrs:{tab:"成员邀请"}},[s("div",{staticStyle:{margin:"0 0 20px 0"}},[s("div",{staticStyle:{"background-color":"#FFFFFF"}},[s("div",{staticStyle:{height:"32px","line-height":"32px","margin-bottom":"10px",color:"#000"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),s("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total3))]),t._v("个成员\n\t\t\t\t\t\t\t\t")]),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("搜索成员：")]),s("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"请输入要搜索的成员"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getStaffList(1,t.pageSize3)}},model:{value:t.staffName,callback:function(e){t.staffName=e},expression:"staffName"}})],1),s("span",{staticClass:"select-option"},[s("label",{staticStyle:{"margin-right":"5px"}},[t._v("发送状态：")]),s("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择发送状态"},model:{value:t.sendStatus,callback:function(e){t.sendStatus=e},expression:"sendStatus"}},[s("a-select-option",{attrs:{value:-1}},[t._v("全部")]),s("a-select-option",{attrs:{value:0}},[t._v("未发送")]),s("a-select-option",{attrs:{value:1}},[t._v("已发送")])],1)],1),s("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff}},[t._v("查找\n\t\t\t\t\t\t\t\t")]),s("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.resetStaff}},[t._v("清空")])],1)]),s("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading3}},[s("a-table",{attrs:{columns:t.columns3,dataSource:t.staffList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"name",fn:function(e,i,n){return s("div",{},[i.avatar?s("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:i.avatar}}):t._e(),i.avatar?t._e():s("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),s("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])],1)}},{key:"status",fn:function(e,a,i){return s("span",{},[0==a.status?s("span",[t._v("未发送")]):t._e(),1==a.status?s("span",[t._v("已发送")]):t._e()])}}])},[s("span",{attrs:{slot:"real_num"},slot:"real_num"},[t._v("\n\t\t\t\t\t\t                  实际发送客户\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("客户已不是好友关系、客户接收已达上限及客户收到其他群发消息等其他原因，导致与预计人数不符")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),s("span",{attrs:{slot:"has_num"},slot:"has_num"},[t._v("\n\t\t\t\t\t\t                  已入群客户\n\t\t\t\t\t\t                  "),s("a-tooltip",{attrs:{placement:"top"}},[s("template",{slot:"title"},[s("span",[t._v("不包括外部非联系人和已存在客户群中的客户")])]),s("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.total3>0,expression:"total3 > 0"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[s("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[s("a-pagination",{attrs:{total:t.total3,showSizeChanger:"",showQuickJumper:t.quickJumper3,current:t.page3,pageSize:t.pageSize3,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage3,showSizeChange:t.showSizeChange3}})],1)])],1)],1)],1)],2)],2),s("groupChat",{attrs:{show:t.chatVisible,chatArr:t.chatArr,callback:t.groupChatCallBack,corpId:t.corpId}}),s("chooseDepartment",{ref:"user",attrs:{show:t.showModalDepartment,chooseNum:t.chooseStaffNum,callback:t.modalVisibleChange}})],1)},i=[],n=(a("96cf"),a("3b8d")),o=a("e306"),r=a.n(o),c=a("8c10c"),l=a("c75b"),p=a("f64c"),h=[{title:"任务名称",dataIndex:"title",key:"title",scopedSlots:{customRender:"title2"}},{dataIndex:"sender_name",key:"sender_name",scopedSlots:{customRender:"sender_name"},slots:{title:"sender_name2"}},{title:"邀请入群",dataIndex:"chat_name",key:"chat_name",scopedSlots:{customRender:"chat_name"}},{dataIndex:"will_num",key:"will_num",slots:{title:"will_num2"},scopedSlots:{customRender:"will_num"}},{dataIndex:"has_group",key:"has_group",slots:{title:"has_group2"},scopedSlots:{customRender:"has_group"}},{title:"创建时间",dataIndex:"create_time",key:"create_time",width:150},{title:"操作",dataIndex:"action",key:"action",width:180,scopedSlots:{customRender:"action"}}],u=[{title:"客户",dataIndex:"customer",key:"customer",width:300,scopedSlots:{customRender:"customer"}},{title:"所属成员",dataIndex:"name",key:"name"},{title:"送达状态",dataIndex:"send",key:"send",scopedSlots:{customRender:"send"}},{title:"邀请群聊",dataIndex:"title",key:"title",scopedSlots:{customRender:"title2"}},{title:"是否入群",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}}],d=[{title:"成员",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"预计发送客户",dataIndex:"will_num",key:"will_num"},{dataIndex:"real_num",key:"real_num",slots:{title:"real_num"}},{dataIndex:"has_num",key:"has_num",slots:{title:"has_num"}},{title:"发送状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}}],g={name:"tagsCreateList",components:{groupChat:c["a"],chooseDepartment:l["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{img:r.a,commonUrl:this.$store.state.commonUrl,corpId:t,corpInfo:[],title:"",chooseNum:0,chatArr:[],chatVisible:!1,columns:h,isLoading:!1,groupList:[],total:0,quickJumper:!1,page:1,pageSize:15,detailVisible:!1,detailId:"",drawerTitle:"",user_ids:[],others:{},has_num:0,has_not_num:0,invite_num:0,invite_not_num:0,will_num:0,tabKey:1,columns2:u,isLoading2:!1,customName:"",showModalDepartment:!1,chooseStaffNum:0,chooseUserNum:0,chooseDepartmentNum:0,checkedList:[],user:[],deliveryStatus:-1,isJoin:-1,massMessageRecordList:[],total2:0,quickJumper2:!1,page2:1,pageSize2:15,columns3:d,isLoading3:!1,staffName:"",sendStatus:-1,staffList:[],total3:0,quickJumper3:!1,page3:1,pageSize3:15}},methods:{getUserNum:function(t){for(var e=0,a=0;a<t.length;a++)"custom"==t[a].scopedSlots.title&&e++;return e},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},showChatVisible:function(){this.chatVisible=!0},groupChatCallBack:function(t,e,a){"ok"==t&&(this.chooseNum=e,this.chatArr=a),this.chatVisible=!1},getGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("work-tag-pull-group/list",{corp_id:this.corpId,chat_id:this.chatArr,page:e,pageSize:a,title:this.title});case 5:s=t.sent,i=s.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.groupList=i.data.info,this.isLoading=!1,this.total=parseInt(i.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-pull-group/delete",{id:e});case 2:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):this.getGroupList(this.page,this.pageSize);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),selectTitle:function(){this.getGroupList(1,this.pageSize)},clearTitle:function(){this.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",this.title="",this.chooseNum=0,this.chatArr=[],this.getGroupList(this.page,this.pageSize)},create:function(){this.$router.push("/group/tagsCreateAdd")},refresh:function(){this.isLoading=!0,p["a"].info("已进入后台刷新中，请耐心等待...",2,this.refresh2)},refresh2:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-pull-group/refresh-data",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.destroy(),this.$message.error(a.error_msg)):(this.$message.destroy(),this.getGroupList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getGroupList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,200)}))},showSizeChange:function(t,e){this.getGroupList(1,e)},changePage2:function(t,e){this.getMassMessageRecord(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,200)}))},showSizeChange2:function(t,e){this.getMassMessageRecord(1,e)},changePage3:function(t,e){this.getStaffList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,200)}))},showSizeChange3:function(t,e){this.getStaffList(1,e)},detailList:function(t){this.detailId=t,this.tabKey=1,this.customName="",this.checkedList=[],this.user=[],this.chooseStaffNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.deliveryStatus=-1,this.isJoin=-1,this.page=1,this.pageSize2=15,this.getDetailList(),this.getMassMessageRecord()},getDetailList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-pull-group/detail",{id:this.detailId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.drawerTitle=a.data.title,this.user_ids=a.data.others.user_ids,this.others=a.data.others,this.will_num=a.data.will_num,this.has_num=a.data.has_num,this.has_not_num=a.data.has_not_num,this.invite_num=a.data.invite_num,this.invite_not_num=a.data.invite_not_num);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMassMessageRecord:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize2,this.isLoading2=!0,t.next=5,this.axios.post("work-tag-pull-group/group-sending-records",{id:this.detailId,corp_id:this.corpId,name:this.customName,user_ids:this.checkedList,send:this.deliveryStatus,status:this.isJoin,page:e,pageSize:a});case 5:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):(this.massMessageRecordList=i.data.info,this.total2=parseInt(i.data.count),this.page2=e,this.pageSize2=a,this.quickJumper2=this.total2>this.pageSize2,this.detailVisible=!0,this.isLoading2=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),detailDrawerClose:function(){this.detailVisible=!1},showDepartmentList:function(){this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.user)),this.showModalDepartment=!0},modalVisibleChange:function(t,e,a,s,i){"ok"==t&&(this.checkedList=e,this.chooseStaffNum=parseInt(a)+parseInt(s),this.chooseUserNum=a,this.chooseDepartmentNum=s,this.chooseStaffNum>0?this.user=i:this.user=[]),this.showModalDepartment=!1},searchRecord:function(){this.getMassMessageRecord()},resetRecord:function(){this.customName="",this.checkedList=[],this.user=[],this.chooseStaffNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.deliveryStatus=-1,this.isJoin=-1,this.getMassMessageRecord()},changeTabKey:function(t){1==t?this.getMassMessageRecord():2==t&&this.getStaffList()},getStaffList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize3,this.isLoading3=!0,t.next=5,this.axios.post("work-tag-pull-group/members",{id:this.detailId,user_name:this.staffName,status:this.sendStatus,page:e,pageSize:a});case 5:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):(this.staffList=i.data.info,this.total3=parseInt(i.data.count),this.page3=e,this.pageSize3=a,this.quickJumper3=this.total3>this.pageSize3,this.isLoading3=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),searchStaff:function(){this.getStaffList()},resetStaff:function(){this.staffName="",this.sendStatus=-1,this.getStaffList()}},created:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.getGroupList()}))},beforeRouteEnter:function(t,e,a){"/group/tagsCreateAdd"==e.path&&"undefined"!=typeof t.query.isRefresh&&"1"==t.query.isRefresh&&a((function(t){t.getGroupList(t.page,t.pageSize)})),("/group/tagsCreateAdd"==e.path&&"undefined"==typeof t.query.isRefresh||"/group/tagsCreateAdd"!=e.path)&&a((function(t){t.title="",t.chooseNum=0,t.chatArr=[],t.page=1,t.pageSize=15,t.getGroupList()})),a()}},m=g,_=(a("b497"),a("2877")),f=Object(_["a"])(m,s,i,!1,null,"98cc67fc",null);e["default"]=f.exports},d2d3:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-98cc67fc]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-98cc67fc]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-98cc67fc] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-98cc67fc]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-98cc67fc]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-98cc67fc]{height:60px;line-height:60px}.content-bd[data-v-98cc67fc],.content-hd[data-v-98cc67fc]{width:100%;min-width:885px}.content-bd[data-v-98cc67fc]{background:#fff;min-height:120px;border:1px solid #e2e2e2}#components-layout-demo-basic>.ant-layout[data-v-98cc67fc]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-98cc67fc]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-98cc67fc],.list[data-v-98cc67fc]{height:100%}[data-v-98cc67fc] .dark-row{background:#fafafa}[data-v-98cc67fc] .light-row{background:#fff}.actionBtn[data-v-98cc67fc],[data-v-98cc67fc] .ant-tag{margin-bottom:5px}.actionBtn[data-v-98cc67fc]{margin-right:5px}[data-v-98cc67fc] .ant-tree-switcher-icon{vertical-align:initial}[data-v-98cc67fc] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}.content-msg[data-v-98cc67fc]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px;text-align:left}.single-accout-card[data-v-98cc67fc]{width:100%;background:#f9f9f9}.single-accout-card .single-accout-cardItem[data-v-98cc67fc]{display:inline-block;height:95px;background:#f9f9f9;border:1px solid #e9e9e9;border-left:0}.single-accout-card .single-accout-cardItem[data-v-98cc67fc]:first-child{border:1px solid #e9e9e9}.single-accout-cardItem-num[data-v-98cc67fc]{color:#000;font-weight:700;font-size:34px;line-height:60px}.single-accout-cardItem-num[data-v-98cc67fc],.single-accout-cardItem-title[data-v-98cc67fc]{text-align:center;margin-bottom:0}.select-option[data-v-98cc67fc]{display:inline-block;margin-right:10px;margin-bottom:10px}.select-option label[data-v-98cc67fc]{display:inline-block;text-align:left;width:70px}[data-v-98cc67fc] .ant-tabs-bar{background:none;border-bottom:2px solid #f5f5f5}",""])},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"},e6b7:function(t,e,a){var s=a("d2d3");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("5b81b960",s,!0,{sourceMap:!1,shadowMode:!1})}}]);