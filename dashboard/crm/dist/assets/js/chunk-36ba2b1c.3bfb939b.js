(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36ba2b1c"],{"46f1":function(t,e,i){"use strict";var s=i("b058"),a=i.n(s);a.a},"6ba0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[i("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"0px",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[i("a-layout-header",[t._v("【"+t._s(t.userName)+"】红包记录\n\t\t\t\t\t"),i("a-button",{staticStyle:{float:"right",margin:"9px 20px 0 0"},attrs:{type:"primary",icon:"rollback"},on:{click:t.rollback}},[t._v("\n\t\t\t\t\t\t返回列表\n\t\t\t\t\t")])],1),i("a-layout-content",[i("div",{staticClass:"content-hd"},[i("div",{staticStyle:{"background-color":"#FFFFFF",padding:"20px 0 10px 0","margin-top":"12px"}},[t.corpLen>1?i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("企业微信：")]),t.corpLen>1?i("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",disabled:!0,optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2):t._e()],1):t._e(),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("关键词：")]),i("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"请输入客户姓名/客户昵称/公司名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("手机号码：")]),i("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"支持手机号后四位查找"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("订单号：")]),i("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"请输入订单号/微信付款单号"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.orderNumber,callback:function(e){t.orderNumber=e},expression:"orderNumber"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("备注/留言：")]),i("a-input",{staticStyle:{"margin-right":"5px",width:"210px"},attrs:{placeholder:"请输入备注/留言"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("部门成员：")]),i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{disabled:!0},on:{click:t.showDepartmentList}},[t.chooseNum>0?i("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):i("span",[t._v("选择部门成员")])])],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("领取状态：")]),i("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[i("a-select-option",{attrs:{value:-1}},[t._v("全部")]),i("a-select-option",{attrs:{value:0}},[t._v("待领取")]),i("a-select-option",{attrs:{value:1}},[t._v("已领取")]),i("a-select-option",{attrs:{value:2}},[t._v("已过期")]),i("a-select-option",{attrs:{value:4}},[t._v("领取失败")])],1)],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("发送对象：")]),i("a-select",{staticStyle:{width:"210px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeSendType},model:{value:t.sendType,callback:function(e){t.sendType=e},expression:"sendType"}},[i("a-select-option",{attrs:{value:-1}},[t._v("全部")]),i("a-select-option",{attrs:{value:1}},[t._v("客户群")]),i("a-select-option",{attrs:{value:2}},[t._v("客户")])],1),1==t.sendType?i("span",{staticStyle:{width:"30px",height:"1px","background-color":"rgba(0, 0, 0, 0.65)",display:"inline-block","vertical-align":"middle",margin:"0 8px"}}):t._e(),1==t.sendType?i("chooseChat",{staticStyle:{width:"280px",display:"inline-block"},attrs:{corp_id:t.corpId,chat_id:t.chatId},on:{changeSelect:t.selectStaffCallback}}):t._e()],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("发送时间：")]),i("a-range-picker",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{"show-time":{defaultValue:[t.moment("00:00:00","HH:mm:ss"),t.moment("23:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime},model:{value:t.joinTime,callback:function(e){t.joinTime=e},expression:"joinTime"}}),i("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff}},[t._v("查找")]),i("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.reset}},[t._v("清空")])],1)]),i("div",{staticStyle:{height:"60px","line-height":"60px","text-align":"right"}},[i("a-dropdown",{directives:[{name:"has",rawName:"v-has",value:"records-export",expression:"'records-export'"}]},[i("a-menu",{attrs:{slot:"overlay"},on:{click:t.chooseDownType},slot:"overlay"},[i("a-menu-item",{key:"0"},[t._v("当前页导出")]),i("a-menu-item",{key:"1"},[t._v("全部导出")])],1),i("a-button",{staticStyle:{margin:"0 0 10px 0"},attrs:{type:"primary",icon:"download"}},[t._v("导出\n\t\t\t\t\t\t\t\t\t"),i("a-icon",{staticStyle:{color:"#FFFFFF"},attrs:{type:"down"}})],1)],1)],1)]),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{attrs:{columns:t.columns,dataSource:t.recordsList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"money",fn:function(e,i,s){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(i.money)+"元\n\t\t\t\t\t\t\t\t")]}},{key:"transaction_id",fn:function(e,s,a){return[i("div",[t._v("商户订单号："+t._s(s.order_id||"--"))]),i("div",[t._v("微信付款单号："+t._s(s.transaction_id||"--"))])]}},{key:"info",fn:function(e,s,a){return[null==s.nickname||""==s.nickname?i("span",[t._v("未知客户")]):t._e(),""!=s.nickname?i("span",[t._v(t._s(s.nickname))]):t._e(),null==s.name||""==s.name?i("span",[t._v("/--")]):t._e(),""!=s.name?i("span",[t._v("/"+t._s(s.name))]):t._e(),1!=t.is_hide_phone?i("span",[null==s.phone||""==s.phone?i("span",[t._v("/--")]):t._e(),""!=s.phone?i("span",[t._v("/"+t._s(s.phone))]):t._e()]):t._e()]}},{key:"shop",fn:function(e,s,a){return[null==s.shop||""==s.shop?i("span",[t._v("--")]):t._e(),""!=s.shop?i("span",[t._v(t._s(s.shop))]):t._e(),null==s.account||""==s.account?i("span",[t._v("（--）")]):t._e(),""!=s.account?i("span",[t._v("（"+t._s(s.account)+"）")]):t._e()]}},{key:"remark",fn:function(e,s,a){return[null==e||""==e?i("div",{staticStyle:{"text-align":"center"}},[t._v("--")]):t._e(),i("a-popover",[i("template",{slot:"content"},[i("p",{staticStyle:{"max-width":"200px","word-break":"break-all","word-wrapL":"break-word"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e))])]),e&&""!=e?i("div",{staticStyle:{"text-align":"center",cursor:"pointer",color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t预览\n\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)]}},{key:"message",fn:function(e,s,a){return[null==e||""==e?i("div",{staticStyle:{"text-align":"center"}},[t._v("--")]):t._e(),i("a-popover",[i("template",{slot:"content"},[i("p",{staticStyle:{"max-width":"200px","word-break":"break-all","word-wrapL":"break-word"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e))])]),e&&""!=e?i("div",{staticStyle:{"text-align":"center",cursor:"pointer",color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t查看\n\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)]}}])},[1!=t.is_hide_phone?i("div",{attrs:{slot:"info2"},slot:"info2"},[t._v("客户昵称/姓名/手机号码")]):t._e(),1==t.is_hide_phone?i("div",{attrs:{slot:"info2"},slot:"info2"},[t._v("客户昵称/姓名")]):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1),i("chooseDepartment",{ref:"user",attrs:{show:t.showModalDepartment,chooseNum:t.chooseNum,callback:t.modalVisibleChange3,is_special:1}})],1)],1)],1)],1)])},a=[],n=(i("7f7f"),i("96cf"),i("3b8d")),o=i("c75b"),r=i("7424"),c=i("c1df"),l=i.n(c),h=[{title:"员工操作",dataIndex:"user_name",key:"user_name",width:"10%"},{title:"类型",dataIndex:"typeName",key:"typeName",width:"20%"},{title:"发送时间",dataIndex:"send_time",key:"send_time"},{dataIndex:"info",key:"info",width:"15%",slots:{title:"info2"},scopedSlots:{customRender:"info"}},{title:"领取状态",dataIndex:"statusName",key:"statusName",scopedSlots:{customRender:"statusName"}},{title:"零钱金额",dataIndex:"money",key:"money",scopedSlots:{customRender:"money"}},{title:"商户订单号/微信付款单号",dataIndex:"transaction_id",key:"transaction_id",width:"20%",scopedSlots:{customRender:"transaction_id"}},{title:"员工备注",dataIndex:"remark",key:"remark",scopedSlots:{customRender:"remark"}},{title:"给客户留言",dataIndex:"message",key:"message",scopedSlots:{customRender:"message"}}],d={components:{chooseDepartment:o["a"],chooseChat:r["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{moment:l.a,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,corpInfo:[],corpId:t,is_hide_phone:0,recordsList:[],isLoading:!1,columns:h,total:1,quickJumper:!1,page:1,pageSize:15,checkedList:[],user:[],showModalDepartment:!1,chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,status:-1,sendType:-1,chatId:"",showTransition:1,mouseEnterFlag:!1,startY:0,scrollFlag:!1,scroRight:!0,scrollOutFlag:!1,startValue:null,endValue:null,endOpen:!1,name:"",phone:"",s_time:"",e_time:"",orderNumber:"",shop:[],shoppingAccount:"",remark:"",joinTime:null,style:{width:"200px"},userName:"",is_export:0,is_all:0,phone2:"",name2:"",checkedList2:[],startValue2:"",endValue2:"",orderNumber2:"",shop2:"",shoppingAccount2:"",remark2:""}},methods:{handleChange:function(t){this.corpId=t},rowClassName:function(t,e){var i="dark-row";return e%2===0&&(i="light-row"),i},rollback:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.go(-1)},disabledStartDate:function(t){var e=this.endValue;return!(!t||!e)&&t.valueOf()>e.valueOf()},disabledEndDate:function(t){var e=this.startValue;return!(!t||!e)&&e.valueOf()>=t.valueOf()},handleStartOpenChange:function(t){t||(this.endOpen=!0)},handleEndOpenChange:function(t){this.endOpen=t},startTime:function(t){this.s_time=null==t?"":t.format("X")},endTime:function(t){this.e_time=null==t?"":t.format("X")},disabledDate:function(t){return t&&t>l()().endOf("day")},changeTime:function(t,e){t.length>1?(this.startValue=t[0],this.endValue=t[1]):(this.startValue=null,this.endValue=null)},searchStaff:function(){this.getRecordsList()},reset:function(){this.startValue=null,this.endValue=null,this.name="",this.phone="",this.orderNumber="",this.shop=[],this.shoppingAccount="",this.remark="",this.status=-1,this.sendTime=null,this.sendType=-1,this.chatId="",this.checkedList=this.$route.query.user_id,this.chooseNum=1,this.chooseUserNum=1,this.chooseDepartmentNum=0,this.is_export=0,this.is_all=0,this.getRecordsList()},changeSendType:function(){this.chatId=""},selectStaffCallback:function(t){this.chatId=t},showDepartmentList:function(){this.$refs.user.rightIdList=JSON.parse(JSON.stringify(this.checkedList)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.user)),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,i,s,a){"ok"==t&&(this.chooseNum=parseInt(i)+parseInt(s),this.chooseUserNum=i,this.chooseDepartmentNum=s,this.chooseNum>0?(this.checkedList=JSON.parse(JSON.stringify(e)),this.user=JSON.parse(JSON.stringify(a))):(this.checkedList=[],this.user=[])),this.showModalDepartment=!1},chooseDownType:function(t){this.is_all=t.key,this.is_export=1,this.getRecordsList()},getRecordsList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a,n,o,r,c,l,h,d,p,u,g=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=g.length>0&&void 0!==g[0]?g[0]:1,i=g.length>1&&void 0!==g[1]?g[1]:this.pageSize,this.isLoading=!0,s="",a="",n=[],o="",r="",c="",l="",h="",d="",0==this.is_export?(s=this.phone,a=this.name,n=this.checkedList,o=this.startValue?this.startValue.format("YYYY-MM-DD HH:mm:ss"):"",r=this.endValue?this.endValue.format("YYYY-MM-DD HH:mm:ss"):"",c=this.orderNumber,l=this.shop,h=this.shoppingAccount,d=this.remark):1==this.is_export&&(s=this.phone2,a=this.name2,n=this.checkedList2,o=this.startValue2,r=this.endValue2,c=this.orderNumber2,l=this.shop2,h=this.shoppingAccount2,d=this.remark2),t.next=15,this.axios.post("send-money-manage/send-money-list",{uid:localStorage.getItem("uid"),corp_id:this.corpId,phone:s,name:a,user_id:n,send_stime:o,send_etime:r,status:this.status,send_type:this.sendType,chat_id:this.chatId,order_id:c,shop:l,account:h,remark:d,page:e,page_size:i,is_export:this.is_export,is_all:this.is_all});case 15:p=t.sent,u=p.data,0!=u.error?(this.isLoading=!1,this.$message.error(u.error_msg)):(this.isLoading=!1,0==this.is_export?(this.recordsList=u.data.money,this.is_hide_phone=u.data.is_hide_phone,this.total=parseInt(u.data.count),this.page=e,this.pageSize=i,this.quickJumper=this.total>this.pageSize):window.open(u.data.url),this.is_export=0,this.is_all=0,this.phone2=s,this.name2=a,this.checkedList2=n,this.startValue2=o,this.endValue2=r,this.orderNumber2=c,this.shop2=l,this.shoppingAccount2=h,this.remark2=d);case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.is_export=0,this.is_all=0,this.getRecordsList(t,e),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange:function(t,e){this.is_export=0,this.is_all=0,this.getRecordsList(1,e)},setScroLineHeight:function(){var t=this,e=0;e=t.$refs.scroLeft.clientHeight,e>=t.$refs.scroLeft.scrollHeight?t.scroRight=!1:(t.$refs.scroLine.style.height=(e-50)/t.$refs.scroLeft.scrollHeight*(t.$refs.scroRight.scrollHeight-50)+"px",t.scroRight=!0)},initFirefoxScroll:function(){var t=this;document.addEventListener&&document.addEventListener("DOMMouseScroll",(function(e){var i=window.event||e,s=t.$refs.scroLeft.scrollTop,a=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;i.detail>=0?s+=80:s-=80,s<0&&(s=0),s>a-50&&(s=a),t.$refs.scroLeft.scrollTop=s;var n=s/a*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;s>0&&s<a-50&&(n=s/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n>this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight&&(n=this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px"}),!1)},scrollWheel:function(){var t=t||(window.event?window.event:null),e=this.$refs.scroLeft.scrollTop,i=this.$refs.scroLeft.scrollHeight-this.$refs.scroLeft.clientHeight;t.wheelDelta,e-=.5*t.wheelDelta,e<0&&(e=0),e>i&&(e=i),this.$refs.scroLeft.scrollTop=e;var s=e/i*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;e>0&&e<i&&(s=e/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),s<0&&(s=0),this.$refs.scroLine.style.top=s+"px"},jumpScroll:function(){var t=this;if(!t.mouseEnterFlag){var e=e||(window.event?window.event:null),i=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight;e.y,t.startY,i+=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight,t.$refs.scroLeft.scrollTop=i,i<0&&(i=0),i>s&&(i=s);var a=i/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;i>0&&i<s&&(a=i/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),a<0&&(a=0),t.$refs.scroLine.style.top=a+"px",t.startY=e.y}},scroLineDown:function(){this.mouseEnterFlag=!0,this.startY=event.y,window.addEventListener&&(window.addEventListener("mouseup",this.scroLineUp,!1),window.addEventListener("mousemove",this.scroLineMove,!1)),this.banUserSelect()},scroLineMove:function(){var t=this;if(t.mouseEnterFlag){var e=e||(window.event?window.event:null),i=t.$refs.scroLeft.scrollTop,s=t.$refs.scroLeft.scrollHeight-t.$refs.scroLeft.clientHeight,a=(e.y-t.startY)/t.$refs.scroLeft.clientHeight*t.$refs.scroLeft.scrollHeight;i+=a,t.$refs.scroLeft.scrollTop=i,i<0&&(i=0),i>s&&(i=s);var n=i/s*this.$refs.scroRight.clientHeight-this.$refs.scroLine.clientHeight;i>0&&i<s&&(n=i/this.$refs.scroLeft.scrollHeight*this.$refs.scroRight.clientHeight),n<0&&(n=0),t.$refs.scroLine.style.top=n+"px",t.startY=e.y}},scroLineUp:function(){if(1==this.mouseEnterFlag){var t=t||(window.event?window.event:null);this.mouseEnterFlag=!1,this.changeWidthSmallFlag&&(this.changeWidthSmall(),this.changeWidthSmallFlag=!1),this.scrollOutFlag&&(this.scrollOut(),this.scrollOutFlag=!1),window.removeEventListener&&(window.removeEventListener("mouseup",this.scroLineUp,!1),window.removeEventListener("mousemove",this.scroLineMove,!1)),this.userSelect()}},scroll:function(){this.scrollFlag=!0},scrollOut:function(){this.mouseEnterFlag||(this.scrollFlag=!1),this.scrollOutFlag=!0},banUserSelect:function(){this.$refs.fansList.style.MozUserSelect="none",this.$refs.fansList.style.UserSelect="none",this.$refs.fansList.style.webkitUserSelect="none",this.$refs.fansList.style.MsUserSelect="none"},userSelect:function(){this.$refs.fansList.style.MozUserSelect="text",this.$refs.fansList.style.UserSelect="text",this.$refs.fansList.style.webkitUserSelect="text",this.$refs.fansList.style.MsUserSelect="text"}},mounted:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.userName=t.$route.query.user_name,t.checkedList=t.$route.query.user_id,t.chooseNum=1,t.chooseUserNum=1,t.chooseDepartmentNum=0,localStorage.setItem("notAllow",1),localStorage.setItem("backUrl","/redPacket/list"),t.getRecordsList()}))}},p=d,u=(i("46f1"),i("2877")),g=Object(u["a"])(p,s,a,!1,null,"1e443c3e",null);e["default"]=g.exports},7424:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:"请选择群",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.chatId,callback:function(e){t.chatId=e},expression:"chatId"}},[i("a-select-option",{attrs:{value:""}},[t._v("\n\t\t\t所有群\n\t\t")]),t._l(t.chatList,(function(e,s){return i("a-select-option",{attrs:{value:e.chat_id}},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])}))],2)],1)},a=[],n=i("bd86"),o=i("7618"),r=(i("7f7f"),i("96cf"),i("3b8d")),c=Object(n["a"])({props:{chat_id:{type:String,default:0},disabled:{type:Boolean,default:!1},corp_id:{type:String,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},watch:{chat_id:{handler:function(t){this.chatId=0==t?[]:t},deep:!0},corp_id:{handler:function(t){this.chatId=0},deep:!0}},data:function(){return{selectKey:0,chatList:[],chatId:[],name:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.chatId=t.chat_id?t.chat_id:"",t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,s,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,this.isLoading=!0,t.next=4,this.axios.post("work-chat/chat-list",{uid:localStorage.getItem("uid"),name:this.name,corp_id:this.corp_id,chat_id:"object"==Object(o["a"])(this.chatId)||0==this.chatId?"":this.chatId,page:e,page_size:10});case 4:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.isLoading=!1,this.count=s.data.count,this.chatList=1==e?s.data.list:this.chatList.concat(s.data.list),this.page=e);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),focusSelect:function(){""!=this.name&&(this.page=1,this.chatList=[],this.name="",this.getAllStaffList())},changeSelect:function(t){this.$emit("changeSelect",t)},searchName:function(t){this.name=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.chatList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}}},"watch",{ruleId:{handler:function(t){this.getAllStaffList()},deep:!0}}),l=c,h=i("2877"),d=Object(h["a"])(l,s,a,!1,null,"78f758ab",null);e["a"]=d.exports},b058:function(t,e,i){var s=i("c238");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("499e").default;a("77fa4a1f",s,!0,{sourceMap:!1,shadowMode:!1})},c238:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-1e443c3e]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-1e443c3e]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-1e443c3e] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-1e443c3e]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-1e443c3e]{margin:0 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-1e443c3e]{width:100%;min-width:885px;line-height:40px}.content-msg[data-v-1e443c3e]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-1e443c3e]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-1e443c3e]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-1e443c3e]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-1e443c3e],.list[data-v-1e443c3e]{height:100%}[data-v-1e443c3e] .dark-row{background:#fafafa}[data-v-1e443c3e] .light-row{background:#fff}.content-hd-right[data-v-1e443c3e]{float:right}.btn-primary[data-v-1e443c3e]{width:108px;height:30px;margin-left:20px;text-align:left;padding:0}.btn-primary span[data-v-1e443c3e]{display:inline-block;width:90px;height:30px;line-height:30px;text-align:center}.btn-primary1[data-v-1e443c3e]{width:108px;height:30px;margin-left:20px;padding:0 15px}.btn-primary1[disabled][data-v-1e443c3e]{background-color:#f5f5f5;border-color:#d9d9d9}[data-v-1e443c3e] .ant-form-item-label{text-align:left;margin-bottom:10px}[data-v-1e443c3e] .ant-dropdown-trigger>.anticon.anticon-down{font-size:14px;color:#000}.sider-one-txt[data-v-1e443c3e]{height:60px;line-height:60px;text-align:left}.sider-footer[data-v-1e443c3e]{position:fixed;height:50px;width:250px;bottom:0;background-color:#fff;border-top:1px solid #e2e2e2;padding-top:10px;z-index:999;text-align:center}.scro-right[data-v-1e443c3e]{position:relative;float:right;height:100%;height:calc(100% - 50px)!important;background-color:#fff}.scro-line[data-v-1e443c3e],.scro-right[data-v-1e443c3e]{width:3px;overflow:hidden}.scro-line[data-v-1e443c3e]{position:absolute;z-index:1;top:0;right:0;border-radius:3px;background-color:#d3d3d3}.sider-content[data-v-1e443c3e]{float:left;width:100%;width:calc(100% - 3px);width:97%;max-height:100%;overflow:hidden}.sider-two[data-v-1e443c3e]{padding:0 20px}.sider-title[data-v-1e443c3e]{height:50px;width:250px;border-bottom:1px solid #e2e2e2;line-height:50px;text-align:center}.list[data-v-1e443c3e]{overflow-y:hidden}.sider-tags[data-v-1e443c3e]{text-align:left}[data-v-1e443c3e] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:5px}[data-v-1e443c3e] .ant-tag-checkable-checked{background-color:#1890ff}.sider-one[data-v-1e443c3e]{border-bottom:1px solid #e2e2e2;padding:0 20px 20px}.select-option[data-v-1e443c3e]{display:inline-block;margin-right:10px;margin-bottom:10px}.select-option label[data-v-1e443c3e]{display:inline-block;text-align:right;width:100px}",""])}}]);