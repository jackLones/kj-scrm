(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-174542ce"],{"0094":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?i("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),i("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,o){return["scene"!=t.routeName&&"template"!=t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:a("de05"),alt:""}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},o=[],r=(a("7f7f"),a("28a5"),a("96cf"),a("3b8d")),s=(a("7514"),a("bc3a")),n=a.n(s),l=a("f64c"),d={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o,r,s,d,p,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,a=e.data,0!=a.error){t.next=34;break}if(!(a.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(i=this.hasName.split(","),!(i.length>0)){t.next=22;break}o=!0,r=0;case 11:if(!(r<i.length)){t.next=19;break}if(-1!=a.data.indexOf(i[r])){t.next=16;break}return l["a"].error("该企业微信未配置相关功能权限，无法选择"),o=!1,t.abrupt("return",!1);case 16:r++,t.next=11;break;case 19:o&&(this.showModal=!1,s=this.corpInfo.find((function(t){return t.corpid==c.corpId})),this.$store.dispatch("changeCorp",s),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,s.corp_name)),t.next=23;break;case 22:-1==a.data.indexOf(this.hasName)?l["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==c.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,p=this.corpInfo.find((function(t){return t.corpid==c.corpId})),this.$store.dispatch("changeCorp",p),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,p.corp_name);case 29:t.next=32;break;case 31:l["a"].error("无权限");case 32:t.next=35;break;case 34:l["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},p=d,c=(a("ffd5"),a("2877")),h=Object(c["a"])(p,i,o,!1,null,"440e9184",null);e["a"]=h.exports},"083a":function(t,e,a){var i=a("b71f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("0896ddf9",i,!0,{sourceMap:!1,shadowMode:!1})},"0cfc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabBox"},[a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.groupList.length&&1==t.isNotAdd,expression:"groupList.length == 0 && isNotAdd == 1"}]},[a("span",{attrs:{slot:"description"},slot:"description"},[t._v("\n\t\t\t尚未创建标签，无法选择标签\n\t\t")])]),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.name&&""!=e.name?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]):t._e()],1),t._l(e.data,(function(o,r){return a("span",[e.disabled[r]?t._e():a("a-checkable-tag",{on:{change:function(e){return t.changeTags(o.id,i)}},model:{value:e.checked[r],callback:function(a){t.$set(e.checked,r,a)},expression:"item.checked[tagIndex]"}},[t._v("\n\t\t\t\t\t"+t._s(o.tagname)+"\n\t\t\t\t")]),e.disabled[r]&&1==t.isDisabled?a("a-button",{staticStyle:{margin:"5px","line-height":"26px","font-size":"12px",height:"auto !important",padding:"0 7px"},attrs:{disabled:e.disabled[r]&&1==t.isDisabled}},[t._v("\n\t\t\t\t\t"+t._s(o.tagname)+"\n\t\t\t\t")]):t._e()],1)})),1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-add",expression:"'client-tag-add'"}],staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:function(a){return t.createTag(e.id)}}},[t._v("\n\t\t\t\t新建标签\n\t\t\t")]):t._e()],2):t._e()]})),t.groupList.length>0&&1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-group-add",expression:"'client-tag-group-add'"}],staticStyle:{"font-size":"13px",height:"26px","margin-right":"10px","margin-left":"16.7%",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:t.addTagGroup}},[t._v("\n\t\t新建标签组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建标签",zIndex:99999,confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{staticClass:"add-tag-group",attrs:{zIndex:99999,title:"新建标签组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("分组名称\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],2),a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}})],2)],1)],2)},o=[],r=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),s=(a("c5f6"),{name:"chooseDepartment",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}},isDisabled:{type:Number,default:0},disabledTag:{type:Array,default:function(){}},isNotAdd:{type:Number,default:0},id:{type:String,default:""}},data:function(){return{corpId:"",groupList:[],tag_arr:[],tag_ids:"",group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newTagList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:"",inputValue2:"",newTagList2:[]}},watch:{hasChoose:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.tag_arr=t,this.tag_ids=t.join(),this.hasChoose.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),0==t.length&&this.groupList.map((function(t){t.checked=[]})),this.$forceUpdate())},deep:!0},id:{handler:function(t){""!=typeof t&&(this.corpId=t,this.getTags())},deep:!0},disabledTag:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.disabledTag.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),this.$forceUpdate())},deep:!0}},methods:{getTags:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/tag-group",{corp_id:this.corpId||localStorage.getItem("corpId"),is_not_add:this.isNotAdd});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checked=[],t.disabled=[]})),"undefined"!=typeof this.disabledTag&&this.disabledTag.length>0&&this.disabledTag.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0&&(this.tag_arr=this.hasChoose,this.tag_ids=this.hasChoose.join(),this.hasChoose.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);if(this.tag_arr.includes(a))this.tag_arr.remove(a);else if(this.tag_arr.length+1>9999){this.$message.warning("不可选中，客户标签数量上限9999个");for(var i=0;i<this.groupList[e].data.length;i++)this.groupList[e].data[i].id==a&&(this.groupList[e].checked[i]=!1)}else this.tag_arr.push(a);this.$forceUpdate(),this.tag_ids=this.tag_arr.join(),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.tag_ids)},createTag:function(t){this.group_id=t;var e=0;if(this.groupList.map((function(t){e+=t.data.length})),e>=9999)return this.$message.warning("标签数量已超过上限9999个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;e.newTagList=[];for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>15)return e.$message.error("每个标签最多15个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newTagList.push(t.split(" ")[a])}e.addTags(),e.inputValue="",e.newTagList=[],e.confirmLoading3=!1},addTags:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,type:0,group_id:this.group_id,name:this.newTagList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addTagGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName="",this.newTagList2=[],this.inputValue2=""},handleOk2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:if(""!=this.inputValue2){t.next=10;break}return this.$message.warning("标签名称不能为空"),t.abrupt("return",!1);case 10:this.newTagList2=[],e=JSON.parse(JSON.stringify(this.inputValue2)).split(" "),a=0;case 13:if(!(a<e.length)){t.next=24;break}if(!(e[a].length>15)){t.next=20;break}return this.$message.error("每个标签最多15个字"),this.inputValue2="",t.abrupt("return",!1);case 20:e[a].length>0&&this.newTagList2.push(e[a]);case 21:a++,t.next=13;break;case 24:return this.confirmLoading=!0,t.next=27,this.axios.post("work-tag-group/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,name:this.teamName,type:0,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),tag_name:this.newTagList2});case 27:i=t.sent,o=i.data,0!=o.error?this.$message.error(o.error_msg):(this.teamName="",this.newTagList2=[],this.inputValue2="",this.groupVisible=!1,this.getTags()),this.confirmLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.corpId=this.id||localStorage.getItem("corpId"),this.getTags()}}),n=s,l=(a("d22e"),a("2877")),d=Object(l["a"])(n,i,o,!1,null,"1c74f8e2",null);e["a"]=d.exports},"139a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-layout",[i("a-layout-header",[[t._v(t._s(0==t.isEdit?"新建消息":"修改消息"))],i("a-button",{staticStyle:{float:"right","margin-top":"9px"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("\n\t\t\t\t\t\t返回列表\n\t\t\t\t\t")])],2),i("a-layout",{staticClass:"fans-content"},[i("a-layout-sider",[i("div",{staticStyle:{height:"100%","overflow-y":"auto","padding-bottom":"10px",border:"1px solid #F1F3F5"}},[i("img",{staticStyle:{width:"100%","border-bottom":"1px solid #F1F3F5","margin-bottom":"10px"},attrs:{src:a("eb7e")}}),i("div",{staticStyle:{width:"100%",display:"flex"}},[i("div",{staticClass:"showTime"},[i("span",{staticStyle:{"font-size":"24px","font-weight":"bold"}},[t._v("今天")])]),i("div",{staticStyle:{width:"75%"}},[i("pre",{staticStyle:{"max-height":"13rem","overflow-y":"scroll",width:"95%",display:"block","white-space":"pre-wrap","word-wrap":"break-word",color:"#000"}},[t._v(t._s(t.publishForm.context))]),t.fileList.length>0&&1==t.publishType?i("div",{staticClass:"covers"},t._l(t.fileList,(function(e,a){return e.url?i("div",{key:a,staticClass:"cover"},[i("img",{staticClass:"min",attrs:{src:"/upload"==e.url.substr(0,7)?t.commonUrl+e.url:e.url,width:"75%",alt:""}})]):t._e()})),0):t._e(),2==t.publishType&&t.publicOptions.sources.length>0?i("div",{staticStyle:{"max-width":"95%",padding:"10px 6px 0px 5px"}},[i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",staticStyle:{width:"100%"},attrs:{playsinline:!0,options:t.publicOptions}})],1):t._e(),t.publishForm.info[0]&&t.publishForm.info[0].pic_url&&3==t.publishType?i("div",{staticStyle:{margin:"1rem 1rem 0 0",display:"flex",height:"70px",background:"#F1F3F5"}},[i("div",{staticStyle:{width:"70px",height:"70px",padding:"10px"}},[i("img",{staticClass:"input_img2",attrs:{src:"/upload"==t.publishForm.info[0].pic_url.substr(0,7)?t.commonUrl+t.publishForm.info[0].pic_url:t.publishForm.info[0].pic_url,alt:""}}),""==t.publishForm.pic_url?i("img",{staticClass:"input_img2",attrs:{src:a("b11d"),alt:""}}):t._e()]),i("div",{staticStyle:{"flex-grow":"1",height:"70px"}},[i("div",{staticClass:"inp_title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.publishForm.info[0].title)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"input_text3"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.publishForm.info[0].description)+"\n\t\t\t\t\t\t\t\t\t\t\t")])])]):t._e()])])])]),i("a-layout-content",[i("div",{staticClass:"content"},[i("a-form-model",[0==t.audit?i("div",{staticClass:"content-hd"},[i("a-form-model-item",{attrs:{label:"选择企业微信","label-col":{span:3},"wrapper-col":{span:21}}},[[i("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.changeAgent}},[i("img",{staticStyle:{width:"24px",margin:"-3px 6px 0 0"},attrs:{src:a("ed13")}}),i("span",[t._v(t._s(t.publishForm.corpName))]),i("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}})],1),i("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])]],2)],1):t._e(),i("div",{staticClass:"content-bd"},[0==t.audit?i("a-form-model-item",{staticStyle:{"padding-top":"0px"},attrs:{label:"内容标题","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-input",{staticStyle:{width:"60%"},attrs:{disabled:1==t.isEdit,placeholder:"请填写内容标题，限20字符",maxLength:20},model:{value:t.publishForm.title,callback:function(e){t.$set(t.publishForm,"title",e)},expression:"publishForm.title"}}),i("span",{staticStyle:{display:"inline-block",width:"50px","margin-left":"10px",color:"#F56C6C"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(null===t.publishForm.title?0:t.publishForm.title.length)+" / 20\n\t\t\t\t\t\t\t\t\t\t")]),i("span",{staticStyle:{color:"#F56C6C","margin-left":"20px"}},[t._v("（一旦创建，不可修改）")])],1):t._e(),1!=t.audit?i("a-form-model-item",{attrs:{label:"客户归属","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-radio-group",{attrs:{name:"radioGroup"},on:{change:t.handleMemberChange},model:{value:t.memberType,callback:function(e){t.memberType=e},expression:"memberType"}},[i("a-radio",{attrs:{value:1}},[t._v("全部成员")]),i("a-radio",{attrs:{value:2}},[i("a-button",{attrs:{disabled:1==t.memberType},on:{click:function(e){return t.chooseMember(0)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t选择成员\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t.selectedMemberNum>0?i("span",{staticStyle:{"margin-left":"5px"}},[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):t._e(),t.selectedMemberNum>0?i("a",{staticStyle:{"margin-left":"10px"},on:{click:t.resetMember}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t重置\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)],1)],1):t._e(),i("a-form-model-item",{attrs:{label:"朋友圈内容","label-col":{span:3},"wrapper-col":{span:21}}},[i("div",[i("div",{staticStyle:{height:"10px",background:"#F5F5F5",width:"100%",clear:"both"}}),i("div",{staticClass:"pull-right fl "},[i("a-form-model-item",{attrs:{label:"朋友圈类型","label-col":{span:3},align:"left","wrapper-col":{span:20}}},[i("a-radio-group",{on:{change:t.changePublishType},model:{value:t.publishType,callback:function(e){t.publishType=e},expression:"publishType"}},[i("a-radio",{attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t图片/文字\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-radio",{attrs:{value:2}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t视频\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-radio",{attrs:{value:3}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t图文链接\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1),i("div",{staticStyle:{padding:"27px 20px",background:"#F1F3F5"}},[i("div",[i("a-textarea",{attrs:{maxLength:500,placeholder:"请输入想发表的内容",autoSize:{minRows:9,maxRows:9}},model:{value:t.publishForm.context,callback:function(e){t.$set(t.publishForm,"context",e)},expression:"publishForm.context"}}),i("div",{staticStyle:{float:"right","line-height":"20px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t500\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]),1!==t.publishType?i("a-form-model-item",{attrs:{label:"图文添加方式",align:"left","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-radio-group",{staticStyle:{"line-height":"40px"},on:{change:t.addTypeChange},model:{value:t.addType,callback:function(e){t.addType=e},expression:"addType"}},[i("a-radio",{attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t自定义设定\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-radio",{attrs:{value:2}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t从素材库导入\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1):t._e(),1==t.publishType?i("a-upload",{staticClass:"pic",staticStyle:{width:"90%",margin:"1rem 0 0 0px"},attrs:{multiple:!0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":t.fileList,beforeUpload:t.beforeUploadPic},on:{preview:t.handlePreview,change:t.handleChange}},[this.fileList.length<9?i("div",{staticClass:"local"},[i("a-icon",{staticStyle:{"font-size":"16px",position:"absolute",top:"35%",left:"50%",transform:"translate(-50%,-50%)"},attrs:{type:"plus"}}),i("div",{staticClass:"selectPhoto"},[t._v("本地上传")])],1):t._e(),this.fileList.length<9?i("div",{staticClass:"material_image ",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectMaterial(e)}}},[i("a-icon",{staticStyle:{"font-size":"16px",position:"absolute",transform:"translate(-50%,-50%)"},attrs:{type:"plus"}}),i("div",{staticStyle:{"margin-top":"1.3rem"}},[t._v("素材库导入")])],1):t._e()]):t._e(),2==t.publishType?i("div",{staticClass:"video_upload"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.uploadLoading}}),1!=t.addType||t.uploadVideo.local_path?t._e():i("a-upload",{staticStyle:{height:"100%"},attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",multiple:!1,fileList:[],beforeUpload:t.beforeUploadVideo}},[i("a-button",{staticStyle:{width:"101.82px",height:"101.82px",background:"#FAFAFA",position:"relative",border:"1px dashed #D9D9D9"}},[i("a-icon",{staticStyle:{"font-size":"16px",position:"absolute",top:"35%",left:"50%",transform:"translate(-50%,-50%)"},attrs:{type:"plus"}}),i("div",{staticClass:"selectPhoto"},[t._v("选择视频")])],1)],1),2!=t.addType||t.materialVideo.local_path?t._e():i("div",{staticClass:"material_video",on:{click:t.selectMaterial}},[i("a-icon",{staticStyle:{"font-size":"16px",position:"absolute",transform:"translate(-50%,-50%)"},attrs:{type:"plus"}}),i("div",{staticStyle:{"margin-top":"0.75rem"}},[t._v("素材库导入")])],1)],1):t._e(),2==t.publishType&&t.publicOptions.sources.length>0?i("div",{staticClass:"video-show",staticStyle:{position:"relative"}},[i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",staticStyle:{width:"100%"},attrs:{playsinline:!0,options:t.publicOptions}}),i("img",{staticStyle:{cursor:"pointer",top:"0rem",right:"0",height:"1rem",width:"1rem",position:"absolute"},attrs:{src:a("8add"),alt:""},on:{click:t.deleteVideo}})],1):t._e(),3==t.publishType&&t.materialText.length<=0&&2==t.addType?i("div",{staticClass:"before_choose",on:{click:t.selectMaterial}},[i("span",[i("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"plus"}}),t._v("素材库导入")],1)]):t._e(),t.materialText.length>0&&3==t.publishType&&2==t.addType?i("div",{staticClass:"before_choose",on:{click:t.selectMaterial}},[i("img",{staticStyle:{width:"1.5rem","margin-bottom":"0.2rem"},attrs:{src:a("088b"),alt:""}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t已选择1条图文消息\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("p",{staticClass:"editMessage"},[t._v("[修改]")])]):t._e(),3==t.publishType&&1==t.addType?i("div",{staticClass:"text_upload_container"},[i("a-form-model-item",{attrs:{label:"图文链接","label-col":{span:3},"wrapper-col":{span:18}}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("图文链接\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-input",{attrs:{placeholder:"请输入图文链接,链接地址以http或https开头","allow-clear":""},on:{blur:t.inputChange,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputChange(e)}},model:{value:t.uploadText.url,callback:function(e){t.$set(t.uploadText,"url","string"===typeof e?e.trim():e)},expression:"uploadText.url"}}),t.showTextContent?i("div",{staticClass:"content_input"},[i("div",{staticStyle:{"flex-grow":"1",height:"100px"}},[i("div",{staticClass:"input_text1"},[t._v(t._s(t.uploadText.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"input_text2"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.uploadText.description)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])]),i("div",{staticStyle:{width:"100px",height:"100px",padding:"10px"}},[t.uploadText.pic_url?i("img",{staticClass:"input_img",attrs:{src:t.commonUrl+t.uploadText.pic_url,alt:""}}):t._e(),""==t.uploadText.pic_url?i("img",{staticClass:"input_img",attrs:{src:a("b11d"),alt:""}}):t._e()])]):t._e()],1),t.showTextContent?i("a-form-model-item",{attrs:{label:"高级设置","label-col":{span:3},"wrapper-col":{span:18}}},[i("a-switch",{on:{change:t.changeAdvance},model:{value:t.isAdvance,callback:function(e){t.isAdvance=e},expression:"isAdvance"}})],1):t._e(),t.isAdvance?i("div",[i("a-form-model-item",{attrs:{label:"链接标题","label-col":{span:3},"wrapper-col":{span:18}}},[i("a-input",{attrs:{placeholder:"链接标题","allow-clear":""},model:{value:t.uploadText.title,callback:function(e){t.$set(t.uploadText,"title",e)},expression:"uploadText.title"}})],1),i("a-form-model-item",{attrs:{label:"链接摘要",maxLength:"255","label-col":{span:3},"wrapper-col":{span:18}}},[i("a-input",{attrs:{placeholder:"链接摘要","allow-clear":""},model:{value:t.uploadText.description,callback:function(e){t.$set(t.uploadText,"description",e)},expression:"uploadText.description"}})],1),i("a-form-model-item",{attrs:{label:"链接封面","label-col":{span:3},"wrapper-col":{span:18}}},[i("div",{staticStyle:{position:"relative"}},[""!=t.uploadText.pic_url?i("img",{staticStyle:{width:"100px",height:"100px",border:"1px solid #F1F3F5","vertical-align":"bottom"},attrs:{src:t.commonUrl+t.uploadText.pic_url}}):t._e(),""==t.uploadText.pic_url?i("img",{staticStyle:{width:"100px",height:"100px",border:"1px solid #F1F3F5","vertical-align":"bottom"},attrs:{src:a("b11d")}}):t._e(),i("a-upload",{staticClass:"link_cover",staticStyle:{border:"none","background-color":"#F1F3F5"},attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",multiple:!1,showUploadList:!1,"list-type":"picture-card","before-upload":t.beforeUpload}},[i("span",{staticStyle:{"font-size":"12px",color:"rgb(37, 150, 255)","margin-left":"10px",cursor:"pointer",position:"absolute",width:"50px"}},[t._v("重新选择")])])],1)])],1):t._e()],1):t._e()],1)])]),1!=t.audit?i("div",{staticStyle:{"margin-top":"0.5rem"}},[i("a-form-model-item",{attrs:{label:"提醒同步","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-switch",{attrs:{checked:1==t.publishForm.advanced_setting},on:{change:t.onSwitchChange}}),i("span",{staticStyle:{color:"rgba(1, 1, 1, 0.65)"}},[t._v(" 开启后发表朋友圈时会提醒员工将此朋友圈同步至企业微信客户朋友圈")])],1),i("a-form-model-item",{attrs:{label:"群发时间","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.sendType,callback:function(e){t.sendType=e},expression:"sendType"}},[i("a-radio",{attrs:{value:0}},[t._v("立即发送")]),i("a-radio",{attrs:{value:1}},[t._v("指定时间")]),1==t.sendType?i("a-date-picker",{attrs:{allowClear:!1,format:"YYYY-MM-DD"},on:{change:t.changeDate},model:{value:t.sendDate,callback:function(e){t.sendDate=e},expression:"sendDate"}}):t._e(),1==t.sendType?i("a-time-picker",{staticStyle:{"margin-left":"10px"},attrs:{allowClear:!1,format:"HH:mm"},model:{value:t.sendTime,callback:function(e){t.sendTime=e},expression:"sendTime"}}):t._e()],1),i("div",{staticStyle:{margin:"0.5rem 0 1rem 22.5%"}},[i("a-button",{attrs:{loading:t.sendLoading,type:"primary"},on:{click:t.handlePublish}},[t._v("发表朋友圈\n\t\t\t\t\t\t\t\t\t\t\t\t")]),i("span",{staticStyle:{"margin-left":"0.5rem",color:"rgba(1, 1, 1, 0.65)"}},[t._v(" 发布后本条内容将会显示在成员的历史朋友圈里")])],1)],1)],1):t._e(),1==t.audit?i("div",{},[i("a-form-model-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("审核状态")]),[i("a-radio-group",{staticStyle:{"line-height":"40px","margin-bottom":"10px"},model:{value:t.publishForm.status,callback:function(e){t.$set(t.publishForm,"status",e)},expression:"publishForm.status"}},[i("a-radio",{attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t审核通过（审核通过后，该条朋友圈进入到“已发布”列表里）\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("br"),i("a-radio",{attrs:{value:3}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t审核不通过\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]],2),3==t.publishForm.status?i("a-form-model-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21},label:"原因",prop:"reply"}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("不通过原因")]),i("a-textarea",{attrs:{placeholder:"写下不通过的原因",rows:4},model:{value:t.publishForm.reply,callback:function(e){t.$set(t.publishForm,"reply",e)},expression:"publishForm.reply"}})],1):t._e(),i("a-row",[i("a-col",{attrs:{span:2,offset:11}},[i("a-button",{staticStyle:{margin:"1rem"},attrs:{type:"primary"},on:{click:t.handleAuditFormSubmit}},[t._v("提交审核\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1):t._e()],1)])],1)])],1)],1)],1)],1),i("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})]),i("WeChatModal",{attrs:{show:t.showAgent,callback:t.agentReply,hasName:"group-sending-add"}}),i("chooseDepartment",{ref:"user",attrs:{show:t.showModalDepartment,is_external:1,noticeTitle:"只显示具有外部联系人权限的成员",chooseNum:t.selectedMemberNum,callback:t.departmentReply}}),i("chooseMsg",{attrs:{show:t.showMaterialModel,type:t.materialType,callback:t.materialReply,chooseId:t.publishForm.chooseId}})],1)},o=[],r=(a("ac4d"),a("8a81"),a("ac6a"),a("20d6"),a("55dd"),a("7f7f"),a("28a5"),a("96cf"),a("3b8d")),s=a("0094"),n=a("2afe"),l=a("c75b"),d=a("641c"),p=a("947c"),c=a("d6d3"),h=a("c1df"),u=a.n(h),m=a("7098"),b=a("0cfc"),f=a("8237"),g=a.n(f),x=a("4884"),v=a.n(x),w=a("79b5");function y(t){return new Promise((function(e,a){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)}}))}var k={components:{"medium-editor":v.a,VEmojiPicker:w["a"],WeChatModal:s["a"],chooseMsg:n["a"],chooseDepartment:l["a"],MyIcon:d["a"],chooseMinipro:p["a"],videoPlayer:c["videoPlayer"],cropperModal:m["a"],corpChooseTag:b["a"]},data:function(){return{uploadLoading:!1,isLoading:!1,sendLoading:!1,requestForm:{},isEdit:0,publishForm:{type:2,info:[],title:"",advanced_setting:0,ownership:[],status:1},publishType:1,addType:1,selectedMemberNum:0,chooseUserNum:0,chooseDepartmentNum:0,departmentForm:{},showModalDepartment:!1,showAgent:!1,showMaterialModel:!1,previewVisible:!1,previewImage:"",imageList:[],videoList:[],fileList:[],uploadVideo:{},materialVideo:{},showUploadvideo:!1,showMaterialvideo:!1,uploadText:{},uploadTextCopy:{},materialText:[],memberType:1,sendType:0,materialType:2,sendTime:u()(new Date),sendDate:u()(new Date).format("YYYY-MM-DD"),advanced_setting:!1,showTextContent:!1,isAdvance:!1,commonUrl:this.$store.state.commonUrl,audit:0,video:"",playerOptions:{},publicOptions:{sources:[],playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},created:function(){this.$route.query.isAudit?(this.audit=1,this.isEdit=1,this.requestForm.momentId=this.$route.query.id,this.requestForm.is_edit=0,this.requestForm.corp_id=localStorage.getItem("corpId"),this.getMomentDetail()):!this.$route.query.isAudit&&this.$route.query.id?(this.isEdit=1,this.audit=0,this.requestForm.momentId=this.$route.query.id,this.requestForm.is_edit=0,this.requestForm.corp_id=localStorage.getItem("corpId"),this.getMomentDetail()):(this.publishForm.corp_id=localStorage.getItem("corpId"),this.publishForm.corpName=localStorage.getItem("corpName"))},methods:{changeAdvance:function(){this.isAdvance||(this.uploadText=JSON.parse(JSON.stringify(this.uploadTextCopy)))},getMomentDetail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o,r,s,n,l,d,p,c,h,m,b=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.axios.post("moment/moments-context-add",this.requestForm);case 3:if(e=t.sent,a=e.data,0!=a.error)this.isLoading=!1,this.$message.error(a.error_msg);else if(this.isLoading=!1,this.publishForm=a.data,3!=this.publishForm.status&&(this.publishForm.status=1),this.publishForm.corp_id=localStorage.getItem("corpId"),this.publishForm.corpName=localStorage.getItem("corpName"),this.memberType=a.data.ownership.length>0?2:1,this.selectedMemberNum=a.data.ownership.length,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.publishForm.ownership.length>0&&this.publishForm.ownership.map((function(t){"custom"==t.scopedSlots.title?b.chooseUserNum++:"title"==t.scopedSlots.title&&b.chooseDepartmentNum++})),a.data.send_time?(this.sendType=1,i=a.data.send_time.split(" "),this.sendDate=i[0],this.sendTime=u()(i[1],"HH:mm")):this.sendType=0,2==a.data.type)for(o in this.materialType=2,a.data.info)a.data.info[o].name="image",a.data.info[o].uid=o,a.data.info[o].url="/"==a.data.info[o].local_path.substr(0,1)?this.commonUrl+a.data.info[o].local_path:a.data.info[o].local_path,r=a.data.info[o],s=r.url,n=r.md5,l=r.s_local_path,d=r.local_path,p=r.uid,c=r.name,h=r.sort,m=r.attachment,this.fileList.push({url:s,s_local_path:l,local_path:d,md5:n,uid:p,name:c,sort:h,attachment:m});else 3==a.data.type?(this.materialType=4,this.publishType=2,this.publicOptions.sources=[{src:this.commonUrl+a.data.info[0].local_path,type:"video/mp4"}],a.data.info[0].attachment&&""!==a.data.info[0].attachment?(this.addType=2,this.materialVideo=a.data.info[0]):(this.addType=1,this.uploadVideo=a.data.info[0])):4==a.data.type&&(this.materialType=1,this.publishType=3,a.data.info[0].attachment&&""!==a.data.info[0].attachment?(this.addType=2,this.materialText=a.data.info):(this.addType=1,this.showTextContent=!0,this.uploadText=a.data.info[0],this.uploadTextCopy=JSON.parse(JSON.stringify(a.data.info[0]))));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePublishType:function(){switch(this.publishForm.type=this.publishType+1,this.publishType){case 1:this.materialType=2;break;case 2:this.materialType=4;break;case 3:this.materialType=1;break}},changeAgent:function(){1!=this.isEdit&&(this.showAgent=!0)},agentReply:function(t,e,a){"ok"==t&&this.publishForm.corp_id!=e&&(this.publishForm.corp_id=e,this.publishForm.corpName=a),this.showModal2=!1},resetMember:function(){this.publishForm.ownership=[],this.selectedMemberNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0},handleMemberChange:function(){1==this.selectedMemberNum&&(this.selectedMemberNum=0,this.publishForm.ownership=[],this.chooseUserNum=0,this.chooseDepartmentNum=0)},chooseMember:function(){var t=[];this.publishForm.ownership.map((function(e){t.push(e.id)})),this.$refs.user.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.publishForm.ownership)),this.showModalDepartment=!0},departmentReply:function(t,e,a,i,o){"ok"==t&&(this.selectedMemberNum=parseInt(a)+parseInt(i),this.chooseUserNum=a,this.chooseDepartmentNum=i,this.selectedMemberNum>0?this.publishForm.ownership=o:this.publishForm.ownership=[]),this.showModalDepartment=!1},selfUploadText:function(){this.addType=1},selectMaterial:function(){this.addType=2,this.showMaterialModel=!0,2==this.publishType&&(this.showUploadvideo=!1,this.showMaterialvideo=!0),this.uploadLoading=!0},materialReply:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,i){var o,r,s,n,l,d,p,c,h,u,m,b,f,g,x,v,w,y,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this,o=i,"ok"!=e){t.next=33;break}if(!isNaN(i)&&""!=i){t.next=7;break}this.$message.error("请选择素材"),t.next=31;break;case 7:if(!i){t.next=31;break}return i=parseInt(i),t.next=11,this.axios.post("material/upload-media",{wx_id:localStorage.getItem("wxNum"),attachment_id:i});case 11:if(r=t.sent,s=r.data,this.uploadLoading=!1,0==s.error){t.next=18;break}this.$message.error(s.error_msg),t.next=31;break;case 18:if(s.data[o].sort=this.fileList.length+1,s.data[o].attachment=o,2!=this.publishForm.type&&1!=this.publishForm.type){t.next=30;break}if(!(this.fileList.length>8)){t.next=23;break}return t.abrupt("return",this.$message.warning("少于9张"));case 23:n=s.data[i],n.url=n.s_local_path?this.commonUrl+n.s_local_path:this.commonUrl+n.local_path,this.publishForm.info.push(n),l=n.attachment,d=n.sort,p=n.sort,c=n.file_name,h=n.s_local_path,u=n.local_path,m=n.url,this.fileList.push({attachment:l,sort:d,uid:p,name:c,s_local_path:h,local_path:u,url:m}),t.next=31;break;case 30:4==this.publishForm.type||1==this.publishForm.type?(b=s.data[i],f=b.artList[0],g=f.content_source_url,x=f.local_path,v=f.title,w=f.digest,y={url:g,pic_url:x,title:v,description:w},y.attachment=b.attachment,y.sort=1,this.materialText=[y],this.publishForm.info=this.materialText):3!=this.publishForm.type&&1!=this.publishForm.type||(k=s.data[i],this.publicOptions.sources=[{src:this.commonUrl+k.local_path,type:"video/mp4"}],this.materialVideo=k);case 31:t.next=34;break;case 33:"cancel"==e&&(this.uploadLoading=!1);case 34:this.showMaterialModel=!1;case 35:case"end":return t.stop()}}),t,this)})));function e(e,a,i){return t.apply(this,arguments)}return e}(),handlePublish:function(){if(2==this.memberType&&this.publishForm.ownership.length<=0)this.$message.info("请选择成员");else{if(1==this.publishType){if(this.publishForm.info=this.fileList,this.publishForm.info.length<=0&&!this.publishForm.context)return void this.$message.info("请输入内容")}else if(2==this.publishType){if(1==this.addType?this.publishForm.info=[this.uploadVideo]:this.publishForm.info=[this.materialVideo],!this.publishForm.info[0].local_path)return void this.$message.info("请选择视频")}else if(3==this.publishType&&(1==this.addType?this.publishForm.info=[this.uploadText]:this.publishForm.info=this.materialText,!this.publishForm.info[0].pic_url))return void this.$message.info("请选择图文");this.publishForm.info.length<=0&&(this.publishForm.type=1),1==this.sendType&&(this.publishForm.send_time=this.sendDate+" "+this.sendTime.format("HH:mm")),this.publishForm.audit=this.audit,this.publishForm.is_edit=this.isEdit,1==this.isEdit&&(this.publishForm.momentId=this.$route.query.id),this.sendLoading=!0,this.publishMoment()}},handleAuditFormSubmit:function(){this.publishForm.is_edit=1,this.publishForm.momentId=this.$route.query.id,this.publishForm.audit=1,1==this.publishType&&this.publishForm.info.length>0?this.publishForm.type=2:1==this.publishType&&this.publishForm.info.length<=0&&(this.publishForm.type=1),this.handlePublish()},publishMoment:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("moment/moments-context-add",this.publishForm);case 2:e=t.sent,a=e.data,0!=a.error?(this.sendLoading=!1,this.$message.error(a.error_msg)):(this.sendLoading=!1,this.goBack());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addTypeChange:function(){2==this.publishType?(this.publicOptions.sources=[],1==this.addType&&this.uploadVideo.local_path?this.publicOptions.sources=[{src:this.commonUrl+this.uploadVideo.local_path,type:"video/mp4"}]:2==this.addType&&this.materialVideo.local_path&&(this.publicOptions.sources=[{src:this.commonUrl+this.materialVideo.local_path,type:"video/mp4"}])):3==this.publishType&&(1==this.addType?this.publishForm.info=[this.uploadText]:this.publishForm.info=this.materialText)},deleteVideo:function(){this.publicOptions.sources=[],1==this.addType?this.uploadVideo={}:2==this.addType&&(this.materialVideo={})},beforeUploadVideo:function(t){this.uploadLoading=!0,this.showUploadvideo=!0,this.showMaterialvideo=!1,this.addtype=1;var e=this;if("video/mp4"!=t.type)return this.uploadLoading=!1,e.$message.error("视频类型仅支持mp4类型！"),!1;var a=t.size/1024/1024<=50;return a?t.size<=5?(this.uploadLoading=!1,e.$message.error("上传的文件大小需大于5字节！"),!1):void e.getFileContent(t,(function(a){e.selfUploadVideo(t,g()(a))})):(this.uploadLoading=!1,e.$message.error("视频不超过50M！"),!1)},selfUploadVideo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,o,r,s,n,l,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,i.append("type",e.type),i.append("corp_id",this.publishForm.corp_id),i.append("md5",a),o=new FormData,o=i,t.next=8,this.axios.post("moment/moments-upload",i);case 8:if(r=t.sent,s=r.data,""==s.data.local_path){t.next=19;break}this.uploadLoading=!1,this.publicOptions.sources=[{src:this.commonUrl+s.data.local_path,type:"video/mp4"}],s.data.sort=1,s.data.attachment="",this.uploadVideo=s.data,n=s.data,n.local_path,n.md5,n.sort,t.next=26;break;case 19:if(""!=s.data.local_path){t.next=26;break}return o.append("fileInfo",e),t.next=23,this.axios.post("moment/moments-upload",o);case 23:l=t.sent,d=l.data,""!=d.data.local_path&&(this.uploadLoading=!1,this.publicOptions.sources=[{src:this.commonUrl+d.data.local_path,type:"video/mp4"}],d.data.sort=1,d.data.attachment="",this.uploadVideo=d.data,p=d.data,p.local_path,p.md5,p.sort);case 26:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleCancel:function(){this.previewVisible=!1},getFileContent:function(t,e){if(t&&t.size>0&&window.FileReader){var a=new FileReader;a.onloadend=function(t){t.target.readyState==FileReader.DONE&&e(t.target.result)},a.readAsText(t,"utf-8")}},beforeUploadPic:function(t,e){if(this.addType=1,"image/jpg"!=t.type&&"image/jpeg"!=t.type&&"image/png"!=t.type)return this.$message.error("图片类型仅支持jpg、jpeg和png类型！"),!1;if(e.length+this.fileList.length>9)return t.uid==e[0].uid&&(this.$message.destroy(),this.$message.error("上传图片超过九张！")),!1;var a=t.size/1024/1024<2;if(!a)return this.$message.error("图片不超过2M！"),this.desImgLoading=!1,!1;if(t.size<5)return this.$message.error("上传文件大小不符！"),this.desImgLoading=!1,!1;var i=this;this.getFileContent(t,(function(e){i.upLoadPhoto(t,g()(e))}))},upLoadPhoto:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,o,r,s,n,l,d,p,c,h,u,m,b,f,g,x,v,w,y,k,_,T,F,S;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,o=new FormData,i.append("type",e.type),i.append("corp_id",this.publishForm.corp_id),i.append("md5",a),o=i,t.next=8,this.axios.post("moment/moments-upload",i);case 8:if(r=t.sent,s=r.data,0==s.error){t.next=14;break}this.$message.error(s.error_msg),t.next=30;break;case 14:if(""==s.data.local_path){t.next=24;break}s.data.sort=this.fileList.length+1,s.data.attachment="",this.publishForm.info.push(s.data),s.data.url=this.commonUrl+s.data.local_path,s.data.name=s.data.md5,n=s.data,l=n.url,d=n.md5,p=n.sort,c=n.s_local_path,h=n.local_path,u=n.name,m=n.sort,b=n.attachment,this.fileList.push({url:l,s_local_path:c,md5:d,uid:p,name:u,local_path:h,sort:m,attachment:b}),t.next=30;break;case 24:return o.append("fileInfo",e),t.next=27,this.axios.post("moment/moments-upload",o);case 27:f=t.sent,g=f.data,""!=g.data.local_path&&(g.data.sort=this.fileList.length+1,g.data.attachment="",this.publishForm.info.push(g.data),g.data.url=this.commonUrl+g.data.local_path,g.data.name=g.data.md5,x=g.data,v=x.url,w=x.md5,y=x.sort,k=x.s_local_path,_=x.local_path,T=x.name,F=x.sort,S=x.attachment,this.fileList.push({url:v,md5:w,uid:y,s_local_path:k,local_path:_,name:T,sort:F,attachment:S}));case 30:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handlePreview:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,y(e.originFileObj);case 3:e.preview=t.sent;case 4:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleChange:function(t){var e=t.file.size/1024/1024<2,a=!0,i=!1,o=void 0;try{for(var r,s=t.fileList[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var n=r.value;"error"==n.status&&(n.status="done")}}catch(l){i=!0,o=l}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return"removed"==t.file.status&&this.fileList.splice(this.fileList.findIndex((function(e){return e.uid==t.file.uid})),1),e},onSwitchChange:function(t){this.publishForm.advanced_setting=t?1:0},inputChange:function(){this.uploadText.url&&""!=this.uploadText.url&&this.getTextInfo()},getTextInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("moment/moments-images-text",{corp_id:this.publishForm.corp_id,url:this.uploadText.url});case 2:e=t.sent,a=e.data,0!=a.error?(this.isSend=!1,this.uploadText={},this.uploadTextCopy={},this.publishForm.info[0]=this.uploadText,this.$message.error(a.error_msg)):(this.showTextContent=!0,a.data.pic_url=a.data.url,i=this.uploadText.url,this.uploadText=a.data,this.uploadTextCopy=JSON.parse(JSON.stringify(a.data)),this.uploadText.url=i,this.uploadTextCopy.url=i,this.publishForm.info[0]=this.uploadText);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDate:function(t,e){this.sendDate=e},beforeUpload:function(t){var e=this;if("image/jpg"!=t.type&&"image/jpeg"!=t.type&&"image/png"!=t.type)return this.$message.error("图片类型仅支持jpg、jpeg和png类型！"),!1;var a=t.size/1024/1024<2;return a?t.size<5?(this.$message.error("上传文件大小不符！"),this.desImgLoading=!1,!1):void this.getFileContent(t,(function(a){e.uploadCover(t,g()(a))})):(this.$message.error("图片不超过2M！"),this.desImgLoading=!1,!1)},uploadCover:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,o,r,s,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,o=new FormData,i.append("type",e.type),i.append("corp_id",this.publishForm.corp_id),i.append("md5",a),o=i,t.next=8,this.axios.post("moment/moments-upload",i);case 8:if(r=t.sent,s=r.data,0==s.error){t.next=14;break}this.$message.error(s.error_msg),t.next=24;break;case 14:if(""==s.data.local_path){t.next=18;break}this.uploadText.pic_url=s.data.s_local_path?s.data.s_local_path:s.data.local_path,t.next=24;break;case 18:return o.append("fileInfo",e),t.next=21,this.axios.post("moment/moments-upload",o);case 21:n=t.sent,l=n.data,""!=l.data.local_path&&(this.uploadText.pic_url=l.data.s_local_path?l.data.s_local_path:l.data.local_path);case 24:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),goBack:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.push("/circle/circleOfFriends")}}},_=k,T=(a("a8e4"),a("2877")),F=Object(T["a"])(_,i,o,!1,null,"64b6a527",null);e["default"]=F.exports},"20d6":function(t,e,a){"use strict";var i=a("5ca1"),o=a("0a49")(6),r="findIndex",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"59fe":function(t,e,a){var i=a("b6ee");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("2af37125",i,!0,{sourceMap:!1,shadowMode:!1})},"8add":function(t,e,a){t.exports=a.p+"assets/img/deleteIcon.236acac9.png"},9249:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s ease-in-out infinite;animation:medium-editor-image-loading 1s ease-in-out infinite;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;position:absolute;left:0;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-editor-placeholder-relative{position:relative}.medium-editor-placeholder-relative:after{content:attr(data-placeholder)!important;font-style:italic;position:relative;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0 8px}.medium-toolbar-arrow-over:before{border-width:0 8px 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s linear forwards;animation:medium-editor-pop-upwards .16s linear forwards}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}.medium-editor-element{word-wrap:break-word;min-height:30px}.medium-editor-element img{max-width:100%}.medium-editor-element sub{vertical-align:sub}.medium-editor-element sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},a8e4:function(t,e,a){"use strict";var i=a("083a"),o=a.n(i);o.a},b11d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA7CAIAAABKR2XkAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAThSURBVGiB7ZrfS9tcGMe/SZPYmlGnrngxFEq3wty0imN0ypChMvGipV2ZN9tf4f/hpci8UPEHIkVQr4YUdlG2QVnFiaAIzkVbstpkmHa11dNmFxm+o74T0jZOoZ+rQ3p4zqdPT57TcxIqm80WCgVCSD6fLxQKuK5QFGUymTiOYwAQQgghqqr+a6vLUFWVEEJRFA0gn89fc91zCCE0gOs8GYpQVZX+1w66qRobT9XYeKrGxlM1Np6bZ8xczTCEEEVRVFW1Wq0sy5YTynBjQsjHjx/X1tay2SwAhmF6e3v7+voYpsShqWw2+/Pnz4pK/sfh4eHq6urXr1+Lrjc1NXm9XofDQVGU3pgGGkuSND4+fnx8DMBut3d3d7MsG4lEtra2ANTX14+MjHAcpzesUcaCICwsLCSTSZ7nPR6Py+Wi6d93+ebm5uLiYi6Xc7vdfr9fb2RDaoUkSfPz88lk0mQyvXr1qrOz81wXQFtb25MnTwB8+vQpk8noDV55Y0EQJicnZVnmef7169cPHjy42Ofx48da4+joSG/8CtcKLbuyLGvZ/V9dALW1tVojn8/rHaKSxqIoTk9Py7JssVgu0QWwvr6uNRoaGvSOUjHj09PTlZUVSZI4jhseHm5tbdV2uxfrVyKReP/+PQCHw3H79m29A1VsHsfj8f39fZPJ5PV6W1tb0+l0MBhcW1sr6qYoSjAYzGQyPM/7fL4SBqpYjqPRKCGkqampvb0dwN7eXiQSAUDT9PPnz00mEwBZlicmJiRJYhimv7/fZrOVMFDFcpxIJADYbLaamhoATqfz/v37AMLh8Pfv3wFks9mZmRlJkmpqagKBwNOnT0tY8Mo1liTp27dvZ2dnAMxmM4B0Oq1NX7PZ7PP56urqMpnMxsYGAEEQ4vE4TdMvXrwoqtBXZCwIwtjY2NjY2OfPnwHcu3dP+w7JZFLr0NjY2NLSAmB3dxeA3W73+Xxv3rzp7u4uLbtlGUuStLCwkEqlLBZLc3MzgPb2dqvVmkql3r17d3JyAoCiqDt37gBIp9MAWJZ1u90PHz4sObulG8disfHxcW0RDgQCd+/eBXDr1q2enh4AX758+fDhAwBVVUVRBFBXV1eOYhG6awUhZHl5+fj4mOf5P5cJmqZ7e3tFURRFUct6PB4/ODgAcMlSchXG4XB4f38fgMfjKVKhaXp4eDiXy1ksllQqFQwG0+m01Wp99OhRpXSh15gQEgqFADidTpfLdbEDTdMWi0WW5fn5+VgsxnHcwMBAaXX3b+gzVhQll8sB6Onp+dsNpCjK1NSUKIosy/r9/o6OjnIqw0X0GZ8fjP9t7/Djx4+5uTlRFDmOGxwc7OjoKLMyXERfOKvVqiVMW4GLUBTl7du3giAwDOP3+y/5HcpBX0SWZbUSFo1Gd3Z2/vwokUjMzs5qi/DQ0FDFJ8M5uvd5Z2dno6OjkiSZzeZnz551dXVxHLe+vh4KhTKZDMMwgUCgs7PTIN1SjAFsb28Hg0FFUYqu8zw/MDDgdruNmAznlGKsqurp6enS0tL5VgKA3W5/+fKlzWYzLrsaZe3+FUU5OjoqFAqNjY0l7H9Kw9gzISO4eWebVWPjqRobT9XYeKrGxlM1Np6baWz0/8MK8vtdLO2o9EbAaA8uOY6jKOqav/JGURTDMCzLUtrD1xvEL6lgHVOz/2g5AAAAAElFTkSuQmCC"},b6ee:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},b71f:function(t,e,a){e=t.exports=a("2350")(!1),e.i(a("83fb"),""),e.i(a("9249"),""),e.push([t.i,"[data-v-64b6a527] .ant-form-item-control{margin-bottom:0!important}.pic[data-v-64b6a527] .ant-upload.ant-upload-select-picture-card:hover{border-color:#fff;border:1px dashed #d9d9d9}.local[data-v-64b6a527]:hover,.material_image[data-v-64b6a527]:hover{color:#0a98d5}.link_cover[data-v-64b6a527] .ant-upload.ant-upload-select-picture-card{width:0;height:0;background-color:#f1f3f5;border:none}.before_choose[data-v-64b6a527]{height:136px;font-size:17px;line-height:9rem;text-align:center;cursor:pointer;border:1px dashed #ccc;width:95%;margin:0 2.5%}.ant-upload-picture-card-wrapper[data-v-64b6a527]{width:auto}.text_upload_container[data-v-64b6a527]{background-color:#f1f3f5;padding:1rem}.material_image[data-v-64b6a527]{width:101.8px;height:101.8px;background-color:#fafafa;border:1px dashed #d9d9d9;margin:2px 0 1rem 0;text-align:center;padding:2.08rem 0 0 0;color:rgba(0,0,0,.65);position:absolute;left:7rem;top:-.14rem}.video_upload[data-v-64b6a527]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.video-show[data-v-64b6a527]{width:14rem;height:8rem;text-align:center;background-color:#000}.material_video[data-v-64b6a527]{width:101.8px;height:101.8px;background-color:#fafafa;border:1px dashed #d9d9d9;text-align:center;padding:2.08rem 0 0 0;color:rgba(0,0,0,.65)}.uploadImage_container[data-v-64b6a527]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.moment_container[data-v-64b6a527]{width:100%;height:100%;background-color:#fff}.preview-modal .ant-carousel .slick-slide[data-v-64b6a527]{text-align:center;height:auto;overflow:hidden}.preview-modal .ant-carousel .custom-slick-arrow[data-v-64b6a527]{width:50px;height:50px;font-size:50px;color:#545454!important;opacity:.3}.preview-modal .ant-carousel .custom-slick-arrow[data-v-64b6a527]:before{display:none}.preview-modal .ant-carousel .custom-slick-arrow[data-v-64b6a527]:hover{opacity:.5}.showImg[data-v-64b6a527]{max-width:calc(33.33% - 5px);margin:5px 5px 0 0}.showTime[data-v-64b6a527]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 5px 0 10px}pre[data-v-64b6a527]{margin-top:5px!important;margin-bottom:0!important}.content_input[data-v-64b6a527]{background:#fff;min-width:378px;height:100px;margin-top:5px;display:-webkit-box;display:-ms-flexbox;display:flex}.input_text1[data-v-64b6a527]{width:200px;font-size:18px}.input_text1[data-v-64b6a527],.input_text4[data-v-64b6a527]{line-height:30px;margin:15px 0 5px 15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all;color:#000}.input_text4[data-v-64b6a527]{width:150px;font-size:16px}.input_text2[data-v-64b6a527]{width:250px;line-height:20px;margin:0 0 0 15px}.input_text2[data-v-64b6a527],.input_text3[data-v-64b6a527]{display:-webkit-box;-webkit-box-orient:vertical;word-break:break-all;-webkit-line-clamp:2;overflow:hidden}.input_text3[data-v-64b6a527]{max-width:90%;line-height:16px;font-size:12px}.inp_title[data-v-64b6a527]{max-width:110px;padding-right:5px;line-height:25px;margin-top:3px;font-weight:700;color:#000;overflow:hidden;text-overflow:ellipsis;word-break:break-all;white-space:nowrap}.input_img2[data-v-64b6a527]{width:50px;height:50px}.input_img[data-v-64b6a527]{width:80px;height:80px}.selectPhoto[data-v-64b6a527]{width:100%;position:absolute;top:65%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.selectFile[data-v-64b6a527]:hover{border-color:#2596ff;cursor:pointer}.selectFile[data-v-64b6a527],.upload[data-v-64b6a527],[data-v-64b6a527] .ant-upload{position:relative}.selectFile[data-v-64b6a527]{padding-top:15px}.editFriends[data-v-64b6a527]{border-bottom:1px solid #f1f3f5;margin-bottom:15px;font-size:20px;font-weight:700;color:#000}.content-msg[data-v-64b6a527]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:0 0 15px 0;text-align:left}.content-msg a[data-v-64b6a527]:link,.content-msg a[data-v-64b6a527]:visited{color:#1890ff;text-decoration:none}.item-info[data-v-64b6a527] p{margin:0;word-break:break-word}.content-editable[data-v-64b6a527]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:110px;overflow:auto}.content-editable[data-v-64b6a527] p{margin:0;word-break:break-word}.hide[data-v-64b6a527]{display:none!important}.img_list[data-v-64b6a527]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;width:30px}#components-layout-demo-basic[data-v-64b6a527]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-64b6a527]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:760px;width:100%;line-height:50px}[data-v-64b6a527] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-64b6a527] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}[data-v-64b6a527] .ant-col-15{margin-left:15px}[data-v-64b6a527] .ant-card-meta-avatar{float:right;padding:0}#components-layout-demo-basic .ant-layout-content[data-v-64b6a527]{min-width:760px;width:100%;position:relative}.content[data-v-64b6a527]{border:1px solid #e2e2e2;min-width:760px;position:absolute;top:20px;left:20px;right:20px;background-color:#fafafa;margin-bottom:20px}#components-layout-demo-basic>.ant-layout[data-v-64b6a527]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-64b6a527]:last-child{margin:0;height:100%}.list[data-v-64b6a527]{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;overflow-x:hidden;overflow-y:auto}.content-hd[data-v-64b6a527]{height:80px;padding:20px 0;border-bottom:1px solid #e2e2e2}.content-bd[data-v-64b6a527]{background:#f5f5f5;padding-top:13px}.msg_content_body[data-v-64b6a527]{border-radius:4px;font-size:14px;color:#333;margin:20px}[data-v-64b6a527] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px}.pull-left[data-v-64b6a527]{width:88px}.push-type-item[data-v-64b6a527]{position:relative;margin-bottom:8px;border:1px solid #d8d8d8;border-right:0;z-index:1;cursor:pointer;line-height:38px}.active[data-v-64b6a527]{background:#fff;margin-right:-1px}.type[data-v-64b6a527]{display:inline-block;width:65px;border-right:1px solid transparent;text-align:center}.add-new[data-v-64b6a527]{background:#f9f9f9;cursor:pointer}.add-icon[data-v-64b6a527]{font-size:12px;width:30px}.add-btn[data-v-64b6a527],.add-icon[data-v-64b6a527]{float:left;height:38px;line-height:38px;text-align:center;border:1px dashed #d8d8d8;border-right:0}.add-btn[data-v-64b6a527]{width:58px}.pull-right[data-v-64b6a527]{width:95%;background-color:#fff;padding:0 24px 24px 24px}.fl[data-v-64b6a527]{float:left}.msg_content_txt[data-v-64b6a527]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;float:left;word-break:break-word}.covers[data-v-64b6a527]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap}.cover[data-v-64b6a527],.covers[data-v-64b6a527]{display:-webkit-box;display:-ms-flexbox;display:flex}.cover[data-v-64b6a527]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:33%;margin:10px 0}.min[data-v-64b6a527]{height:60px;width:60px;-o-object-fit:cover;object-fit:cover}.mt[data-v-64b6a527]{margin-bottom:15px;overflow:hidden}[data-v-64b6a527] #components-layout-demo-basic .ant-layout-sider{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 24%!important;flex:0 0 24%!important;max-width:24%!important;min-width:24%!important;width:24%!important;border-right:1px solid #e2e2e2;padding:20px 20px}.wrap[data-v-64b6a527]{border:1px solid #e2d6d6;margin:auto;width:100%;background:#f5f5f5;overflow-y:auto;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap[data-v-64b6a527],[data-v-64b6a527] .ant-layout,[data-v-64b6a527] .ant-spin-container,[data-v-64b6a527] .ant-spin-nested-loading{height:100%}.popover-menu[data-v-64b6a527]{cursor:pointer;text-align:center;display:inline-block;width:80px;border:1px solid rgba(0,0,0,.2)}.popover-menu1[data-v-64b6a527],.popover-menu2[data-v-64b6a527]{margin-left:10px}.popover-menu p[data-v-64b6a527]{margin-bottom:5px}.material[data-v-64b6a527]{max-width:80px;max-height:80px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.material-div[data-v-64b6a527]{display:inline-block;position:relative;width:100px;height:100px;border:1px dashed #d8d8d8}.clear-current-list[data-v-64b6a527]{display:inline-block;cursor:pointer;margin-left:10px;color:#1890ff}[data-v-64b6a527] .ant-form-item-control{margin-left:15px;margin-bottom:10px}.upload-wrap[data-v-64b6a527]{width:96px;height:96px;text-align:center;border:1px dashed #d8d8d8;background:#fff;cursor:pointer;margin-bottom:10px;float:left}.upload-plus[data-v-64b6a527]{font-size:32px;line-height:96px;font-weight:300;color:#686868}.url-title[data-v-64b6a527]{white-space:nowrap;font-size:18px}.url-text[data-v-64b6a527],.url-title[data-v-64b6a527]{overflow:hidden;text-overflow:ellipsis}.url-text[data-v-64b6a527]{float:left;max-width:calc(100% - 74px);word-break:break-word;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.url-img[data-v-64b6a527]{float:right;width:64px;height:64px}.applet-title[data-v-64b6a527]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}[data-v-64b6a527] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:52px}.upload-border[data-v-64b6a527]{background:#fff;border:1px dotted #d8d8d8;height:110px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;margin-bottom:10px}[data-v-64b6a527] .ant-tag-checkable-checked{background-color:#1890ff}.audio[data-v-64b6a527]{width:100%;height:150px;padding:50px 20px;background:#fff}.box[data-v-64b6a527]{float:right;width:46px;height:46px;border-radius:50%;position:relative;border:2px solid #1890ff}.box[data-v-64b6a527],.wifi-symbol[data-v-64b6a527]{-webkit-box-sizing:border-box;box-sizing:border-box}.wifi-symbol[data-v-64b6a527]{width:30px;height:30px;overflow:hidden;-webkit-transform:rotate(135deg);transform:rotate(135deg);position:absolute;left:13px;top:6px}.wifi-circle[data-v-64b6a527]{border:2px solid #1890ff;border-radius:50%;position:absolute}.first[data-v-64b6a527]{width:5px;height:5px;background:#1890ff;top:25px;left:25px}.second[data-v-64b6a527]{width:25px;height:25px;top:15px;left:15px}.third[data-v-64b6a527]{width:40px;height:40px;top:5px;left:5px}.editMessage[data-v-64b6a527]{display:inline-block;margin-left:10px;color:#00f}.changeType[data-v-64b6a527]{border:1px dashed #e2e2e2;background:#fff;margin:15px 0;line-height:110px}.changeType span[data-v-64b6a527]{vertical-align:super}.file-name[data-v-64b6a527]{float:right;margin-right:10px;max-width:calc(100% - 70px);word-break:break-all;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.hideMask[data-v-64b6a527]{color:rgba(0,0,0,.25);background-color:#f5f5f5;cursor:not-allowed;opacity:.5;position:absolute;top:0;bottom:0;width:100%!important;z-index:9999}[data-v-64b6a527] .inputTitle{height:30px;line-height:30px;background:#0f0f0f;opacity:.3;color:#fff;padding:0 10px;margin-top:-30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-64b6a527] .ant-tag{margin-right:5px;height:26px;line-height:25px}[data-v-64b6a527] .ant-input-number-handler-wrap{display:none}[data-v-64b6a527] .ant-form-item-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},b884:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-1c74f8e2] .ant-tree-checkbox{float:right}[data-v-1c74f8e2] .ant-tree-iconEle{display:none!important}[data-v-1c74f8e2] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-1c74f8e2] .ant-list-item{border-bottom:0;padding:0}[data-v-1c74f8e2] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-1c74f8e2] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-1c74f8e2]{color:red;margin:0 20px 12px 0}.group-name[data-v-1c74f8e2]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-1c74f8e2]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}[data-v-1c74f8e2] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;height:26px;line-height:25px}[data-v-1c74f8e2] .ant-tag-checkable-checked{background-color:#1890ff}[data-v-1c74f8e2] .ant-col-20{margin-left:20px;width:calc(83.33333% - 20px)}.add-tag-group[data-v-1c74f8e2] .ant-col-20{margin-left:0;width:83.33333333%}",""])},c814:function(t,e,a){var i=a("b884");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("688da18d",i,!0,{sourceMap:!1,shadowMode:!1})},d22e:function(t,e,a){"use strict";var i=a("c814"),o=a.n(i);o.a},ed13:function(t,e,a){t.exports=a.p+"assets/img/WeChatLogo.3ad5225d.jpg"},ffd5:function(t,e,a){"use strict";var i=a("59fe"),o=a.n(i);o.a}}]);