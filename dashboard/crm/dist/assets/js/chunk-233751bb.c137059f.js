(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-233751bb"],{7111:function(t,e,a){var i=a("834c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("03fda328",i,!0,{sourceMap:!1,shadowMode:!1})},"73f5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABrUlEQVR4AaxWAUdDURg9AkECxQAIqj8xAAEhQAAEUfoBLxQKNLHaP8hkf2Fsgbf1KLGGjAja1MYG4HZu8jzrpn3nbZx7vzvO+c5777v3fpj159pYdgl2XQu3jBPOr5wnxJjocR1zLnEuYp4/d491CpeJIeFmQgtd8iLGhbzJTygyIpwC8t+ISEveRjUgqqJhTd4j3JzRnzV53ypuQO+/5A3D9z10CTY4r3G9bzBR/avgIoPIU8D8o8F8NE0u+Io1bLPTXwb4n2l3MKf69F6gEniDFaNGlHXfNRZTLfAJalJBMnlRqOZmwEBT0NnxxJJA7AQMdASdKvwlIhAHAQMDQSfRT71jLKTJGUsavFHBYCyRH7CaGmAsnowT+EEix9hMDTAWDYzhX4NEzjQePpbvBg6JaOA8U4BXokYMDjc5Go4L8s9y8K/BYVsVID6Jd5nfwhbcHZa4+BDIB9/cOha53hP4L9lDpGwUqAcOomfxMko735HB/WWon1Cv47QDtmwfl2Bl6g0MhafXW7Kf3XPkYnwtAUgvIakCGvhG6cA3y+nfMRkqXTP6d04HvHsOABT/TJ4cVieJAAAAAElFTkSuQmCC"},"834c":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".content-msg[data-v-616f6bba]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.msg-info[data-v-616f6bba]{color:#ffdda6;margin-right:10px}#components-layout-demo-basic[data-v-616f6bba]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-616f6bba]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-616f6bba] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-616f6bba] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}#components-layout-demo-basic .ant-layout-sider[data-v-616f6bba]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-616f6bba]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-616f6bba]{height:60px;line-height:60px}.content-bd[data-v-616f6bba],.content-hd[data-v-616f6bba]{width:100%;min-width:885px}.content-bd[data-v-616f6bba]{background:#fff;min-height:120px;border:1px solid #e2e2e2}#components-layout-demo-basic>.ant-layout[data-v-616f6bba]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-616f6bba]:last-child{margin:0}.list[data-v-616f6bba]{margin-left:16px}.ant-layout.ant-layout-has-sider[data-v-616f6bba],.list[data-v-616f6bba]{height:100%}.sider-one[data-v-616f6bba]{padding:0 20px}.sider-one-txt[data-v-616f6bba]{height:60px;line-height:60px;text-align:left}.selectWx[data-v-616f6bba]{width:200px;margin-left:20px;height:50px;line-height:50px;cursor:pointer;padding-left:10px}.active[data-v-616f6bba]{background:#1e90ff;color:#fff}[data-v-616f6bba] .ant-tabs-bar{padding:0 20px!important}.msg_content[data-v-616f6bba]{border:1px solid #e2d6d6;height:100%;width:420px;margin:auto}.msg_content .msg_content_header[data-v-616f6bba]{width:100%}.msg_content .msg_content_body[data-v-616f6bba]{background:#fff;border:1px solid #e9e9e9;border-radius:4px;margin:auto;padding:16px 13px;font-size:14px;color:#333;line-height:24px;margin:20px}.detailBox[data-v-616f6bba]{display:-webkit-box;display:-ms-flexbox;display:flex;border:1px solid #e9e9e9;height:552px}.detailBox-left[data-v-616f6bba]{width:478px;border-right:1px solid #e9e9e9;float:left}.detailBox-right[data-v-616f6bba]{padding:16px;position:relative;float:left}.preview-img[data-v-616f6bba]{width:328px;height:55px}.gzh-name[data-v-616f6bba]{position:absolute;z-index:2;left:0;margin:0 auto;right:0;text-align:center;top:77px;color:#1a1a1a}.right-content[data-v-616f6bba]{height:426px;width:328px;background:#f9f9f9;border:1px solid #e9e9e9;padding:20px;overflow:auto}.left-one[data-v-616f6bba]{height:326px;border-bottom:1px solid #e9e9e9;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.left-one[data-v-616f6bba],.left-one .one-img[data-v-616f6bba]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.left-one .one-img[data-v-616f6bba]{height:160px;width:160px;padding:10px;border:1px solid #e9e9e9;position:relative}.left-one .one-img img[data-v-616f6bba]{width:150px;height:150px}.left-one .one-name[data-v-616f6bba]{font-size:16px;margin-top:16px;color:#1a1a1a;margin-bottom:0}.left-one .one-date[data-v-616f6bba]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:12px;font-size:14px;color:#f60;margin-bottom:0}.left-one .one-btn[data-v-616f6bba]{margin-top:16px;width:160px;height:32px}.left-two[data-v-616f6bba]{height:126px;padding:24px 16px;border-bottom:1px solid #e9e9e9}.left-two .two-title[data-v-616f6bba]{color:#1a1a1a;font-size:14px}.left-two .tags-list[data-v-616f6bba]{margin-top:16px}.left-three[data-v-616f6bba]{height:98px;padding:16px}.msg_content_txt[data-v-616f6bba]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:0 16px;border-radius:4px;font-size:14px;line-height:21px;color:#1a1a1a;background:#fff;resize:none;float:left;word-break:break-all}[data-v-616f6bba] .ant-card-meta-avatar{float:right;padding-right:0}.audio[data-v-616f6bba]{width:83%;height:150px;padding:50px 20px;background:#fff;float:left}.box[data-v-616f6bba]{float:right;width:46px;height:46px;border-radius:50%;position:relative;border:2px solid #1890ff}.box[data-v-616f6bba],.wifi-symbol[data-v-616f6bba]{-webkit-box-sizing:border-box;box-sizing:border-box}.wifi-symbol[data-v-616f6bba]{width:30px;height:30px;overflow:hidden;-webkit-transform:rotate(135deg);transform:rotate(135deg);position:absolute;left:13px;top:6px}.wifi-circle[data-v-616f6bba]{border:2px solid #1890ff;border-radius:50%;position:absolute}.first[data-v-616f6bba]{width:5px;height:5px;background:#1890ff;top:25px;left:25px}.second[data-v-616f6bba]{width:25px;height:25px;top:15px;left:15px}.third[data-v-616f6bba]{width:40px;height:40px;top:5px;left:5px}.second1[data-v-616f6bba]{width:25px;height:25px;top:15px;left:15px;-webkit-animation:fadeInOut-data-v-616f6bba 1s .2s infinite;animation:fadeInOut-data-v-616f6bba 1s .2s infinite}.third1[data-v-616f6bba]{width:40px;height:40px;top:5px;left:5px;-webkit-animation:fadeInOut-data-v-616f6bba 1s .4s infinite;animation:fadeInOut-data-v-616f6bba 1s .4s infinite}@-webkit-keyframes fadeInOut-data-v-616f6bba{0%{opacity:0}to{opacity:1}}@keyframes fadeInOut-data-v-616f6bba{0%{opacity:0}to{opacity:1}}[data-v-616f6bba] .inputTitle{height:30px;line-height:30px;background:#0f0f0f;opacity:.3;color:#fff;padding:0 10px;margin-top:-30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-616f6bba] .inputTitle p{display:inline-block}[data-v-616f6bba] .inputTitle2{background:#fff;height:104px;padding:20px}[data-v-616f6bba] .inputTitle2 p{display:inline-block;word-break:break-word;width:calc(100% - 74px);text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;float:left}[data-v-616f6bba] .dark-row{background:#fafafa}[data-v-616f6bba] .light-row{background:#fff}.scene-title[data-v-616f6bba]{font-size:16px;vertical-align:top}.wx-info[data-v-616f6bba]{width:100%;position:absolute;left:0;top:100px;bottom:0;overflow:hidden}.wx-info[data-v-616f6bba]::-webkit-scrollbar{width:2px;height:100%}.wx-info[data-v-616f6bba]::-webkit-scrollbar-track-piece{background-color:#fff}.wx-info[data-v-616f6bba]::-webkit-scrollbar-thumb{background:#fff}.help[data-v-616f6bba]{display:inline-block;margin-left:18px}.help-icon[data-v-616f6bba]{margin-right:5px;font-size:14px;margin-top:4px}.help-transition[data-v-616f6bba]{-webkit-animation:help-data-v-616f6bba 1s infinite;animation:help-data-v-616f6bba 1s infinite}.help a[data-v-616f6bba]{font-size:14px}.help a[data-v-616f6bba]:link,.help a[data-v-616f6bba]:visited{color:#1890ff;text-decoration:none}.help-transition1[data-v-616f6bba]{-webkit-animation:help1-data-v-616f6bba 1s infinite;animation:help1-data-v-616f6bba 1s infinite}@-webkit-keyframes help-data-v-616f6bba{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@keyframes help-data-v-616f6bba{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@-webkit-keyframes help1-data-v-616f6bba{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes help1-data-v-616f6bba{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}[data-v-616f6bba] .ant-tag{margin:4px;height:24px;line-height:23px}.detailMask[data-v-616f6bba]{position:absolute;width:160px;height:160px;background:hsla(0,0%,98%,.85);top:22px}",""])},"83a8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{title:"选择公众号",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",{staticStyle:{height:"270px"}},[t.wxInfo[0]?a("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.wxInfo,(function(e){return["unauthorized"!=e.authorizer_type&&"已认证"==e.verify_type?a("a-select-option",{attrs:{value:e.wx_id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.nick_name)+"\n\t\t\t\t\t")]):t._e()]}))],2):t._e(),a("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.wxInfo,(function(e,i){return["scene"!=t.routeName&&"template"!=t.routeName?["unauthorized"!=e.authorizer_type&&"已认证"==e.verify_type?a("a-radio-group",{on:{change:function(a){return t.changeWx2(e.wx_id,e.nick_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[a("a-radio-button",{attrs:{value:e.wx_id}},[a("div",[a("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),a("span",{staticClass:"text"},[t._v(t._s(e.nick_name))])],1),t.material_type?a("div",{staticStyle:{"font-size":"10px","line-height":"20px","margin-top":"5px"}},[a("span",[t._v("最后时间：")]),t._v(t._s(e.pull_time||"暂无")+"\n\t\t\t\t\t\t\t")]):t._e()])],1):t._e()]:t._e(),"scene"==t.routeName||"template"==t.routeName?["unauthorized"!=e.authorizer_type&&2==e.service_type?a("a-radio-group",{on:{change:function(a){return t.changeWx2(e.wx_id,e.nick_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[a("a-radio-button",{attrs:{value:e.wx_id}},[a("div",[a("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),a("span",{staticClass:"text"},[t._v(t._s(e.nick_name))])],1)])],1):t._e()]:t._e()]}))],2)],1)])],1)},s=[],n=(a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("28a5"),a("96cf"),a("3b8d")),o=a("bc3a"),r=a.n(o),l=a("f64c"),c={name:"wxModal",props:{material_type:{type:String,default:""},show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},source:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("wxNum")?localStorage.getItem("wxNum"):"";return{showModal:!1,wxInfo:[],changeBackground:t,wxNum:t,authorizer_type:"",wxNickName:this.$store.state.wxNickName,routeName:""}},methods:{handleOk:function(t,e){2==localStorage.getItem("isMasterAccount")?this.getPermissionButton():(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName))},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){var e=this;this.wxInfo.map((function(a){t==a.wx_id&&(e.wxNickName=a.nick_name)})),this.wxNum=t},changeWx2:function(t,e){this.wxNum=t,this.wxNickName=e},getPermissionButton:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.wxNum,type:""!=this.type?this.type:localStorage.getItem("type"),source:this.source,corp_id:2==this.type?this.corpId1:"",wx_id:2==this.type?this.wxNum:""});case 2:if(e=t.sent,a=e.data,0!=a.error){t.next=33;break}if(!(a.data.length>0)){t.next=30;break}if(""==this.hasName){t.next=25;break}if(i=this.hasName.split(","),s=!0,!(i.length>0)){t.next=22;break}n=0;case 11:if(!(n<i.length)){t.next=19;break}if(-1!=a.data.indexOf(i[n])){t.next=16;break}return l["a"].error("该公众号未配置相关功能权限，无法选择"),s=!1,t.abrupt("return",!1);case 16:n++,t.next=11;break;case 19:s&&(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName)),t.next=23;break;case 22:-1==a.data.indexOf(this.hasName)?l["a"].error("该公众号未配置相关功能权限，无法选择"):(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName));case 23:t.next=28;break;case 25:this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName);case 28:t.next=31;break;case 30:l["a"].error("无权限");case 31:t.next=34;break;case 33:l["a"].error("获取权限按钮列表失败！");case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getWx:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,o,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=0,"/filingCabinet/list"==this.$route.path&&(e=1),t.next=4,r.a.post("wx-authorize-info/get-authrize-info",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),material_type:this.material_type,is_from_content:e});case 4:a=t.sent,i=a.data,this.wxInfo=i.data.info,s=!0,n=!1,o=void 0,t.prev=10,l=this.wxInfo[Symbol.iterator]();case 12:if(s=(c=l.next()).done){t.next=21;break}if(d=c.value,"已认证"!=d.verify_type){t.next=18;break}return this.wxNum=d.wx_id,this.changeBackground=d.wx_id,t.abrupt("return",!1);case 18:s=!0,t.next=12;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](10),n=!0,o=t.t0;case 27:t.prev=27,t.prev=28,s||null==l.return||l.return();case 30:if(t.prev=30,!n){t.next=33;break}throw o;case 33:return t.finish(30);case 34:return t.finish(27);case 35:case"end":return t.stop()}}),t,this,[[10,23,27,35],[28,,30,34]])})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("wxNum"),this.material_type?this.getWx():this.$store.dispatch("getWx",(function(t){e.wxInfo=t,e.wxNum=e.$store.state.wxNum,!e.changeBackground&&e.wxInfo.length>0&&(e.changeBackground=e.$store.state.wxNum,e.wxNum=e.$store.state.wxNum,e.wxNickName=e.$store.state.wxNickName)})),this.routeName=this.$route.name}},created:function(){}},d=c,p=(a("adcd"),a("2877")),h=Object(p["a"])(d,i,s,!1,null,"2bf4494e",null);e["a"]=h.exports},"8bb4":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-2bf4494e] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-2bf4494e] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-2bf4494e]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-2bf4494e] .ant-radio-group{vertical-align:top}",""])},"97b7":function(t,e,a){"use strict";var i=a("7111"),s=a.n(i);s.a},"9fe5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[t.wxLen>1?i("a-layout-sider",[i("div",{staticClass:"sider-one"},[i("div",{staticClass:"sider-one-txt"},[t._v("选择公众号")]),t.wxInfo[0]?i("a-select",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.wxInfo,(function(e){return[i("a-select-option",{attrs:{value:e.wx_id}},[t._v(t._s(e.nick_name))])]}))],2):t._e(),i("div",{ref:"wxInfo",staticClass:"wx-info",on:{mousemove:t.wxInfoMouseOver,mouseout:t.wxInfoMouseOut}},[t._l(t.wxInfo,(function(e,a){return[i("div",{staticClass:"selectWx",class:{active:t.changeBackground==e.wx_id},on:{click:function(a){return t.selectWx(e.wx_id,e.authorizer_type,e.nick_name,e.verify_type,e.service_type)}}},[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",float:"right",width:"calc(100% - 35px)"}},[t._v(t._s(e.nick_name))])],1)]}))],2)],1)]):t._e(),i("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"},style:t.wxLen>1?{left:"250px"}:{left:"0px"}},[i("a-layout-header",[i("label",{staticClass:"scene-title"},[t._v("渠道二维码")]),i("span",{staticStyle:{"margin-left":"10px","font-size":"14px",color:"#686868"}},[t._v("仅认证服务号可用")]),i("div",{staticClass:"help",class:0==t.showTransition?"help-transition":1==t.showTransition?"help-transition1":""},[i("a",{attrs:{href:"https://support.qq.com/products/104790/faqs/57054",target:"_blank"}},[i("a-icon",{staticClass:"help-icon",attrs:{type:"question-circle"}}),i("span",{staticStyle:{float:"right"}},[t._v("点我帮助")])],1)])]),i("a-layout-content",[i("div",{staticClass:"content-msg"},[t._v("\n\t\t\t\t\t\t\t渠道二维码主要应用于海报、图文、网页、传单、实体包装等渠道中，粉丝通过扫码关注后，收到相应渠道的专属回复内容，并自动为粉丝贴上标签。同时，可统计出不同渠道的扫码次数、新关注人数、取关数等数据，帮助企业分析渠道质量，查看推广效果，优化推广方案，节约推广成本。\n\t\t\t\t\t\t\t"),i("div",[i("div",[t._v("1、永久二维码最多创建 10万个，永不过期。若不够用，可以修改之前的二维码；")]),i("div",[t._v("2、 临时二维码没有创建数量的限制；最短和最长的有效期是1分钟和30天（本系统暂只支持30天）；")]),i("div",[t._v("3、建议长期的推广渠道使用永久二维码，活动型的需求使用临时二维码。")]),i("div",{staticStyle:{color:"#F56C6C"}},[t._v("\n\t\t\t\t\t\t\t\t\t4、每创建一个渠道二维码，该码则自动进入【内容引擎】--【图片类型】--分组【渠道码-公众号】，以素材的方式通过聊天侧边栏快速发送给客户。\n\t\t\t\t\t\t\t\t")])])]),i("div",{staticClass:"content-hd"},[i("a-col",{staticStyle:{float:"left"}},[i("a-input-search",{staticStyle:{width:"180px","margin-right":"15px"},attrs:{placeholder:"搜索二维码名称"},on:{search:t.onSearch},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("a-select",{staticStyle:{width:"174px","margin-right":"15px"},on:{change:t.changeErweima},model:{value:t.erweimaTimeValue,callback:function(e){t.erweimaTimeValue=e},expression:"erweimaTimeValue"}},[i("a-select-option",{attrs:{value:"0"}},[t._v("全部二维码")]),i("a-select-option",{attrs:{value:"1"}},[t._v("永久二维码")]),i("a-select-option",{attrs:{value:"2"}},[t._v("临时二维码")])],1),i("a-select",{staticStyle:{width:"174px","margin-right":"15px"},on:{change:t.changeErweimaState},model:{value:t.erweimaValue,callback:function(e){t.erweimaValue=e},expression:"erweimaValue"}},[i("a-select-option",{attrs:{value:"1"}},[t._v("已过期")]),i("a-select-option",{attrs:{value:"2"}},[t._v("可用")])],1),i("a-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("查找")]),i("a-button",{on:{click:t.clear}},[t._v("清空")])],1),i("a-col",{staticStyle:{float:"right"}},["unauthorized"!=t.$store.state.authorizer_type&&t.verify_service?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-add",expression:"'code-add'"}],staticStyle:{width:"150px","font-size":"14px"},attrs:{type:"primary",icon:"plus"},on:{click:t.add}},[t._v("\n\t\t\t\t\t\t\t\t\t新建二维码\n\t\t\t\t\t\t\t\t")]):t._e(),"unauthorized"==t.$store.state.authorizer_type?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-add",expression:"'code-add'"}],staticStyle:{width:"150px","font-size":"14px"},attrs:{type:"primary",icon:"plus"},on:{click:t.showConfirmWx}},[t._v("\n\t\t\t\t\t\t\t\t\t新建二维码\n\t\t\t\t\t\t\t\t")]):t._e(),"unauthorized"==t.$store.state.authorizer_type||t.verify_service?t._e():i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-add",expression:"'code-add'"}],staticStyle:{width:"150px","font-size":"14px"},attrs:{type:"primary",icon:"plus"},on:{click:t.showVerify}},[t._v("\n\t\t\t\t\t\t\t\t\t新建二维码\n\t\t\t\t\t\t\t\t")])],1)],1),i("wxModal",{attrs:{show:t.showModal2,callback:t.modalVisibleChange,hasName:"code-add"}}),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:"code-list",expression:"'code-list'"}],attrs:{columns:t.columns,dataSource:t.sceneList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"status",fn:function(e,a,s){return i("span",{},[i("a-switch",{attrs:{checked:1==e},on:{click:function(i){return t.changeStatus(a.id,e)}}})],1)}},{key:"tag_name",fn:function(e){return i("span",{},[i("span",{directives:[{name:"show",rawName:"v-show",value:0==e.length,expression:"tag_name.length == 0"}]},[t._v("--")]),t._l(e,(function(a){return i("a-tag",{directives:[{name:"show",rawName:"v-show",value:0!=e.length,expression:"tag_name.length != 0"}],key:a.id,attrs:{color:"blue"}},[t._v(t._s(a.name))])}))],2)}},{key:"action",fn:function(e,a,s){return i("span",{},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-info",expression:"'code-info'"}],staticStyle:{"margin-right":"5px","margin-bottom":"5px"},on:{click:function(e){return t.detail(a.id)}}},[t._v("详情")]),"unauthorized"!=t.$store.state.authorizer_type?i("a-button",{directives:[{name:"show",rawName:"v-show",value:0==a.is_overdue,expression:"record.is_overdue==0"},{name:"has",rawName:"v-has",value:"code-edit",expression:"'code-edit'"}],staticStyle:{"margin-right":"5px","margin-bottom":"5px"},on:{click:function(e){return t.edit(a.id)}}},[t._v("编辑\n                    ")]):t._e(),"unauthorized"==t.$store.state.authorizer_type?i("a-button",{directives:[{name:"show",rawName:"v-show",value:0==a.is_overdue,expression:"record.is_overdue==0"},{name:"has",rawName:"v-has",value:"code-edit",expression:"'code-edit'"}],staticStyle:{"margin-right":"5px","margin-bottom":"5px"},on:{click:t.showConfirmWx}},[t._v("编辑\n                    ")]):t._e(),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-statistic",expression:"'code-statistic'"}],staticStyle:{"margin-right":"5px","margin-bottom":"5px"},on:{click:function(e){return t.statistics(a.id)}}},[t._v("统计")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"code-user",expression:"'code-user'"}],staticStyle:{"margin-right":"5px","margin-bottom":"5px"},on:{click:function(e){return t.users(a.id)}}},[t._v("用户")])],1)}}])},[i("span",{attrs:{slot:"customerTitle"},slot:"customerTitle"},[t._v("\n\t\t\t\t\t\t                  累计扫描次数\n\t\t\t\t\t\t                  "),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t                    扫过此渠道码的次数（可能同一人扫多次，每扫一次，扫码总次数+1）\n\t\t\t\t\t\t\t                    ")]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"customerTitle2"},slot:"customerTitle2"},[t._v("\n\t\t\t\t\t\t                  累计关注人数\n\t\t\t\t\t\t                  "),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t                    通过扫该渠道码后关注的人数。（可能同一人扫该码，再取关，再扫该码，累计值只计入1人）\n\t\t\t\t\t\t\t                    ")]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"customerTitle3"},slot:"customerTitle3"},[t._v("\n\t\t\t\t\t\t                  累计取关人数\n\t\t\t\t\t\t                  "),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t                    通过扫渠道码关注后又取关的人数。（可能同一人扫该码关注，再取关，再扫该码，累计值只计入1人）\n\t\t\t\t\t\t\t                    ")]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"code-list",expression:"'code-list'"}],staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t共有\n\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条消息\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1),i("a-modal",{attrs:{title:"渠道二维码详情",width:"888"},model:{value:t.detailVisible,callback:function(e){t.detailVisible=e},expression:"detailVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.handleCancel}},[t._v("关闭")])],1),i("div",{staticClass:"detailBox"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading2}},[i("div",{staticClass:"detailBox-left"},[i("div",{staticClass:"left-one"},[i("div",{staticClass:"one-img"},[i("div",{ref:"a",attrs:{id:"qrcode"}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:"已到期"==t.expire_time,expression:"expire_time == '已到期'"}],staticClass:"detailMask"},[i("div",{staticStyle:{width:"30px",height:"30px","border-radius":"15px",margin:"50px auto 10px",background:"#FFF"}},[i("img",{staticStyle:{width:"30px"},attrs:{src:a("73f5"),alt:""}})]),i("div",{staticStyle:{"text-align":"center",color:"#000"}},[t._v("二维码已过期")])]),i("p",{staticClass:"one-name"},[t._v(t._s(t.erweimaTitle))]),"永久有效"==t.expire_time&&"已到期"!=t.expire_time?i("p",{staticClass:"one-date"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.expire_time))]):t._e(),"永久有效"!=t.expire_time&&"已到期"!=t.expire_time?i("p",{staticClass:"one-date"},[t._v("该二维码将于\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.expire_time)+" 过期")]):t._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:"已到期"==t.expire_time,expression:"expire_time == '已到期'"}],staticClass:"one-date"},[t._v("该二维码已过期")]),i("a-button",{directives:[{name:"show",rawName:"v-show",value:"已到期"!=t.expire_time,expression:"expire_time != '已到期'"}],staticClass:"one-btn",attrs:{type:"primary"},on:{click:t.downLoad}},[t._v("下载渠道二维码\n\t\t\t\t\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"show",rawName:"v-show",value:"已到期"==t.expire_time,expression:"expire_time == '已到期'"}],staticClass:"one-btn",attrs:{type:"primary",disabled:""}},[t._v("下载渠道二维码\n\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"left-two"},[i("p",{staticClass:"two-title"},[t._v("粉丝标签：")]),i("div",{staticClass:"tags-list"},t._l(t.tagName,(function(e){return i("a-tag",{attrs:{color:"blue"}},[t._v(t._s(e))])})),1)]),i("div",{staticClass:"left-three"},[i("p",{staticStyle:{float:"left"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t美化二维码\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[t._v("可将链接复制到二维码美化工具（如https://mh.cli.im/），生成您喜欢的二维码样式")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t：\n\t\t\t\t\t\t\t\t\t\t\t")],1),i("div",{staticStyle:{color:"#FF6600",float:"left"}},[t._v("不可单独复制此链接在微信或浏览器中打开")]),i("div",{staticClass:"three-input"},[i("a-input",{staticStyle:{width:"377px","border-radius":"0"},attrs:{disabled:""},model:{value:t.inputUrl,callback:function(e){t.inputUrl=e},expression:"inputUrl"}}),i("a-button",{directives:[{name:"show",rawName:"v-show",value:"已到期"!=t.expire_time,expression:"expire_time != '已到期'"}],staticStyle:{"margin-top":"1px","border-radius":"0"},attrs:{type:"primary"},on:{click:t.copyUrl}},[t._v("复制\n\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"show",rawName:"v-show",value:"已到期"==t.expire_time,expression:"expire_time == '已到期'"}],staticStyle:{"margin-top":"1px","border-radius":"0"},attrs:{type:"primary",disabled:""}},[t._v("复制\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1)])]),i("div",{staticClass:"detailBox-right"},[i("p",{staticStyle:{color:"#FF6600"}},[t._v("推送方式："+t._s(1==t.pushType?"随机推送一条":"全部推送"))]),i("img",{staticClass:"preview-img",attrs:{src:"http://s.weituibao.com/static/1558341456351/qrcodedeyulan.png",alt:""}}),i("p",{staticClass:"gzh-name"},[t._v(t._s(t.wxName))]),i("div",{staticClass:"right-content"},t._l(t.replyList,(function(e,a){return i("div",{staticStyle:{"margin-bottom":"15px",overflow:"hidden"}},[i("a-avatar",{staticStyle:{"margin-right":"10px",float:"left"},attrs:{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",size:36}}),1==e.type?[i("span",{staticClass:"item-info msg_content_txt",domProps:{innerHTML:t._s(e.content)}})]:t._e(),2==e.type?[i("img",{staticStyle:{width:"150px","border-radius":"4px","object-fit":"cover"},attrs:{src:t.commonUrl+e.cover_url,alt:""}})]:t._e(),3==e.type?[i("div",{staticClass:"audio"},[i("div",{staticStyle:{float:"left","font-size":"16px"}},[t._v(t._s(e.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"box"},[i("div",{staticClass:"wifi-symbol"},[i("div",{staticClass:"wifi-circle first"}),i("div",{staticClass:"wifi-circle second"}),i("div",{staticClass:"wifi-circle third"})])])])]:t._e(),4==e.type?[i("a-card",{staticStyle:{width:"83%",float:"left"},attrs:{hoverable:""}},[i("video-player",{ref:"videoPlayer",refInFor:!0,staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}}),i("a-card-meta",{staticStyle:{height:"50px","line-height":"50px","text-align":"center"},attrs:{title:e.file_name}})],1)]:t._e(),5==e.type?[i("a-card",{staticStyle:{float:"left",width:"calc(100% - 46px)"},attrs:{hoverable:""}},[i("div",{staticStyle:{border:"1px solid #E8E8E8"}},[i("img",{staticStyle:{height:"145px",width:"100%","object-fit":"cover"},attrs:{src:e.content[0].cover_url}}),i("div",{staticClass:"inputTitle",domProps:{innerHTML:t._s(e.content[0].title)}}),t._l(e.content.slice(1),(function(a,s){return[i("div",{staticClass:"inputTitle2"},[i("p",{domProps:{innerHTML:t._s(e.content[s+1].title)}}),i("img",{staticStyle:{width:"64px",height:"64px",float:"right","object-fit":"cover"},attrs:{src:e.content[s+1].cover_url,alt:""}})])]}))],2)])]:t._e()],2)})),0)])])],1)],2),i("a-modal",{attrs:{title:"扫码用户",footer:null},model:{value:t.usersVisible,callback:function(e){t.usersVisible=e},expression:"usersVisible"}},[i("p",{staticStyle:{color:"red"}},[t._v("显示当前通过该渠道二维码关注的新粉丝 和 扫该渠道二维码前，通过其他渠道已关注的老粉丝")]),i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading3}},[i("a-table",{attrs:{columns:t.columns2,dataSource:t.usersList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"is_new",fn:function(e,a,s){return i("span",{},[0==a.is_new?[t._v("老粉丝")]:t._e(),1==a.is_new?[t._v("新粉丝")]:t._e()],2)}}])}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total2>0,expression:"total2 > 0"}],staticStyle:{width:"100%",height:"32px","margin-top":"20px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t共有\n\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total2))]),t._v("个用户\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total2,showSizeChanger:"",showQuickJumper:t.quickJumper2,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage2,showSizeChange:t.showSizeChange2}})],1)])],1)],1)],1)],1)],1)],1)])},s=[],n=(a("a481"),a("96cf"),a("3b8d")),o=a("83a8"),r=a("d044"),l=a.n(r),c=a("d6d3"),d=(a("fda2"),[{title:"二维码名称",dataIndex:"title",width:"180px",key:"title"},{dataIndex:"scan_times",key:"scan_times",slots:{title:"customerTitle"}},{dataIndex:"subscribe",key:"subscribe",slots:{title:"customerTitle2"}},{dataIndex:"unsubscribe",key:"unsubscribe",slots:{title:"customerTitle3"}},{title:"创建时间",dataIndex:"create_time",key:"create_time"},{title:"到期时间",dataIndex:"expire_time",key:"expire_time"},{title:"粉丝标签",dataIndex:"tag_name",key:"tag_name",scopedSlots:{customRender:"tag_name"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}]),p=[{title:"粉丝",dataIndex:"nickname",key:"nickname"},{title:"类型",dataIndex:"is_new",key:"is_new",scopedSlots:{customRender:"is_new"}},{title:"扫码时间",dataIndex:"scan_time",key:"scan_time"}],h={name:"sceneList",components:{wxModal:o["a"],videoPlayer:c["videoPlayer"]},data:function(){var t=localStorage.getItem("wxNum")?localStorage.getItem("wxNum"):"";return{showTransition:1,isLoading:!1,wxLen:JSON.parse(localStorage.getItem("wxArr")).length,wxInfo:[],changeBackground:t,columns:d,showModal2:!1,wxNum:t,page:1,pageSize:15,total:0,quickJumper:!1,sceneList:[],author_id:"",title:"",type:0,status:0,detailVisible:!1,erweimaTitle:"",expire_time:"",tagName:[],inputUrl:"",pushType:"",wxName:"",replyList:[],commonUrl:this.$store.state.commonUrl,isLoading2:!1,show:1,usersVisible:!1,usersList:[],page2:1,pageSize2:15,total2:0,quickJumper2:!1,columns2:p,isLoading3:!1,usersId:"",isPlayMusic:!0,isPlayMusic2:!1,playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},verify_service:!1,erweimaTimeValue:"全部二维码",erweimaValue:"二维码状态"}},mounted:function(){this.initHelp()},methods:{initHelp:function(){var t=this;setInterval((function(){t.showTransition=(t.showTransition+1)%5}),1e3)},wxInfoMouseOver:function(){this.$refs.wxInfo.style.overflowY="auto"},wxInfoMouseOut:function(){this.$refs.wxInfo.style.overflowY="hidden"},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},handleChange:function(t){var e=this;this.verify_service=!1,this.wxInfo.map((function(a){t==a.wx_id&&(e.$store.commit("changeAuthorizerType",a.authorizer_type),e.$store.commit("changeWxNickName",a.nick_name),"已认证"==a.verify_type&&2==a.service_type&&(e.verify_service=!0))})),this.$store.dispatch("changeWxNum",t),this.isLoading=!0,this.changeBackground=t,this.wxNum=t,this.getScene(),2==localStorage.getItem("isMasterAccount")&&this.$store.dispatch("getPermissionButton")},selectWx:function(t,e,a,i,s){this.verify_service=!1,this.$store.dispatch("changeWxNum",t),this.isLoading=!0,this.changeBackground=t,this.wxNum=t,"已认证"==i&&2==s&&(this.verify_service=!0),this.$store.commit("changeAuthorizerType",e),this.$store.commit("changeWxNickName",a),this.getScene(),2==localStorage.getItem("isMasterAccount")&&this.$store.dispatch("getPermissionButton")},showConfirmWx:function(){this.$success({title:this.$store.state.wxNickName+"已取消授权，无法操作"})},showVerify:function(){this.$success({title:"仅针对认证的服务号开放使用"})},onSearch:function(t){this.title=t,this.getScene()},changeErweima:function(t){this.type=t},changeErweimaState:function(t){this.status=t},find:function(){this.isLoading=!0,this.getScene()},clear:function(){this.isLoading=!0,this.title="",this.type=0,this.status=0,this.erweimaValue="二维码状态",this.erweimaTimeValue="全部二维码",this.getScene()},getScene:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,this.wxInfo=this.$store.state.wxArr,t.next=6,this.axios.post("scene/list",{wx_id:localStorage.getItem("wxNum"),page:e,author_id:this.author_id,pageSize:a,title:this.title,type:this.type,status:this.status});case 6:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.isLoading=!1,this.sceneList=s.data.scene,this.total=parseInt(s.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeStatus:function(t,e){var a=this;1==e?a.$confirm({title:"一旦关闭后，渠道二维码扫码依然可以关注公众号号，且可继续根据用户设置打标签（分组），但仅收到【被关注回复】消息），确定关闭吗？",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.isLoading=!0,a.updateStatus(t,e)}}):a.$confirm({title:"一旦开启后，渠道二维码扫码关注，可根据用户设置打标签（分组），且接收新建的推送内容），确定开启吗？",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.isLoading=!0,a.updateStatus(t,e)}})},updateStatus:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=0,0==a&&(i=1),t.next=4,this.axios.post("scene/update-status",{scene_id:e,status:i});case 4:s=t.sent,n=s.data,0!=n.error?(this.isLoading=!1,this.$message.error(n.error_msg)):this.getScene();case 7:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),detail:function(t){this.detailVisible=!0,this.isLoading2=!0,this.getDetail(t),this.getQRcode(t,this.show=1)},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("scene/detail",{scene_id:e});case 2:if(a=t.sent,i=a.data,0!=i.error)this.$message.error(i.error_msg);else for(this.isLoading2=!1,this.erweimaTitle=i.data.title,this.expire_time=i.data.expire_time,this.tagName=i.data.tagName,this.inputUrl=i.data.url,this.replyList=i.data.replyList,this.pushType=i.data.push_type,this.wxName=i.data.nick_name,s=0;s<this.replyList.length;s++)if(1==this.replyList[s].type)this.replyList[s].content=this.replyList[s].content.replace(/{nickname}/g,'<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称</span>&nbsp;</span>').replace(/\n/g,"<br/>");else if(5==this.replyList[s].type)for(n=0;n<this.replyList[s].content.length;n++)this.replyList[s].content[n].title=this.replyList[s].content[n].title.replace(/{nickname}/g,'<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称</span>&nbsp;</span>').replace(/\n/g,"<br/>");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getQRcode:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("scene/down",{scene_id:e,show:this.show});case 2:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):(this.$refs.a.innerHTML="",this.qrcode(i.data.url));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),qrcode:function(t){new l.a("qrcode",{width:140,height:140,text:t,colorDark:"#000",colorLight:"#FFF"})},handleCancel:function(){this.detailVisible=!1},playMusic:function(){var t=this;this.isPlayMusic=!1,this.isPlayMusic2=!0,this.$nextTick((function(){t.$refs.audio[0].play();var e=setInterval((function(){t.$refs.audio[0].paused&&(clearInterval(e),t.isPlayMusic=!0,t.isPlayMusic2=!1)}),1e3)}))},downLoad:function(t){var e=t.target.parentNode.firstChild.getElementsByTagName("img")[0].src,a=document.createElement("a"),i=new MouseEvent("click");a.download="渠道二维码",a.href=e,a.dispatchEvent(i)},edit:function(t){this.$router.push({path:"/scene/add",query:{id:t}})},statistics:function(t){this.$router.push({path:"/scene/statistics",query:{id:t}})},users:function(t){this.usersVisible=!0,this.isLoading3=!0,this.usersId=t,this.getUsersInfo()},getUsersInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize2,t.next=4,this.axios.post("scene/user-detail",{scene_id:this.usersId,page:e,pageSize:a});case 4:i=t.sent,s=i.data,0!=s.error?(this.$message.error(s.error_msg),this.isLoading3=!1):(this.usersList=s.data.data,this.total2=parseInt(s.data.count),this.isLoading3=!1,this.page2=e,this.pageSize2=a,this.quickJumper2=this.total2>this.pageSize2);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.wxInfo.length>1?this.showModal2=!0:this.$router.push("/scene/add")},modalVisibleChange:function(t,e){"ok"==t?(this.showModal2=!1,this.$store.dispatch("changeWxNum",e),this.$router.push("/scene/add")):this.showModal2=!1},changePage:function(t,e){this.getScene(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,170)}))},showSizeChange:function(t,e){this.getScene(1,e)},changePage2:function(t,e){this.getUsersInfo(t,e)},showSizeChange2:function(t,e){this.getUsersInfo(1,e)},copyUrl:function(){var t=this.inputUrl,e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$message.success("复制成功")}},created:function(){var t=this;this.$store.dispatch("getWx",(function(e){t.wxInfo=e,!t.changeBackground&&t.wxInfo.length>0&&(t.changeBackground=t.$store.state.wxNum,t.wxNum=t.$store.state.wxNum),t.wxInfo.map((function(e){e.wx_id==t.changeBackground&&"已认证"==e.verify_type&&2==e.service_type&&(t.verify_service=!0)}))})),this.getScene()},beforeRouteEnter:function(t,e,a){"/scene/add"==e.path&&"undefined"!=typeof t.query.isRefresh&&"1"==t.query.isRefresh?a((function(t){t.getScene(t.page,t.pageSize)})):("/scene/add"==e.path&&"undefined"==typeof t.query.isRefresh||"/scene/add"!=e.path&&"/scene/statistics"!=e.path)&&a((function(t){t.isLoading=!0,t.title="",t.type=0,t.status=0,t.erweimaValue="二维码状态",t.erweimaTimeValue="全部二维码",t.page=1,t.pageSize=15,t.page2=1,t.pageSize2=15,t.getScene()})),a()}},u=h,f=(a("97b7"),a("2877")),m=Object(f["a"])(u,i,s,!1,null,"616f6bba",null);e["default"]=m.exports},abd9:function(t,e,a){var i=a("8bb4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("13e4dda0",i,!0,{sourceMap:!1,shadowMode:!1})},adcd:function(t,e,a){"use strict";var i=a("abd9"),s=a.n(i);s.a}}]);