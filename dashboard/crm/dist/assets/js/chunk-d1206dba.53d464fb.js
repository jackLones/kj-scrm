(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1206dba"],{"2c12":function(t,a,e){"use strict";var s=e("b413"),n=e.n(s);n.a},8122:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"scroll",staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[e("div",[e("a-card",{staticStyle:{padding:"0 20px","line-height":"50px","border-bottom":"1px solid #E2E2E2",height:"50px","min-width":"760px",width:"100%","margin-bottom":"12px"}},[e("label",{staticClass:"tpl-title"},[t._v("签名管理")])]),e("a-row",{staticStyle:{"margin-bottom":"20px",padding:"0 20px"}},[e("a-col",{staticStyle:{float:"left"}},[e("a-input",{staticStyle:{width:"350px","margin-right":"15px"},attrs:{placeholder:"请填写公司名称/产品名/品牌名/网站名，2-8个字符",maxLength:8},model:{value:t.searchInput,callback:function(a){t.searchInput=a},expression:"searchInput"}}),e("a-button",{directives:[{name:"has",rawName:"v-has",value:"sign-add",expression:"'sign-add'"}],staticStyle:{"margin-right":"15px"},attrs:{type:"primary"},on:{click:t.addSign}},[t._v("申请")]),e("a-button",{staticStyle:{"margin-right":"15px"},on:{click:t.clear}},[t._v("清空")])],1)],1),e("div",{staticClass:"content-bd"},[e("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[e("div",{staticClass:"spin-content"},[e("a-table",{directives:[{name:"has",rawName:"v-has",value:"sign-list",expression:"'sign-list'"}],attrs:{columns:t.columns,dataSource:t.accountList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"status",fn:function(a,s,n){return[0==s.status?e("span",[t._v("待审核")]):t._e(),1==s.status?e("span",[t._v("已通过")]):t._e(),e("a-tooltip",[e("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(s.error_msg)+"\n\t\t\t\t\t\t\t\t")]),2==s.status?e("span",{staticStyle:{color:"red"}},[t._v("未通过")]):t._e()],2)]}},{key:"action",fn:function(a,s,n){return[1!=s.status?e("a-button",{directives:[{name:"has",rawName:"v-has",value:"sign-delete",expression:"'sign-delete'"}],on:{click:function(a){return t.deleteList(s.id)}}},[t._v("删除")]):t._e(),1==s.status?e("span",[t._v("--")]):t._e()]}}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"sign-list",expression:"'sign-list'"}],staticClass:"pagination",staticStyle:{margin:"20px auto",height:"32px"}},[e("span",{staticStyle:{float:"left","margin-left":"20px"}},[t._v("共"+t._s(t.total)+"条")]),e("a-pagination",{staticStyle:{float:"right"},attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.page_size,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)],1)])],1)],1)])},n=[],i=(e("96cf"),e("3b8d")),r=[{title:"申请时间",dataIndex:"apply_time",width:"15%",key:"apply_time"},{title:"签名",dataIndex:"title",width:"8%",key:"title"},{title:"审核状态",dataIndex:"status",width:"10%",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",width:"10%",key:"action",scopedSlots:{customRender:"action"}}],o={data:function(){return{showTransition:1,accountList:[],flag:!1,searchInput:"",isLoading:!0,commonUrl:this.$store.state.commonUrl,showWxModal:!1,columns:r,page:1,page_size:15,total:0,quickJumper:!1}},mounted:function(){this.initHelp()},methods:{rowClassName:function(t,a){var e="dark-row";return a%2===0&&(e="light-row"),e},initHelp:function(){var t=this;setInterval((function(){t.showTransition=(t.showTransition+1)%5}),1e3)},getAccount:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e,s,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:1,e=i.length>1&&void 0!==i[1]?i[1]:this.page_size,t.next=4,this.axios.post("short-message/sign",{uid:localStorage.getItem("uid"),page:a,pageSize:e});case 4:s=t.sent,n=s.data,0!=n.error?(this.isLoading=!1,this.$message.error(n.message)):(this.accountList=n.data.sign,this.total=parseInt(n.data.count),this.page=a,this.page_size=e,this.quickJumper=this.total>this.page_size,this.isLoading=!1),0==this.accountList.length&&(this.flag=!0);case 8:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),addSign:function(){this.isLoading=!0,this.addSignPost()},clear:function(){this.searchInput=""},addSignPost:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.searchInput){t.next=4;break}return this.$message.error("请填写要申请的签名"),this.isLoading=!1,t.abrupt("return",!1);case 4:return t.next=6,this.axios.post("short-message/sign-add",{uid:localStorage.getItem("uid"),title:this.searchInput});case 6:a=t.sent,e=a.data,0!=e.error?(this.isLoading=!1,this.$message.error(e.error_msg)):(this.$message.success("添加成功"),this.searchInput="",this.getAccount());case 9:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),deleteList:function(t){var a=this;a.$confirm({title:"确定删除该记录?",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){a.isLoading=!0,a.delSign(t)}})},delSign:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("short-message/sign-delete",{sign_id:a});case 2:e=t.sent,s=e.data,console.log(s),0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):1==this.accountList.length&&this.page>1?this.getAccount(this.page-1,this.page_size):this.getAccount(this.page,this.page_size);case 6:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),changePage:function(t,a){this.getAccount(t,a),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange:function(t,a){this.getAccount(1,a)}},created:function(){this.getAccount()}},l=o,c=(e("2c12"),e("2877")),d=Object(c["a"])(l,s,n,!1,null,"959748d6",null);a["default"]=d.exports},b413:function(t,a,e){var s=e("c5cb");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=e("499e").default;n("79184f4a",s,!0,{sourceMap:!1,shadowMode:!1})},c5cb:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,"[data-v-959748d6] .ant-card-bordered{border:0}.tpl-title[data-v-959748d6]{float:left;font-size:16px;vertical-align:top}.help[data-v-959748d6]{float:left;margin-left:18px}.help-icon[data-v-959748d6]{margin-right:5px;font-size:14px;margin-top:4px}.help-transition[data-v-959748d6]{-webkit-animation:help-data-v-959748d6 1s infinite;animation:help-data-v-959748d6 1s infinite}.help a[data-v-959748d6]{font-size:14px}.help a[data-v-959748d6]:link,.help a[data-v-959748d6]:visited{color:#1890ff;text-decoration:none}.help-transition1[data-v-959748d6]{-webkit-animation:help1-data-v-959748d6 1s infinite;animation:help1-data-v-959748d6 1s infinite}@-webkit-keyframes help-data-v-959748d6{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@keyframes help-data-v-959748d6{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@-webkit-keyframes help1-data-v-959748d6{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes help1-data-v-959748d6{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}.content-bd[data-v-959748d6]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;margin:0 20px}[data-v-959748d6] .dark-row{background:#fafafa}[data-v-959748d6] .light-row{background:#fff}",""])}}]);