(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67603e5a"],{"0086":function(t,e,a){"use strict";var i=a("4061"),n=a.n(i);n.a},"2d3a":function(t,e,a){"use strict";var i=a("8e3c"),n=a.n(i);n.a},"3df0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share-set"},[a("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[a("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[a("a-layout-header",[t._v("分享明细")]),a("a-layout-content",[a("div",{staticStyle:{"margin-top":"20px"}},[a("span",{staticClass:"tabBtn",class:{activeBtn:1==t.tabKey},on:{click:function(e){return t.changeTab(1)}}},[t._v("聊天栏分享")]),t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabKey,expression:"tabKey == 1"}],staticStyle:{padding:"15px 20px",background:"#FFF"}},[a("div",{staticClass:"content-msg"},[a("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t1、下面包括浏览数、转化数、转化人数、销售额需要商城系统支持溯源，若正常可用，数据是会随时变化的。\n\t\t\t\t\t\t")]),a("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t2、对应H5素材，SCRM系统会有个短地址中转页面，浏览数为scrm的短地址打开数；小程序浏览数暂不支持。\n\t\t\t\t\t\t")]),a("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t3、下表中转化数指的形成下单，销售额为关联订总金额。具体的分享溯源、消费转化的机制，可点击这里"),a("a",{attrs:{href:"https://support.qq.com/products/312071/faqs/93258",target:"_blank"}},[t._v("查看详情")]),t._v("。\n\t\t\t\t\t\t")])]),a("div",{staticClass:"content-hd"},[a("div",{staticClass:"content-hd-box"},[a("div",{staticClass:"card-caledar"},[a("div",{staticClass:"day-picker-contain picker-contain"},[a("a-button",{class:"1"==t.timeType?"caledar-btn-selected":"",staticStyle:{"margin-left":"0"},on:{click:function(e){return t.changeTimeType(1)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t按日\n\t\t\t\t\t\t\t\t\t")]),"1"==t.timeType?a("a-range-picker",{staticStyle:{width:"270px"},attrs:{allowClear:!1,disabledDate:t.disabledDateDay,defaultValue:[t.moment(t.moment().subtract(8,"days").calendar(),"YYYY-MM-DD"),t.moment(t.moment().subtract(1,"days"),"YYYY-MM-DD")],format:"YYYY-MM-DD"},on:{change:t.changeTime},model:{value:t.dayDate,callback:function(e){t.dayDate=e},expression:"dayDate"}}):t._e()],1),a("div",{staticClass:"week-picker-contain picker-contain"},[a("a-button",{class:"2"==t.timeType?"caledar-btn-selected":"",on:{click:function(e){return t.changeTimeType(2)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t按周\n\t\t\t\t\t\t\t\t\t")]),"2"==t.timeType?a("a-week-picker",{attrs:{allowClear:!1,value:t.weekStart,disabledDate:t.disabledDateWeek},on:{change:t.changeWeek}}):t._e()],1),a("div",{staticClass:"month-picker-contain picker-contain"},[a("a-button",{class:"3"==t.timeType?"caledar-btn-selected":"",on:{click:function(e){return t.changeTimeType(3)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t按月\n\t\t\t\t\t\t\t\t\t")]),"3"==t.timeType?a("a-month-picker",{attrs:{format:"YYYY/MM","default-value":t.moment(t.now,"YYYY/MM"),"disabled-date":t.disabledDate},on:{change:function(e){return t.changeMonth(e)}}}):t._e()],1)]),a("span",{staticClass:"select-option"},[a("label",{staticStyle:{"margin-right":"5px",width:"max-content"}},[t._v("选择群：")]),a("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChatVisible}},[t.chooseNum>0?a("span",[t._v("已选择"+t._s(t.chooseNum)+"个群")]):a("span",[t._v("选择群聊")])])],1),a("span",{staticClass:"select-option"},[a("label",[t._v("选择导购：")]),a("a-input",{attrs:{placeholder:"导购姓名/手机号"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStaff(e)}},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}})],1),a("span",{staticClass:"select-option"},[a("label",[t._v("选择内容：")]),a("a-select",{attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.contentVal,callback:function(e){t.contentVal=e},expression:"contentVal"}},[a("a-select-option",{attrs:{value:-1}},[t._v("选择内容类型")]),t._l(t.contentArr,(function(e,i){return a("a-select-option",{key:i},[t._v(t._s(e))])}))],2)],1),a("span",{staticClass:"select-option"},[a("a-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:t.searchStaff}},[t._v("查找")]),a("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.reset}},[t._v("清空")])],1)]),a("div",{staticClass:"content-hd-list"},[a("a-tag",{attrs:{color:"cyan"}},[1==t.timeType?[a("span",[t._v("发送时间："+t._s(t.fansAddTime.ds_date)+"至"+t._s(t.fansAddTime.de_date))])]:t._e(),2==t.timeType?[a("span",[t._v("发送时间："+t._s(t.fansAddTime.ws_date)+"至"+t._s(t.fansAddTime.we_date))])]:t._e(),3==t.timeType?[a("span",[t._v("发送时间："+t._s(t.fansAddTime.ms_date)+"至"+t._s(t.fansAddTime.me_date))])]:t._e()],2),t.customName?a("a-tag",{attrs:{color:"red"}},[a("span",[t._v("导购："+t._s(t.customName))]),a("a-icon",{attrs:{type:"close-circle"},on:{click:function(e){return t.deleteTag("customName")}}})],1):t._e(),t.chooseNum>0?a("a-tag",{attrs:{color:"orange"}},[a("span",[t._v("已选择"+t._s(t.chooseNum)+"个群聊")]),a("a-icon",{attrs:{type:"close-circle"},on:{click:function(e){return t.deleteTag("chooseNum")}}})],1):t._e(),t.contentVal>-1?a("a-tag",{attrs:{color:"blue"}},[a("span",[t._v("选择内容："+t._s(t.contentArr[t.contentVal]))]),a("a-icon",{attrs:{type:"close-circle"},on:{click:function(e){return t.deleteTag("contentVal")}}})],1):t._e()],1),a("div",{staticClass:"table-num"},[t._v("共发送"),a("span",[t._v(t._s(t.totalData.send_count))]),t._v("次，转化订单数"),a("span",[t._v(t._s(t.totalData.order_num))]),t._v("次，转化率"),a("span",[t._v(t._s(t.totalData.rate)+"%")]),t._v("，转化人数"),a("span",[t._v(t._s(t.totalData.person_num))]),t._v("人，总销售额"),a("span",[t._v("¥"+t._s(t.totalData.account))])])]),a("div",{staticClass:"content-bd"},[a("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[a("a-table",{attrs:{columns:t.columns,dataSource:t.customList,pagination:!1},scopedSlots:t._u([{key:"content_img",fn:function(e,i){return a("div",{},[a("a",{on:{click:function(e){return t.showPhone(i)}}},[t._v("查看")])])}},{key:"sale_num",fn:function(e,i){return a("div",{},[a("router-link",{attrs:{to:"/shopCustom/CustomOrder?material_type="+i.material_type+"&share_id="+i.key}},[t._v("￥"+t._s(e))])],1)}}])}),a("div",{staticStyle:{padding:"0 15px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",overflow:"hidden"}},[a("div",{staticClass:"pagination",staticStyle:{display:"inline-block",height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])])],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabKey,expression:"tabKey == 2"}],staticStyle:{padding:"15px 20px",background:"#FFF"}},[a("div",{staticClass:"content-msg"},[a("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t1、会话相关的参数设置必须要依赖【会话存档】功能，未开启的情况下不可配置会话相关的参数。\n\t\t\t\t\t\t")])]),a("div",{staticClass:"content-hd"}),a("div",{staticClass:"content-bd"},[a("a-button",{attrs:{type:"primary"}},[t._v("保存")])],1)])])],1)],1),a("groupChat",{attrs:{corpId:t.corpId,show:t.chatVisible,chatArr:t.chatArr,callback:t.groupChatCallBack}}),a("a-drawer",{attrs:{title:"分享快照",placement:"right",destroyOnClose:!0,width:500,visible:t.phoneVisible},on:{close:t.cancelPhone}},[a("div",{staticClass:"phone-share"},[a("div",{staticClass:"avatar"},[a("a-avatar",{attrs:{size:50,src:"https://scrm.fastwhale.com.cn/assets/img/WeChatLogo.a0a99a1c.png"}})],1),1==t.phoneData.type?a("div",{staticClass:"share-content1"},[t._e(),a("div",{staticClass:"go-page"},[t._v(t._s(t.phoneData.ext_json.share_data.web.text.content))])]):t._e(),2==t.phoneData.type?a("div",{staticClass:"share-content2"},[a("div",{staticClass:"share-title"},[t._v("【"+t._s(t.phoneData.ext_json.weapp_name)+"】")]),a("div",{staticClass:"share-name"},[t._v(t._s(t.phoneData.ext_json.share_data.weapp.miniprogram.title))]),t.phoneData.ext_json.recommend_remark?a("div",{staticClass:"share-des"},[t._v(t._s(t.phoneData.ext_json.recommend_remark))]):t._e(),a("div",{staticClass:"share-img"},[1==t.phoneData.material_type?a("img",{attrs:{src:t.phoneData.ext_json.share_data.weapp.miniprogram.imgUrl,alt:""}}):t._e()]),a("div",{staticClass:"des-foot"},[t._v("来自小程序")])]):t._e()])])],1)},n=[],s=(a("6b54"),a("96cf"),a("3b8d")),o=(a("28a5"),a("c1df")),r=a.n(o),c=a("8c10c"),d=[{title:"发送时间",dataIndex:"send_time",key:"send_time"},{title:"发送人",dataIndex:"send_user",key:"send_user",ellipsis:!0},{title:"渠道类型",dataIndex:"channel_name",key:"channel_name"},{title:"发送渠道",dataIndex:"chat_name",key:"chat_name"},{title:"素材类型",dataIndex:"type_name",key:"type_name"},{title:"内容类型",dataIndex:"material_type_name",key:"material_type_name"},{title:"素材ID",dataIndex:"material_id",key:"material_id"},{title:"内容快照",dataIndex:"ext_json",key:"ext_json",scopedSlots:{customRender:"content_img"}},{title:"浏览数",dataIndex:"review_count",key:"review_count"},{title:"转化数",dataIndex:"order_num",key:"order_num",scopedSlots:{customRender:"order_num"}},{title:"转化人数",dataIndex:"person_num",key:"person_num"},{title:"销售额",dataIndex:"account",key:"account",scopedSlots:{customRender:"sale_num"}}],l={name:"shareDetail",components:{groupChat:c["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{moment:r.a,corpId:t,now:new Date,tabKey:1,timeType:1,fansAddTime:{ds_date:r()().subtract(7,"days").format("YYYY-MM-DD"),de_date:r()(new Date).format("YYYY-MM-DD"),ws_date:r()().subtract(7,"days").weekday(0).format("YYYY-MM-DD"),we_date:r()().subtract(7,"days").weekday(6).format("YYYY-MM-DD"),ws_week:r()(new Date).week()-1||52,ms_date:r()().startOf("month").format("YYYY-MM-DD"),me_date:r()(new Date).format("YYYY-MM-DD")},dayDate:[r()().subtract(8,"days"),r()().subtract(1,"days")],weekStart:r()().subtract(7,"days"),weekEnd:r()().subtract(7,"days"),customName:"",chooseNum:0,chatArr:[],chatVisible:!1,contentVal:-1,contentArr:["商品","页面","券"],material_id:"",totalData:{},isLoading:!1,columns:d,customList:[{key:1,send_time:"2021-3-3 09:12:52",send_name:"李云莉(员工ID)",channel_type:"好友",send_channel:"顾客的微信昵称",mate_type:"H5",content_type:"商品",mate_id:123,look_num:5,order_num:5,transform_people:6,sale_num:45646.36},{key:2,send_time:"2021-3-5 14:37:52",send_name:"企微用户(员工ID)",channel_type:"群",send_channel:"合肥nike总群1",mate_type:"小程序",content_type:"页面",mate_id:122,look_num:"无",order_num:8,transform_people:12,sale_num:8657}],page:1,pageSize:15,total:1,quickJumper:!1,phoneVisible:!1,phoneData:{}}},methods:{changeTab:function(t){this.tabKey=t},disabledDate:function(t){return t&&t>r()().endOf("month")},disabledDateDay:function(t){return t.valueOf()>(new Date).getTime()||t<r()().subtract(31,"days")},disabledDateWeek:function(t){var e=r()(new Date).format("E");return t.valueOf()>r()(new Date).subtract(e,"days")||t<r()().subtract(365,"days")},changeTimeType:function(t){this.timeType!=t&&(this.isLoading=!0,this.timeType=t,this.configData(),this.getCustomList(this.page,this.pageSize))},changeTime:function(t,e){this.isLoading=!0,this.fansAddTime.ds_date=e[0],this.fansAddTime.de_date=e[1],this.configData(),this.getCustomList(this.page,this.pageSize)},changeWeek:function(t,e){if(this.isLoading=!0,t>this.weekEnd){this.weekStart=t,this.weekEnd=r()(JSON.parse(JSON.stringify(t)));var a=r()(this.weekStart).format("E");this.fansAddTime.ws_date=r()(this.weekStart).subtract(a-1,"days").format("YYYY-MM-DD"),a=r()(this.weekEnd).format("E"),this.fansAddTime.we_date=r()(this.weekEnd).add(7-a,"days").format("YYYY-MM-DD"),this.fansAddTime.we_date>r()().format("YYYY-MM-DD")&&(this.fansAddTime.we_date=r()().format("YYYY-MM-DD")),this.fansAddTime.ws_week=r()(this.fansAddTime.ws_date,"YYYY-MM-DD").week()}else{this.weekStart=t,this.weekEnd=r()(JSON.parse(JSON.stringify(t)));var i=e.split("-")[1],n=i.substring(0,i.length-1),s=r()(this.weekStart).format("E");this.fansAddTime.ws_date=r()(this.weekStart).subtract(s-1,"days").format("YYYY-MM-DD"),this.fansAddTime.we_date=r()(this.weekEnd).add(7-s,"days").format("YYYY-MM-DD"),this.fansAddTime.ws_week=n}this.configData(),this.getCustomList(this.page,this.pageSize)},changeMonth:function(t){var e=this;r()(new Date).format("MM")==t.format("MM")?e.fansAddTime.me_date=r()(new Date).format("YYYY-MM-DD"):e.fansAddTime.me_date=r()([t.format("YYYY"),0,31]).month(t.format("MM")-1).format("YYYY-MM-DD"),e.fansAddTime.ms_date=r()(t.format("YYYY-MM")).format("YYYY-MM-DD"),this.configData(),e.getCustomList(e.page,e.pageSize)},showChatVisible:function(){this.chatVisible=!0},groupChatCallBack:function(t,e,a){"ok"==t&&(this.chooseNum=e,this.chatArr=a),this.chatVisible=!1},reset:function(){this.customName="",this.chooseNum=0,this.chatArr=[],this.contentVal=-1,this.material_id="",this.configData(),this.getCustomList()},searchStaff:function(){this.configData(),this.getCustomList()},deleteTag:function(t){var e=this;"customName"==t?e.customName="":"chooseNum"==t?e.chooseNum=0:"contentVal"==t&&(e.contentVal=-1)},showPhone:function(t){this.phoneVisible=!0,this.phoneData=t},cancelPhone:function(){this.phoneVisible=!1},configData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.isLoading=!0,a={corp_id:localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",chat_id:e.chatArr.toString(),guide_key:e.customName,material_type:-1==e.contentVal?"":e.contentVal+1,material_id:e.material_id},1==e.timeType?(a.start_time=e.fansAddTime.ds_date,a.end_time=e.fansAddTime.de_date,e.dayDate=[r()(e.fansAddTime.ds_date),r()(this.fansAddTime.de_date)]):2==e.timeType?(a.start_time=e.fansAddTime.ws_date,a.end_time=e.fansAddTime.we_date):3==e.timeType&&(a.start_time=e.fansAddTime.ms_date,a.end_time=e.fansAddTime.me_date),i="shop-material/share-account",t.next=7,e.axios.post(i,a);case 7:n=t.sent,s=n.data,0!=s.error?(e.isLoading=!1,e.$message.error(s.error_msg)):(e.isLoading=!1,e.totalData=s.data.result);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCustomList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,s,o,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,a=c.length>1&&void 0!==c[1]?c[1]:this.pageSize,this.isLoading=!0,i=this,n={corp_id:localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",page:e,page_size:a,chat_id:i.chatArr.toString(),guide_key:i.customName,material_type:-1==i.contentVal?"":i.contentVal+1,material_id:i.material_id},1==i.timeType?(n.start_time=i.fansAddTime.ds_date,n.end_time=i.fansAddTime.de_date,i.dayDate=[r()(i.fansAddTime.ds_date),r()(this.fansAddTime.de_date)]):2==i.timeType?(n.start_time=i.fansAddTime.ws_date,n.end_time=i.fansAddTime.we_date):3==i.timeType&&(n.start_time=i.fansAddTime.ms_date,n.end_time=i.fansAddTime.me_date),t.next=8,i.axios.post("shop-material/share-detail",n);case 8:s=t.sent,o=s.data,0!=o.error?(i.isLoading=!1,i.$message.error(o.error_msg)):(i.isLoading=!1,this.customList=o.data.result,this.total=parseInt(o.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getCustomList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,40)}))},showSizeChange:function(t,e){this.getCustomList(1,e)}},mounted:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.$route.query.material_id&&(t.material_id=t.$route.query.material_id,t.contentVal=1*t.$route.query.material_type-1),t.configData(),t.getCustomList()}))}},p=l,h=(a("0086"),a("2877")),m=Object(h["a"])(p,i,n,!1,null,"3cb8cdd7",null);e["default"]=m.exports},4061:function(t,e,a){var i=a("5ed8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("90a7e07a",i,!0,{sourceMap:!1,shadowMode:!1})},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"5ed8":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".share-set[data-v-3cb8cdd7]{width:100%;height:100%}.ant-layout-header[data-v-3cb8cdd7]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px;padding:0 20px;font-size:16px;text-align:left}.ant-layout-content[data-v-3cb8cdd7]{margin:0 20px 20px;min-width:885px}.tabBtn[data-v-3cb8cdd7]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.tabBtn.activeBtn[data-v-3cb8cdd7]{color:#1890ff;background:#fff}.content-msg[data-v-3cb8cdd7]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-hd[data-v-3cb8cdd7]{margin-top:20px;width:100%;min-width:885px}.card-caledar[data-v-3cb8cdd7]{-ms-flex-wrap:nowrap;flex-wrap:nowrap;color:#686868;margin-bottom:10px}.card-caledar[data-v-3cb8cdd7],.card-caledar .picker-contain[data-v-3cb8cdd7]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.card-caledar .picker-contain button[data-v-3cb8cdd7]{margin-left:5px}.card-caledar .picker-contain .caledar-btn-selected[data-v-3cb8cdd7]{border:1px solid #3b74ff;background:#3b74ff;border-radius:0;color:#fff}.card-caledar .picker-contain[data-v-3cb8cdd7] .ant-input{border-radius:0!important}.content-hd-box[data-v-3cb8cdd7]{line-height:40px}.content-hd-box .select-option[data-v-3cb8cdd7]{display:inline-block;margin-bottom:10px}.content-hd-box .select-option label[data-v-3cb8cdd7]{margin-right:5px;display:inline-block;text-align:right;width:100px}.content-hd-box .select-option .ant-select[data-v-3cb8cdd7],.content-hd-box .select-option input[data-v-3cb8cdd7]{margin-right:5px;width:210px}.content-hd-list[data-v-3cb8cdd7]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:12px}.content-hd-list .ant-tag[data-v-3cb8cdd7]{margin-bottom:8px}.content-hd-list .ant-tag .anticon[data-v-3cb8cdd7]{margin-left:8px}.table-num[data-v-3cb8cdd7]{height:32px;line-height:32rpx;margin-top:6px}.table-num span[data-v-3cb8cdd7]{color:#1890ff;margin:0 3px}.content-bd[data-v-3cb8cdd7]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}.phone-share[data-v-3cb8cdd7]{padding:30px 90px 20px 20px;display:flex;display:-webkit-box;display:-ms-flexbox;-webkit-box-sizing:border-box;box-sizing:border-box}.phone-share .share-content1[data-v-3cb8cdd7]{-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#fff;-webkit-box-shadow:0 0 10px 1px #eaeaea;box-shadow:0 0 10px 1px #eaeaea;margin-left:20px;padding:12px 10px}.phone-share .share-content1 .content[data-v-3cb8cdd7]{font-size:16px}.phone-share .share-content2[data-v-3cb8cdd7]{-webkit-box-flex:1;-ms-flex:1;flex:1;background-color:#fff;-webkit-box-shadow:0 0 10px 1px #eaeaea;box-shadow:0 0 10px 1px #eaeaea;margin-left:20px;padding:12px 10px 5px;-ms-flex-negative:0;flex-shrink:0}.phone-share .share-content2 .share-title[data-v-3cb8cdd7]{font-size:12px;color:#afafaf}.phone-share .share-content2 .share-name[data-v-3cb8cdd7]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:5px 0 0;font-size:14px;color:#333;font-weight:600}.phone-share .share-content2 .share-des[data-v-3cb8cdd7]{font-size:12px;color:#999;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:5px 0}.phone-share .share-content2 .share-img img[data-v-3cb8cdd7]{width:100%;-o-object-fit:cover;object-fit:cover}.phone-share .share-content2 .des-foot[data-v-3cb8cdd7]{border-top:1px solid #dbdbdb;font-size:10px;padding-top:2px}",""])},"8c10c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{width:"888px!important",title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("a-input-search",{staticStyle:{width:"230px","margin-right":"10px"},attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("div",[a("a-select",{staticStyle:{width:"230px"},attrs:{showSearch:"",getPopupContainer:function(t){return t.parentNode},optionFilterProp:"children",placeholder:"群分组",allowClear:!0},on:{change:function(e){return t.getChatList(1)}},model:{value:t.chartGroup,callback:function(e){t.chartGroup=e},expression:"chartGroup"}},t._l(t.chartGroupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t")])})),1)],1),a("div",[1==t.isSop?a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear}},[t._v("清空")]):t._e()],1)],1),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)||1==t.isSop&&t.isSopChooseComp(t.chatData,e)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("div",{staticClass:"flex items-center w-ful justify-between"},[a("div",[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"ss-ellipsis-1 pr-10 ss-break-all"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t"),e.member_num&&1==t.isShowGroupOwner?a("span",[t._v("（"+t._s(e.member_num)+"）")]):t._e()])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[0==t.isShowGroupOwner?a("span",[t._v(t._s(e.member_num)+"/200")]):t._e(),e.owner_name&&1==t.isShowGroupOwner?a("span",{staticStyle:{color:"#AAAAAA"}},[t._v("群主："+t._s(e.owner_name))]):t._e()])],1),1==t.isSop&&t.isSopChooseComp(t.chatData,e)?a("div",{staticClass:"flex-none"},[t._v("\n\t\t\t\t\t\t\t\t\t该群已有规则\n\t\t\t\t\t\t\t\t")]):t._e()])])])],1)})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],staticClass:"pagination",staticStyle:{width:"100%",margin:"20px 0px","padding-bottom":"20px",height:"50px"}},[a("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.count,showSizeChanger:"",showQuickJumper:!0,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.getChatList,showSizeChange:t.getChatList}})],1)])],1)])],1)},n=[],s=(a("96cf"),a("3b8d")),o=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),r=a.n(o),c=a("e306"),d=a.n(c),l=a("4bef"),p=a.n(l),h=r.a.CancelToken,m=h.source(),u={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){return[]}},chatArr:{type:Array,default:function(){return[]}},chatArrt:{type:Array,default:function(){return[]}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0},isSop:{type:Number,default:0},isShowGroupOwner:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:d.a,img2:p.a,chartGroupList:[],chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,pageSize2:15,count:0,chatData:[],chooseNum:0,chartGroup:void 0}},methods:{content:function(t,e){var a=!0,i=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;if(r==e)return!1}}catch(c){i=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return!0},getChartGroupList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat/chat-group-list",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):([{group_name:"群分组",id:0}],this.chartGroupList=a.data.info,this.getChatList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isSopChooseComp:function(t,e){return 1==e.disabled&&-1==this.chatArrt.indexOf(e.chat_id)},getChatList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,a=s.length>1&&void 0!==s[1]?s[1]:15,this.cancelFlag=!0,t.next=5,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,page_size:a,is_list:this.is_list,is_sop:this.isSop,group_id:this.chartGroup},{cancelToken:m.token});case 5:i=t.sent,n=i.data,0!=n.error?this.$message.error(n.error_msg):(this.count=n.data.count,this.cancelFlag=!1,this.page2=e,this.pageSize2=a,this.chatList=n.data.list);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},clear:function(){this.chooseNum=0,this.chatData=[]},handleCancle:function(){this.checkedKey++,this.cancelFlag&&m.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chartGroup=void 0,this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChartGroupList())}},mounted:function(){}},g=u,f=(a("2d3a"),a("2877")),_=Object(f["a"])(g,i,n,!1,null,"37bdbcfe",null);e["a"]=_.exports},"8e3c":function(t,e,a){var i=a("9125");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("1b2c097c",i,!0,{sourceMap:!1,shadowMode:!1})},9125:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-37bdbcfe] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-37bdbcfe] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox{float:right;margin-top:15px}.noMore[data-v-37bdbcfe]{text-align:center;padding:10px 0;font-size:12px;color:#999}.dropdown-style[data-v-37bdbcfe] .ant-select-dropdown{z-index:99999999999!important}",""])},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"}}]);