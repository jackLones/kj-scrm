(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38730524"],{"0592":function(t,e,i){var a=i("7566");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("499e").default;s("cff67838",a,!0,{sourceMap:!1,shadowMode:!1})},"3a31":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[i("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[i("a-layout-header",[t._v("红包拉新")]),i("a-layout-content",[i("div",{staticClass:"content-msg"},[i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t不同于任务裂变发红包（邀请制），新客发红包，即通过渠道活码，在有效的时间段内，加企业成员后，通过欢迎语自动推送红包页面，借助红包激励，快速拉新。\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t1、若用户之前已添加过某员工的企业微信，删除后，通过渠道码再次添加该员工，则不能领取红包。\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t\t2、若红包已发送到客户里，但客户尚未领取，此时微信支付商户平台出现账户余额不足时，客户打开红包页面无法领取，请务必保证账户余额充足，避免客户投诉。\n\t\t\t\t\t\t")]),i("p",{staticStyle:{margin:"10px 0 2px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t\t在使用派发红包功能前，需要商户完成以下配置：\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t1、前往"),i("a",{attrs:{href:"https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F",target:"_blank"}},[t._v("【微信支付商户平台】")]),t._v("注册微信支付商户号\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t2、登录"),i("a",{attrs:{href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu",target:"_blank"}},[t._v("【企业微信后台】")]),t._v("开通企业支付，绑定已有商户号（"),i("a",{attrs:{href:"https://support.qq.com/products/104790/faqs/66072",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t3、登录"),i("a",{attrs:{href:"https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F",target:"_blank"}},[t._v("【微信支付商户平台】")]),t._v("开通【企业付款到零钱】（"),i("a",{attrs:{href:"https://support.qq.com/products/104790/faqs/66076",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t4、在本系统，进入【自建应用】--【企业支付】，点击，填入企业支付的应用ID和Secret\n\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t5、在本系统，进入【自建应用】--【企业支付】，点击，完成支付配置。（"),i("a",{attrs:{href:"https://support.qq.com/products/104790/faqs/66058",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t")])]),i("div",{staticClass:"content-hd"},[i("a-col",{staticStyle:{float:"left"}},[t.corpLen>1?i("a-select",{staticStyle:{width:"210px","margin-right":"10px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t")])]}))],2):t._e(),i("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"活动状态",allowClear:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[i("a-select-option",{attrs:{value:"1"}},[t._v("未开始")]),i("a-select-option",{attrs:{value:"2"}},[t._v("进行中")]),i("a-select-option",{attrs:{value:"3"}},[t._v("已结束")])],1),i("a-input",{staticStyle:{width:"150px",margin:"0px 10px"},attrs:{placeholder:"搜索活动名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find(e)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("a-range-picker",{staticStyle:{width:"300px"},on:{change:t.changeTime},model:{value:t.activityTime,callback:function(e){t.activityTime=e},expression:"activityTime"}}),i("a-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("查找")]),i("a-button",{on:{click:t.clear}},[t._v("清空")])],1),i("a-col",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-add",expression:"'redForNewList-add'"}],staticStyle:{float:"right"}},[i("a-button",{staticClass:"btn-primary",attrs:{icon:"plus",type:"primary"},on:{click:t.addRedActivity}},[t._v("\n\t\t\t\t\t\t\t\t新建红包拉新\n\t\t\t\t\t\t\t")])],1)],1),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-list",expression:"'redForNewList-list'"}],attrs:{columns:t.columns,dataSource:t.activityList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"qr_code",fn:function(e,a,s){return i("span",{},[i("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.commonUrl+a.local_path}})])}},{key:"rule_type",fn:function(e,a){return i("span",{},[i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("规则："+t._s(a.rule_name))]),t._v("\n\t\t\t\t\t\t\t\t\t类型："),1==a.rule_type?i("span",[t._v("定额"+t._s(a.rule_fixed_amount)+"元")]):t._e(),2==a.rule_type?i("span",[t._v("拼手气"+t._s(a.rule_min_random_amount)+"-"+t._s(a.rule_max_random_amount)+"元")]):t._e()])}},{key:"member_str",fn:function(e,a){return i("span",{},[i("span",{staticStyle:{color:"#1890FF",cursor:"pointer"},on:{click:function(e){return t.preview(a.id,a.corp_id)}}},[t._v("预览")])])}},{key:"time",fn:function(e,a){return i("span",{},[2==a.time_type?i("div",{staticStyle:{width:"125px"}},[t._v(t._s(a.start_time)+"至"+t._s(a.end_time))]):t._e(),1==a.time_type?i("div",{staticStyle:{width:"125px"}},[t._v("永久有效")]):t._e()])}},{key:"redpacket_amount",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.redpacket_amount)+"元\n\t\t\t\t\t\t\t\t")])}},{key:"add_num",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.add_num)+"人\n\t\t\t\t\t\t\t\t")])}},{key:"receive_snum",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.receive_snum)+"元（"+t._s(a.receive_num)+"人）\n\t\t\t\t\t\t\t\t")])}},{key:"not_receive_snum",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.not_receive_snum)+"元（"+t._s(a.not_receive_num)+"人）\n\t\t\t\t\t\t\t\t")])}},{key:"expired_snum",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.expired_snum)+"元（"+t._s(a.expired_num)+"人）\n\t\t\t\t\t\t\t\t")])}},{key:"redpacket_status",fn:function(e,a){return i("span",{},[1==a.redpacket_status?i("span",[t._v("未发布")]):t._e(),2==a.redpacket_status?i("span",[t._v("进行中")]):t._e(),3==a.redpacket_status?i("span",[t._v("已失效（活动结束）")]):t._e(),4==a.redpacket_status?i("span",[t._v("已失效（活码失效）")]):t._e()])}},{key:"action",fn:function(e,a,s){return i("span",{},[i("div",{staticStyle:{width:"150px"}},[i("div",{staticStyle:{display:"inline-block"}},[2==a.redpacket_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-invalid",expression:"'redForNewList-invalid'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.failure(a.id,a.name)}}},[t._v("使失效")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[1==a.redpacket_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-release",expression:"'redForNewList-release'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.releaseActivity(a.id,a.name)}}},[t._v("发布")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[1==a.redpacket_status||2==a.redpacket_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-edit",expression:"'redForNewList-edit'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.edit(a.id,a.corp_id)}}},[t._v("编辑")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-info",expression:"'redForNewList-info'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.participants(a.id,a.name,a.corp_id)}}},[t._v("拉新记录")])],1),i("div",{staticStyle:{display:"inline-block"}},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-statistic",expression:"'redForNewList-statistic'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.statistical(a.id,a.corp_id,a.name)}}},[t._v("红包统计")])],1),i("div",{staticStyle:{display:"inline-block"}},[2!=a.redpacket_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-delete",expression:"'redForNewList-delete'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.deleteActivity(a.id,a.name)}}},[t._v("删除")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[2==a.redpacket_status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"redForNewList-down",expression:"'redForNewList-down'"}],staticClass:"actionBtn",attrs:{"data-url":t.commonUrl+a.local_path,"data-name":a.name},on:{click:t.downLoadWay}},[t._v("下载")]):t._e()],1)])])}}])},[i("span",{attrs:{slot:"addNum"},slot:"addNum"},[t._v("\n\t\t\t\t\t\t\t\t\t拉新人数\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[t._v("统计该渠道活码添加了多少员工，含客户重复添加，与红包是否已投放完无关。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"notReceiveSnum"},slot:"notReceiveSnum"},[t._v("\n\t\t\t\t\t\t\t\t\t未领取金额/人数\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[t._v("在24小时内尚未领取和超过24小时已过期情况下，统称为“未领取”。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"redForNewList-list",expression:"'redForNewList-list'"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1)])],1)],1)],1),i("a-modal",{attrs:{title:"预览",width:"888px"},on:{cancel:t.cancelChangeSpecialTime},model:{value:t.specialModal,callback:function(e){t.specialModal=e},expression:"specialModal"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelChangeSpecialTime}},[t._v("关闭")])],1),i("a-form",[i("a-form-item",{attrs:{label:"企业成员","label-col":{span:2}}}),i("a-form-item",[i("a-table",{staticStyle:{"max-width":"98%","margin-left":"1%"},attrs:{columns:t.specialWeekColumns,dataSource:t.specialWeekList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"mon",fn:function(e,a,s){return i("span",{},[t._l(a.mon,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.mon,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.mon.length?i("div",[t._v("--")]):t._e()],2)}},{key:"tues",fn:function(e,a,s){return i("span",{},[t._l(a.tues,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.tues,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.tues.length?i("div",[t._v("--")]):t._e()],2)}},{key:"wednes",fn:function(e,a,s){return i("span",{},[t._l(a.wednes,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.wednes,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.wednes.length?i("div",[t._v("--")]):t._e()],2)}},{key:"thurs",fn:function(e,a,s){return i("span",{},[t._l(a.thurs,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.thurs,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.thurs.length?i("div",[t._v("--")]):t._e()],2)}},{key:"fri",fn:function(e,a,s){return i("span",{},[t._l(a.fri,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.fri,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.fri.length?i("div",[t._v("--")]):t._e()],2)}},{key:"satur",fn:function(e,a,s){return i("span",{},[t._l(a.satur,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.satur,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.satur.length?i("div",[t._v("--")]):t._e()],2)}},{key:"sun",fn:function(e,a,s){return i("span",{},[t._l(a.sun,(function(e){return 2==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("div",t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticStyle:{width:"80px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(e.userList,(function(e){return i("span",[t._v(" "+t._s(e.name)+" ")])})),0)],2),i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.party.length>0,expression:"item.party.length > 0"}],staticStyle:{width:"80px"},attrs:{disabled:!0,optionFilterProp:"children",mode:"multiple",placeholder:"选择部门"},model:{value:e.party,callback:function(i){t.$set(e,"party",i)},expression:"item.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t")])})),1)],1)]):t._e()})),t._l(a.sun,(function(e){return 1==t.editType?i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.start_time)+"~"+t._s(e.end_time)+"\n\t\t\t\t\t\t\t\t"),i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",disabled:!0,showArrow:!1,mode:1==t.editType?"default":"multiple",placeholder:"请选择企业成员"},model:{value:e.userList,callback:function(i){t.$set(e,"userList",i)},expression:"item.userList"}},t._l(t.user,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])})),1)],1)])]):t._e()})),0==a.sun.length?i("div",[t._v("--")]):t._e()],2)}}])},[i("span",{attrs:{slot:"mon"},slot:"mon"},[t._v("\n\t\t\t\t\t\t周一\n\t\t\t\t\t")]),i("span",{attrs:{slot:"tues"},slot:"tues"},[t._v("\n\t\t\t\t\t\t周二\n\t\t\t\t\t")]),i("span",{attrs:{slot:"wednes"},slot:"wednes"},[t._v("\n\t\t\t\t\t\t周三\n\t\t\t\t\t")]),i("span",{attrs:{slot:"thurs"},slot:"thurs"},[t._v("\n\t\t\t\t\t\t周四\n\t\t\t\t\t")]),i("span",{attrs:{slot:"fri"},slot:"fri"},[t._v("\n\t\t\t\t\t\t周五\n\t\t\t\t\t")]),i("span",{attrs:{slot:"satur"},slot:"satur"},[t._v("\n\t\t\t\t\t\t周六\n\t\t\t\t\t")]),i("span",{attrs:{slot:"sun"},slot:"sun"},[t._v("\n\t\t\t\t\t\t周日\n\t\t\t\t\t")])])],1),i("a-form-item",{attrs:{label:"特殊时期","label-col":{span:2},"wrapper-col":{span:21}}},[i("a-switch",{attrs:{disabled:!0,checked:1==t.specialTime}}),i("span",{staticStyle:{color:"#F56C6C","margin-left":"10px"}},[t._v("如遇到国家节假日或是企业自身重要日子，在特殊时期内，需要更换活码成员")]),1==t.specialTime?i("div",{staticClass:"content-msg"},[i("p",{staticStyle:{"margin-bottom":"2px","line-height":"20px"}},[t._v("\n\t\t\t\t\t\t1、系统默认生成一条每日24小时（00:00~00:00）数据，当时间点不在所新增的时段内，客户扫码后，添加的是“24小时”的企业成员。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"0px","line-height":"20px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t2、批量设置企业成员（含指定成员+部门成员【动态数据】）后，若您当前所勾选的渠道活码当中，已开启过“员工添加客户上限“，则对新设置的指定成员，添加客户上限默认为100人，而因受官方限制，无法对动态部门的员工设置添加好友上限。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"0px","line-height":"20px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t3、渠道活码设置部门时，请确保设置的部门具有外部联系人权限，否则会导致该区间段的活码设置失效。\n\t\t\t\t\t")])]):t._e(),t._l(t.specialDateList,(function(e,a){return 1==t.specialTime?i("div",{class:a!=t.specialDateList.length-1?"border-dashed":"",staticStyle:{padding:"10px 10px 40px 10px"}},[i("label",[t._v("特殊时期"+t._s(a+1)+"：")]),i("a-range-picker",{staticStyle:{width:"200px"},attrs:{allowClear:!1,disabled:!0,value:e.specialDate,format:"YYYY-MM-DD"}}),t._l(e.time,(function(s,n){return i("div",{staticStyle:{"margin-left":"78px"}},[i("a-time-picker",{staticStyle:{width:"100px"},attrs:{disabled:!0,allowClear:!1,minuteStep:60,format:"HH:mm"},model:{value:s.startTime,callback:function(e){t.$set(s,"startTime",e)},expression:"time.startTime"}}),t._v("\n\t\t\t\t\t\t~\n\t\t\t\t\t\t"),i("a-time-picker",{staticStyle:{width:"100px"},attrs:{disabled:!0,allowClear:!1,minuteStep:60,defaultOpenValue:t.moment("00:00","HH:mm"),format:"HH:mm"},model:{value:s.endTime,callback:function(e){t.$set(s,"endTime",e)},expression:"time.endTime"}}),2==t.editType?i("span",{staticStyle:{"margin-left":"10px"}},t._l(s.userList,(function(e){return i("span",[t._v(t._s(e.name)+" ")])})),0):t._e(),2==t.editType&&s.party&&s.party.length>0?i("div",[i("a-select",{staticStyle:{width:"300px"},attrs:{showSearch:"",optionFilterProp:"children",mode:"multiple",disabled:!0,placeholder:"选择部门"},model:{value:s.party,callback:function(e){t.$set(s,"party",e)},expression:"time.party"}},t._l(t.party,(function(e,a){return i("a-select-option",{key:a},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])})),1),2==t.editType&&n==e.time.length-1?i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t\t选择企业成员和选择部门必须选择一个。选择部门后，扫码后最多可添加当前部门的企业成员。如原来某部门是5人，后新增1人，则客户最多可添加该部门6位企业成员\n\t\t\t\t\t\t\t\t")]),i("span",{staticStyle:{"margin-left":"10px"}},[i("a-icon",{attrs:{type:"question-circle"}})],1)],2):t._e()],1):t._e(),1==t.editType&&t.specialModal?i("chooseStaffSelect",{ref:"staffSelect",refInFor:!0,staticStyle:{width:"160px","margin-left":"10px",display:"inline-block"},attrs:{index:a,index2:n,disabled:!0}}):t._e(),i("div")],1)}))],2):t._e()}))],2),i("a-form-item",{attrs:{label:"员工添加上限","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-switch",{attrs:{checked:2==t.is_limit,disabled:!0}}),i("span",{staticStyle:{color:"#F56C6C"}},[t._v("（因受官方限制，无法对动态部门的员工设置添加好友上限，只可针对指定活码成员进行设置）")]),2==t.is_limit?i("a-table",{staticStyle:{"max-width":"100%"},attrs:{scroll:{y:450},columns:t.previewUserColumns,dataSource:t.userLimitList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"limit",fn:function(e,a,s){return i("span",{},[i("a-input",{staticStyle:{width:"120px"},attrs:{disabled:!0},model:{value:a.limit,callback:function(e){t.$set(a,"limit",e)},expression:"record.limit"}})],1)}}],null,!1,1175417459)}):t._e()],1),2==t.is_limit?i("a-form-item",{staticStyle:{"padding-bottom":"20px"},attrs:{label:"备用员工","label-col":{span:3},"wrapper-col":{span:21}}},[2==t.editType?[i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!0}},[0==t.spare_employee.length?[t._v("选择企业成员")]:[t._v("已选择"+t._s(t.spare_employee.length)+"名员工")]],2),i("a-tooltip",{attrs:{placement:"right"}},[i("template",{slot:"title"},t._l(t.spare_employee,(function(e){return i("span",[t._v(t._s(e.name)+" ")])})),0),2==t.editType?i("span",{staticStyle:{display:"inline-block","max-width":"300px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"middle","margin-left":"10px"}},t._l(t.spare_employee,(function(e){return i("span",[t._v(t._s(e.name)+" ")])})),0):t._e()],2)]:t._e(),i("chooseStaffSelect",{directives:[{name:"show",rawName:"v-show",value:1==t.editType,expression:"editType == 1"}],ref:"staffSelect4",staticStyle:{width:"160px","margin-left":"10px",display:"inline-block"},attrs:{index:10,index2:-1,disabled:!0}})],2):t._e()],1)],2)],1)},s=[],n=(i("a481"),i("7f7f"),i("96cf"),i("3b8d")),r=i("641c"),o=i("c1df"),l=i.n(o),c=(i("d044"),i("95204")),d=[{title:"二维码",dataIndex:"qr_code",key:"qr_code",width:"9%",scopedSlots:{customRender:"qr_code"}},{title:"活动名称",dataIndex:"name",key:"name",width:"180px"},{title:"发放规则",dataIndex:"rule_type",key:"rule_type",width:"180px",scopedSlots:{customRender:"rule_type"}},{title:"引流成员",dataIndex:"member_str",key:"member_str",scopedSlots:{customRender:"member_str"}},{title:"活动时间",dataIndex:"time",key:"time",scopedSlots:{customRender:"time"}},{title:"投放金额",dataIndex:"redpacket_amount",key:"redpacket_amount",scopedSlots:{customRender:"redpacket_amount"}},{dataIndex:"add_num",key:"add_num",slots:{title:"addNum"},scopedSlots:{customRender:"add_num"}},{title:"已领取金额/人数",dataIndex:"receive_snum",key:"receive_snum",scopedSlots:{customRender:"receive_snum"}},{dataIndex:"not_receive_snum",key:"not_receive_snum",slots:{title:"notReceiveSnum"},scopedSlots:{customRender:"not_receive_snum"}},{title:"活动状态",dataIndex:"redpacket_status",key:"redpacket_status",scopedSlots:{customRender:"redpacket_status"}},{title:"操作",dataIndex:"action",key:"action",width:"10%",scopedSlots:{customRender:"action"}}],p={name:"redForNewList",components:{MyIcon:r["a"],chooseStaffSelect:c["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{suite_id:1,corpId:t,corpInfo:[],status:[],title:"",commonUrl:this.$store.state.commonUrl,activityTime:[],activityList:[],isLoading:!0,corpLen:JSON.parse(localStorage.getItem("corpArr")).length,user:[],party:[],columns:d,total:0,quickJumper:!1,page:1,page_size:15,pageSize:15,specialTime:0,specialTimeList:[{startTime:l()("00:00","HH:mm"),endTime:l()("00:00","HH:mm"),start_time:"00:00",end_time:"00:00",userList:[],party:[]}],specialDateList:[{specialDate:[l()(new Date),l()(new Date)],date:[l()(new Date).format("YYYY-MM-DD"),l()(new Date).format("YYYY-MM-DD")],time:[{startTime:l()("00:00","HH:mm"),endTime:l()("00:00","HH:mm"),start_time:"00:00",end_time:"00:00",userList:[],party:[]}]}],specialWeekList:[{mon:[],tues:[],wednes:[],thurs:[],fri:[],satur:[],sun:[]}],is_limit:1,userLimitList:[],spare_employee:[],specialModal:!1,editType:1,specialWeekColumns:[{slots:{title:"mon"},dataIndex:"mon",width:"14%",key:"mon",scopedSlots:{customRender:"mon"}},{slots:{title:"tues"},dataIndex:"tues",width:"14%",key:"tues",scopedSlots:{customRender:"tues"}},{slots:{title:"wednes"},dataIndex:"wednes",width:"14%",key:"wednes",scopedSlots:{customRender:"wednes"}},{slots:{title:"thurs"},dataIndex:"thurs",width:"14%",key:"thurs",scopedSlots:{customRender:"thurs"}},{slots:{title:"fri"},dataIndex:"fri",width:"14%",key:"fri",scopedSlots:{customRender:"fri"}},{slots:{title:"satur"},dataIndex:"satur",width:"14%",key:"satur",scopedSlots:{customRender:"satur"}},{slots:{title:"sun"},dataIndex:"sun",width:"14%",key:"sun",scopedSlots:{customRender:"sun"}}],previewUserColumns:[{title:"名称",dataIndex:"name",key:"name"},{title:"上限",dataIndex:"limit",key:"limit",scopedSlots:{customRender:"limit"}}]}},methods:{moment:l.a,cancelChangeSpecialTime:function(){this.specialModal=!1},handleChange:function(t){this.corpId=t},rowClassName:function(t,e){var i="dark-row";return e%2===0&&(i="light-row"),i},getUserList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-user/get-all-user",{suite_id:1,corp_id:this.corpId,is_all:1});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):this.user=i.data.info;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPartyList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-contact-way/get-party-list",{suite_id:1,corp_id:this.corpId});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):this.party=i.data.party_list;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTime:function(t,e){this.activityTime=t},find:function(){this.getActivityList()},clear:function(){this.status=[],this.title="",this.activityTime=[],this.page=1,this.pageSize=15,this.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",this.getActivityList()},addRedActivity:function(){this.$router.push("/redForNew/add")},getActivityList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,i=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("work-contact-way-redpacket/get-redpacket-list",{uid:localStorage.getItem("uid"),corp_id:this.corpId,status:this.status,name:this.title,start_date:this.activityTime.length>0?l()(this.activityTime[0]).format("YYYY-MM-DD"):"",end_date:this.activityTime.length>0?l()(this.activityTime[1]).format("YYYY-MM-DD"):"",page:e,pageSize:i});case 5:a=t.sent,s=a.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.activityList=s.data.list,this.isLoading=!1,this.total=parseInt(s.data.count),this.page=e,this.pageSize=i,this.quickJumper=this.total>this.pageSize);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),preview:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i){var a,s,n,r,o,c,d,p,u,m,h,_=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.axios.post("work-contact-way-redpacket/get-redpacket-user",{corp_id:i,id:e});case 3:if(a=t.sent,s=a.data,0!=s.error)this.isLoading=!1,this.$message.error(s.error_msg);else{for(this.editType=s.data.contact_way.type,n=s.data.contact_way,this.specialTime=n.specialTime,this.specialDateList=n.specialDateList,this.specialWeekList=n.specialWeekList,r=0;r<this.specialDateList.length;r++)for(this.specialDateList[r]["specialDate"]=[new Date,new Date],this.specialDateList[r]["specialDate"][0]=l()(this.specialDateList[r].date[0],"YYYY-MM-DD"),this.specialDateList[r]["specialDate"][1]=l()(this.specialDateList[r].date[1],"YYYY-MM-DD"),o=0;o<this.specialDateList[r].time.length;o++)this.specialDateList[r].time[o]["startTime"]=l()(new Date),this.specialDateList[r].time[o]["endTime"]=l()(new Date),this.specialDateList[r].time[o]["startTime"]=l()(this.specialDateList[r].time[o]["start_time"],"HH:mm"),this.specialDateList[r].time[o]["endTime"]=l()(this.specialDateList[r].time[o]["end_time"],"HH:mm");for(c=["mon","tues","wednes","thurs","fri","satur","sun"],d=0;d<7;d++)for(p=this.specialWeekList[0][c[d]],u=0;u<p.length;u++)p[u]["startTime"]=l()(p[u]["start_time"],"HH:mm"),p[u]["endTime"]=l()(p[u]["end_time"],"HH:mm");this.is_limit=s.data.contact_way.is_limit,this.userLimitList=s.data.contact_way.user_limit,this.spare_employee=s.data.contact_way.spare_employee,this.isLoading=!1,this.specialModal=!0,1==this.editType&&1==this.specialTime&&(m=this,h=[],m.specialDateList.map((function(t,e){t.time.map((function(t,e){h.push(t.userList)}))})),m.$nextTick((function(){h.map((function(t,e){m.$refs.staffSelect[e].userId=t}))}))),1==this.editType&&this.$nextTick((function(){_.$refs.staffSelect4.userId=_.spare_employee}))}case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),failure:function(t,e){var i=this;i.$confirm({title:"确定结束活动【"+e+"】？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.changeStatus(t,3)}})},releaseActivity:function(t,e){var i=this;i.$confirm({title:"确定发布活动【"+e+"】？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.changeStatus(t,2)}})},deleteActivity:function(t,e){var i=this;i.$confirm({title:"确定删除该活动【"+e+"】？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.changeStatus(t,5)}})},changeStatus:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-contact-way-redpacket/change-redpacket-status",{uid:localStorage.getItem("uid"),id:e,status:i});case 2:a=t.sent,s=a.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.selectedRowKeys=[],5==i&&1==this.activityList.length&&this.page>1?this.getActivityList(this.page-1,this.pageSize):this.getActivityList(this.page,this.pageSize));case 5:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),downLoadWay:function(t){var e=this,i=new Image;i.setAttribute("crossOrigin","anonymous"),i.src=t.target.dataset.url,i.onload=function(){var a=document.createElement("canvas");a.width=200,a.height=200;var s=a.getContext("2d");s.drawImage(i,0,0,200,200),a.toBlob((function(i){var a=URL.createObjectURL(i);e.download(a,t.target.dataset.name),URL.revokeObjectURL(a)}))}},download:function(t,e){var i=document.createElement("a");i.download=e,i.href=t,i.click(),i.remove()},edit:function(t,e){this.$router.push("/redForNew/add?id="+t+"&id1="+encodeURIComponent(e))},participants:function(t,e,i){var a=encodeURIComponent(t),s=encodeURIComponent(e.replace(/%/g,"%25"));this.$router.push("/redForNew/participants?id="+a+"&title="+s+"&corp_id="+encodeURIComponent(i))},statistical:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$router.push("/redForNew/statistics?id="+e+"&id1="+encodeURIComponent(i)+"&title="+encodeURIComponent(a));case 1:case"end":return t.stop()}}),t,this)})));function e(e,i,a){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getActivityList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,270)}))},showSizeChange:function(t,e){this.getActivityList(1,e)}},mounted:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.getUserList(),t.getPartyList(),t.corpInfo=e,t.getActivityList()}))},beforeRouteEnter:function(t,e,i){"/redForNew/add"!=e.path&&"/redForNew/statistics"!=e.path&&"/redForNew/participants"!=e.path||"undefined"==typeof t.query.isRefresh||"1"!=t.query.isRefresh?i((function(t){t.clear()})):i((function(t){t.getActivityList(t.page,t.pageSize)}))}},u=p,m=(i("8a52"),i("2877")),h=Object(m["a"])(u,a,s,!1,null,"d1d57caa",null);e["default"]=h.exports},7566:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-d1d57caa]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-d1d57caa]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-d1d57caa] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-d1d57caa]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-d1d57caa]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-d1d57caa]{height:60px;width:100%;min-width:885px;line-height:60px}.content-msg[data-v-d1d57caa]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-d1d57caa]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-d1d57caa]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-d1d57caa]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-d1d57caa],.list[data-v-d1d57caa]{height:100%}.btn-primary[data-v-d1d57caa]{margin-left:20px}[data-v-d1d57caa] .dark-row{background:#fafafa}[data-v-d1d57caa] .light-row{background:#fff}[data-v-d1d57caa] .ant-radio-button-wrapper{width:90px;margin:0;text-align:center}",""])},"8a52":function(t,e,i){"use strict";var a=i("0592"),s=i.n(a);s.a},95204:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:"请选择企业成员",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return i("div",{},[i("v-nodes",{attrs:{vnodes:e}}),i("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}},t._l(t.userList,(function(e,a){return i("a-select-option",{key:e.id},[t._v("\n\t\t\t"+t._s(e.name)+"\n\t\t")])})),1)],1)},s=[],n=(i("96cf"),i("3b8d")),r=(i("c5f6"),{props:{callback:{type:Function,default:null},index:{type:Number,default:""},index2:{type:Number,default:""},disabled:{type:Boolean,default:!1},getFisrstStaff:{type:Boolean,default:!1},type:{type:Number,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,userList:[],userId:[],userName:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,this.isLoading=!0,i={corp_id:this.corpId,name:this.userName,user_id:this.userId,is_all:0,page:e},1==this.type&&(i.sub_id=localStorage.getItem("sub_id"),i.isMasterAccount=localStorage.getItem("isMasterAccount")),t.next=6,this.axios.post("work-user/get-all-user",i);case 6:a=t.sent,s=a.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.isLoading=!1,this.count=s.data.count,this.getFisrstStaff&&(this.userId=s.data.info[0].id,null!==this.callback&&"function"===typeof this.callback&&(""===this.index&&""===this.index2?this.callback("ok",s.data.info[0].id):this.callback("ok",s.data.info[0].id,this.index,this.index2))),this.userList=1==e?s.data.info:this.userList.concat(s.data.info),this.page=e);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSelect:function(t){null!==this.callback&&"function"===typeof this.callback&&(""===this.index&&""===this.index2?this.callback("ok",t):this.callback("ok",t,this.index,this.index2))},focusSelect:function(){""!=this.userName&&(this.page=1,this.userList=[],this.userName="",this.getAllStaffList())},searchName:function(t){this.userName=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}},watch:{userId:{handler:function(t){this.getAllStaffList()},deep:!0},getFisrstStaff:{handler:function(t){this.getAllStaffList()},deep:!0}}}),o=r,l=i("2877"),c=Object(l["a"])(o,a,s,!1,null,"23e05649",null);e["a"]=c.exports}}]);