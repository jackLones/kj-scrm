(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6afa1f65"],{"051c":function(t,e,a){"use strict";var i=a("b203"),n=a.n(i);n.a},"0cfc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabBox"},[a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.groupList.length&&1==t.isNotAdd,expression:"groupList.length == 0 && isNotAdd == 1"}]},[a("span",{attrs:{slot:"description"},slot:"description"},[t._v("\n\t\t\t尚未创建标签，无法选择标签\n\t\t")])]),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("div",{staticClass:"mb-10"},[a("span",{staticClass:"group-name mb-10"},[e.name&&""!=e.name?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),a("span",{staticStyle:{"font-weight":"700"}},[t._v(" "+t._s(e.name)+"：")])]):t._e()],1),t._l(e.data,(function(n,o){return a("span",[e.disabled[o]?t._e():a("a-checkable-tag",{staticClass:"h-30 l-h-30 mb-10",on:{change:function(e){return t.changeTags(n.id,i)}},model:{value:e.checked[o],callback:function(a){t.$set(e.checked,o,a)},expression:"item.checked[tagIndex]"}},[t._v("\n\t\t\t\t\t"+t._s(n.tagname)+"\n\t\t\t\t")]),e.disabled[o]&&1==t.isDisabled?a("a-button",{staticStyle:{margin:"5px","line-height":"26px","font-size":"12px",height:"auto !important",padding:"0 7px"},attrs:{disabled:e.disabled[o]&&1==t.isDisabled}},[t._v("\n\t\t\t\t\t"+t._s(n.tagname)+"\n\t\t\t\t")]):t._e()],1)})),1!=t.isNotAdd&&t.showAddTag?a("a-button",{staticStyle:{"font-size":"13px",height:"30px",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:function(a){return t.createTag(e.id)}}},[t._v("\n\t\t\t\t添加\n\t\t\t")]):t._e()],2):t._e()]})),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),t.showAddGroupTag&&t.groupList.length>0&&1!=t.isNotAdd?a("a-button",{staticStyle:{"font-size":"13px",height:"26px","margin-right":"10px",color:"#1E90FF"},attrs:{icon:"plus"},on:{click:t.addTagGroup}},[t._v("\n\t\t新建标签组\n\t")]):t._e(),a("a-modal",{attrs:{title:"新建标签",zIndex:99999,confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{staticClass:"add-tag-group",attrs:{zIndex:99999,title:"新建标签组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("分组名称\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],2),a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}})],2)],1)],2)},n=[],o=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),s=(a("c5f6"),{name:"corpChooseTag",props:{type:{type:Number,default:0},index:{type:Number,default:0},callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}},isDisabled:{type:Number,default:0},disabledTag:{type:Array,default:function(){}},isNotAdd:{type:Number,default:0},id:{type:String,default:""},isGroup:{type:Number,default:0}},data:function(){return{corpId:"",groupList:[],tag_arr:[],tag_ids:"",group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newTagList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:"",inputValue2:"",newTagList2:[],showAddTag:!1,showAddGroupTag:!1}},watch:{hasChoose:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.tag_arr=t,this.tag_ids=t.join(),this.hasChoose.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),0==t.length&&this.groupList.map((function(t){t.checked=[]})),this.$forceUpdate())},deep:!0},id:{handler:function(t){""!=typeof t&&(this.corpId=t,this.getTags())},deep:!0},disabledTag:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.disabledTag.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),this.$forceUpdate())},deep:!0}},methods:{getTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/tag-group",{corp_id:this.corpId||localStorage.getItem("corpId"),is_not_add:this.isNotAdd,type:this.type});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checked=[],t.disabled=[]})),"undefined"!=typeof this.disabledTag&&this.disabledTag.length>0&&this.disabledTag.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0&&(this.tag_arr=this.hasChoose,this.tag_ids=this.hasChoose.join(),this.hasChoose.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);if(this.tag_arr.includes(a))this.tag_arr.remove(a);else if(this.tag_arr.length+1>9999){this.$message.warning("不可选中，客户标签数量上限9999个");for(var i=0;i<this.groupList[e].data.length;i++)this.groupList[e].data[i].id==a&&(this.groupList[e].checked[i]=!1)}else this.tag_arr.push(a);this.$forceUpdate(),this.tag_ids=this.tag_arr.join(),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.tag_ids,this.index)},createTag:function(t){this.group_id=t;var e=0;if(this.groupList.map((function(t){e+=t.data.length})),e>=9999)return this.$message.warning("标签数量已超过上限9999个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;e.newTagList=[];for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>15)return e.$message.error("每个标签最多15个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newTagList.push(t.split(" ")[a])}e.addTags(),e.inputValue="",e.newTagList=[],e.confirmLoading3=!1},addTags:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,type:this.type,group_id:this.group_id,name:this.newTagList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[],this.$emit("addTag"));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addTagGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName="",this.newTagList2=[],this.inputValue2=""},handleOk2:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:if(""!=this.inputValue2){t.next=10;break}return this.$message.warning("标签名称不能为空"),t.abrupt("return",!1);case 10:this.newTagList2=[],e=JSON.parse(JSON.stringify(this.inputValue2)).split(" "),a=0;case 13:if(!(a<e.length)){t.next=24;break}if(!(e[a].length>15)){t.next=20;break}return this.$message.error("每个标签最多15个字"),this.inputValue2="",t.abrupt("return",!1);case 20:e[a].length>0&&this.newTagList2.push(e[a]);case 21:a++,t.next=13;break;case 24:return this.confirmLoading=!0,t.next=27,this.axios.post("work-tag-group/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,name:this.teamName,type:this.type,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),tag_name:this.newTagList2});case 27:i=t.sent,n=i.data,0!=n.error?this.$message.error(n.error_msg):(this.teamName="",this.newTagList2=[],this.inputValue2="",this.groupVisible=!1,this.getTags(),this.$emit("addTag")),this.confirmLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){if(this.corpId=this.id||localStorage.getItem("corpId"),1==localStorage.getItem("isMasterAccount"))this.showAddTag=!0,this.showAddGroupTag=!0;else{var t=JSON.parse(JSON.stringify(localStorage.getItem("permissionButton"))).split(",");0==this.isGroup?(t.indexOf("client-tag-add")>-1?this.showAddTag=!0:this.showAddTag=!1,t.indexOf("client-tag-group-add")>-1?this.showAddGroupTag=!0:this.showAddGroupTag=!1):1==this.isGroup&&(t.indexOf("groupTag-add")>-1?this.showAddTag=!0:this.showAddTag=!1,t.indexOf("groupTag-group-add")>-1?this.showAddGroupTag=!0:this.showAddGroupTag=!1)}this.getTags()}}),r=s,c=(a("e33a"),a("2877")),l=Object(c["a"])(r,i,n,!1,null,"1dc98380",null);e["a"]=l.exports},"196c":function(t,e,a){"use strict";var i=a("e4fa"),n=a.n(i);n.a},"1e63":function(t,e,a){var i=a("e9ad");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("37ebe2b0",i,!0,{sourceMap:!1,shadowMode:!1})},"3ff8":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-1dc98380] .ant-tree-checkbox{float:right}[data-v-1dc98380] .ant-tree-iconEle{display:none!important}[data-v-1dc98380] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-1dc98380] .ant-list-item{border-bottom:0;padding:0}[data-v-1dc98380] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-1dc98380] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-1dc98380]{color:red;margin:0 20px 12px 0}.group-name[data-v-1dc98380]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom;line-height:21px}.tabBox[data-v-1dc98380]{display:block!important;background:#fff;padding:20px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:20px;border:1px solid #d8d8d8}[data-v-1dc98380] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;font-size:13px}[data-v-1dc98380] .ant-tag-checkable-checked{background-color:#1890ff}.l-h-30[data-v-1dc98380]{line-height:30px}",""])},"42f9":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".preview-modal{max-width:450px;max-height:450px}.preview-modal .ant-carousel .slick-slide{text-align:center;height:auto;overflow:hidden}.preview-modal .ant-carousel .custom-slick-arrow{width:50px;height:50px;font-size:50px;color:#545454!important;opacity:.3}.preview-modal .ant-carousel .custom-slick-arrow:before{display:none}.preview-modal .ant-carousel .custom-slick-arrow:hover{opacity:.5}@-webkit-keyframes voiceRun1{0%{border-color:transparent}25%{border-color:transparent}50%{border-color:transparent}75%{border-color:#2390ff}to{border-color:transparent}}@keyframes voiceRun1{0%{border-color:transparent}25%{border-color:transparent}50%{border-color:transparent}75%{border-color:#2390ff}to{border-color:transparent}}@-webkit-keyframes voiceRun2{0%{border-color:transparent}25%{border-color:transparent}50%{border-color:#2390ff}75%{border-color:#2390ff}to{border-color:transparent}}@keyframes voiceRun2{0%{border-color:transparent}25%{border-color:transparent}50%{border-color:#2390ff}75%{border-color:#2390ff}to{border-color:transparent}}@-webkit-keyframes voiceRun3{0%{background:#2390ff;border-color:#2390ff}25%{background:#2390ff;border-color:#2390ff}50%{background:#2390ff;border-color:#2390ff}75%{background:#2390ff;border-color:#2390ff}to{background:#2390ff;border-color:#2390ff}}@keyframes voiceRun3{0%{background:#2390ff;border-color:#2390ff}25%{background:#2390ff;border-color:#2390ff}50%{background:#2390ff;border-color:#2390ff}75%{background:#2390ff;border-color:#2390ff}to{background:#2390ff;border-color:#2390ff}}.chat-record-tab /deep/ .ant-tabs-bar{margin:0}.tabBox{display:-webkit-box;display:-ms-flexbox;display:flex}.tabBox .innerText{height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px 15px;-webkit-box-shadow:0 0 5px rgba(0,0,0,.1);box-shadow:0 0 5px rgba(0,0,0,.1);margin-right:2px;cursor:pointer;border-radius:5px 5px 0 0;border:1px solid #e2e2e2;margin-bottom:-1px}.activetab{color:#2390ff}",""])},"875d":function(t,e,a){var i=a("3ff8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("0c85575b",i,!0,{sourceMap:!1,shadowMode:!1})},b11d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA7CAIAAABKR2XkAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAEXRFWHRTb2Z0d2FyZQBTbmlwYXN0ZV0Xzt0AAAThSURBVGiB7ZrfS9tcGMe/SZPYmlGnrngxFEq3wty0imN0ypChMvGipV2ZN9tf4f/hpci8UPEHIkVQr4YUdlG2QVnFiaAIzkVbstpkmHa11dNmFxm+o74T0jZOoZ+rQ3p4zqdPT57TcxIqm80WCgVCSD6fLxQKuK5QFGUymTiOYwAQQgghqqr+a6vLUFWVEEJRFA0gn89fc91zCCE0gOs8GYpQVZX+1w66qRobT9XYeKrGxlM1Np6bZ8xczTCEEEVRVFW1Wq0sy5YTynBjQsjHjx/X1tay2SwAhmF6e3v7+voYpsShqWw2+/Pnz4pK/sfh4eHq6urXr1+Lrjc1NXm9XofDQVGU3pgGGkuSND4+fnx8DMBut3d3d7MsG4lEtra2ANTX14+MjHAcpzesUcaCICwsLCSTSZ7nPR6Py+Wi6d93+ebm5uLiYi6Xc7vdfr9fb2RDaoUkSfPz88lk0mQyvXr1qrOz81wXQFtb25MnTwB8+vQpk8noDV55Y0EQJicnZVnmef7169cPHjy42Ofx48da4+joSG/8CtcKLbuyLGvZ/V9dALW1tVojn8/rHaKSxqIoTk9Py7JssVgu0QWwvr6uNRoaGvSOUjHj09PTlZUVSZI4jhseHm5tbdV2uxfrVyKReP/+PQCHw3H79m29A1VsHsfj8f39fZPJ5PV6W1tb0+l0MBhcW1sr6qYoSjAYzGQyPM/7fL4SBqpYjqPRKCGkqampvb0dwN7eXiQSAUDT9PPnz00mEwBZlicmJiRJYhimv7/fZrOVMFDFcpxIJADYbLaamhoATqfz/v37AMLh8Pfv3wFks9mZmRlJkmpqagKBwNOnT0tY8Mo1liTp27dvZ2dnAMxmM4B0Oq1NX7PZ7PP56urqMpnMxsYGAEEQ4vE4TdMvXrwoqtBXZCwIwtjY2NjY2OfPnwHcu3dP+w7JZFLr0NjY2NLSAmB3dxeA3W73+Xxv3rzp7u4uLbtlGUuStLCwkEqlLBZLc3MzgPb2dqvVmkql3r17d3JyAoCiqDt37gBIp9MAWJZ1u90PHz4sObulG8disfHxcW0RDgQCd+/eBXDr1q2enh4AX758+fDhAwBVVUVRBFBXV1eOYhG6awUhZHl5+fj4mOf5P5cJmqZ7e3tFURRFUct6PB4/ODgAcMlSchXG4XB4f38fgMfjKVKhaXp4eDiXy1ksllQqFQwG0+m01Wp99OhRpXSh15gQEgqFADidTpfLdbEDTdMWi0WW5fn5+VgsxnHcwMBAaXX3b+gzVhQll8sB6Onp+dsNpCjK1NSUKIosy/r9/o6OjnIqw0X0GZ8fjP9t7/Djx4+5uTlRFDmOGxwc7OjoKLMyXERfOKvVqiVMW4GLUBTl7du3giAwDOP3+y/5HcpBX0SWZbUSFo1Gd3Z2/vwokUjMzs5qi/DQ0FDFJ8M5uvd5Z2dno6OjkiSZzeZnz551dXVxHLe+vh4KhTKZDMMwgUCgs7PTIN1SjAFsb28Hg0FFUYqu8zw/MDDgdruNmAznlGKsqurp6enS0tL5VgKA3W5/+fKlzWYzLrsaZe3+FUU5OjoqFAqNjY0l7H9Kw9gzISO4eWebVWPjqRobT9XYeKrGxlM1Np6baWz0/8MK8vtdLO2o9EbAaA8uOY6jKOqav/JGURTDMCzLUtrD1xvEL6lgHVOz/2g5AAAAAElFTkSuQmCC"},b203:function(t,e,a){var i=a("42f9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("f2373af2",i,!0,{sourceMap:!1,shadowMode:!1})},b7a3:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.audio_box[data-v-e1697106]{float:left;overflow:auto;cursor:pointer}.wifi-symbol[data-v-e1697106]{width:20px;height:20px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-webkit-transform:rotate(132deg);transform:rotate(132deg);position:absolute;left:13px;top:6px}.wifi-circle[data-v-e1697106]{border:2px solid #fff;border-radius:50%;position:absolute}.first[data-v-e1697106]{width:5px;height:5px;background:#fff;top:15px;left:15px}.second[data-v-e1697106]{width:15px;height:15px;top:10px;left:10px}.third[data-v-e1697106]{width:24px;height:24px;top:5px;left:5px}.second1[data-v-e1697106]{width:15px;height:15px;top:10px;left:10px;-webkit-animation:fadeInOut-data-v-e1697106 1s .2s infinite;animation:fadeInOut-data-v-e1697106 1s .2s infinite}.third1[data-v-e1697106]{width:24px;height:24px;top:5px;left:5px;-webkit-animation:fadeInOut-data-v-e1697106 1s .4s infinite;animation:fadeInOut-data-v-e1697106 1s .4s infinite}@-webkit-keyframes fadeInOut-data-v-e1697106{0%{opacity:0}to{opacity:1}}@keyframes fadeInOut-data-v-e1697106{0%{opacity:0}to{opacity:1}}.audio_container[data-v-e1697106]{width:140px;height:30px;line-height:30px;background-color:#3291f8;color:#fff;text-align:center;border-radius:10px;position:relative}.no-active-zan[data-v-e1697106]{color:#c7c7c7!important}.covers[data-v-e1697106]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap}.cover[data-v-e1697106],.covers[data-v-e1697106]{display:-webkit-box;display:-ms-flexbox;display:flex}.cover[data-v-e1697106]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:33%;margin:10px 0}[data-v-e1697106] .moment_detail_tab .ant-tabs-bar{margin:0 0 16px;border-bottom:1px solid #e8e8e8;outline:none;background:#fff}.moment_detail_tab[data-v-e1697106]{padding:15px 30px 0 62px}[data-v-e1697106] .moment_detail_tab .ant-tabs-nav .ant-tabs-tab{margin:0}.moment_detail_zan[data-v-e1697106]{position:relative;background:#f7f7f7;color:#6c7a99;padding:5px;padding-left:30px}.moment_detail_zan_icon[data-v-e1697106]{position:absolute;top:18px;left:12px}.moment_detail_zan_name[data-v-e1697106]{margin:0 3px}.moment_detail_list[data-v-e1697106]{background:#f7f7f7;padding:10px 10px 0 0;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;word-break:break-all;position:relative}.moment_detail_list i[data-v-e1697106]{font-style:normal}.moment_detail_list_name[data-v-e1697106]{color:#6c7a99;padding:0 3px;font-weight:700}.moment_detail_list_reply_text[data-v-e1697106]{margin:2px}.moment_detail_list_delbox[data-v-e1697106]{color:#8a8a8a;font-size:14px;cursor:pointer}[data-v-e1697106] .moment_detail_list_delbox.ant-popover-message{padding:4px 0 4px}[data-v-e1697106] .moment_detail_list_delbox p{margin-bottom:0}[data-v-e1697106] .moment_detail_delbox .ant-popover-inner-content{padding:12px 14px 10px}.moment_detail_list p[data-v-e1697106]{margin-bottom:0}.content-msg[data-v-e1697106]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:20px 0 0 0}.title_lh[data-v-e1697106]{line-height:20px!important;margin-top:10px;color:#000}.input_img2[data-v-e1697106]{width:50px;height:50px}.input_text3[data-v-e1697106]{max-width:200px;line-height:16px;font-size:12px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.inp_title[data-v-e1697106],.input_text3[data-v-e1697106]{overflow:hidden;word-break:break-all}.inp_title[data-v-e1697106]{max-width:138px;line-height:25px;margin-top:3px;font-weight:700;color:#000;text-overflow:ellipsis;white-space:nowrap}[data-v-e1697106] .ant-card-bordered{border:0}.tpl-title[data-v-e1697106]{float:left;font-size:16px;vertical-align:top}.content-bd[data-v-e1697106]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px}.custom-info[data-v-e1697106]{padding:20px 20px 0}.custom-info-text[data-v-e1697106]{width:calc(100% - 132px);display:inline-block;height:132px;padding:0 15px}.col[data-v-e1697106]{margin-bottom:5px}.custom-info-box[data-v-e1697106]{margin-top:20px;overflow:hidden;text-align:center}.box[data-v-e1697106]{padding:20px 20px 0;height:115px;width:20%;border:1px solid #e9e9e9;background-color:#f9f9f9;float:left;overflow:auto}.box[data-v-e1697106]:first-child,.box[data-v-e1697106]:nth-child(2),.box[data-v-e1697106]:nth-child(3){border-right:0}.box-first[data-v-e1697106]{font-size:16px}.box-second[data-v-e1697106]{padding:0;margin:0;overflow:hidden}.custom-info-tab[data-v-e1697106]{margin-top:20px}.col2[data-v-e1697106]{overflow:hidden}.half[data-v-e1697106]{width:50%;float:left;line-height:40px;padding:0 20px;border-top:1px solid #e9e9e9}.half-text[data-v-e1697106]{float:right;word-break:break-all;max-width:calc(100% - 120px)}[data-v-e1697106] .ant-tabs-top-content{padding-bottom:0}.time[data-v-e1697106]{border:1px solid #e9e9e9;padding:20px 20px 0}.textArea-btn[data-v-e1697106]{padding:20px 0 10px;overflow:hidden}.upload-file[data-v-e1697106] .ant-upload-picture-card-wrapper{display:inline}.upload-file[data-v-e1697106] .ant-upload.ant-upload-select-picture-card{background-color:#fff;border:0;height:32px}[data-v-e1697106] .ant-upload.ant-upload-select-picture-card>.ant-upload{padding:0}.time-line-title[data-v-e1697106]{background:#f9f9f9;padding:10px;margin-top:5px}.preview-box[data-v-e1697106]{width:104px;height:104px;margin:0 8px 8px 0;padding:8px;border:1px solid #d9d9d9;border-radius:4px;position:relative;float:left}.preview-cover[data-v-e1697106],.preview-cover img[data-v-e1697106]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;position:relative}.preview-cover[data-v-e1697106]:before{z-index:1;width:100%;height:100%;background-color:rgba(0,0,0,.5);content:" "}.preview-cover-icon[data-v-e1697106],.preview-cover[data-v-e1697106]:before{position:absolute;opacity:0;-webkit-transition:all .3s;transition:all .3s}.preview-cover-icon[data-v-e1697106]{top:50%;left:50%;z-index:10;white-space:nowrap;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);cursor:pointer;color:#fff;font-size:18px}.preview-box:hover .preview-cover-icon[data-v-e1697106],.preview-box:hover .preview-cover[data-v-e1697106]:before{opacity:1}[data-v-e1697106] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:58px}.upload-pic[data-v-e1697106] .ant-upload-list-picture-card-container,.upload-pic[data-v-e1697106] .ant-upload-list-picture-card .ant-upload-list-item,.upload-pic[data-v-e1697106] .ant-upload.ant-upload-select-picture-card{width:70px;height:70px}.upload-pic[data-v-e1697106] .ant-upload-select-picture-card i{font-size:32px;color:#999}.upload-pic[data-v-e1697106] .ant-upload-select-picture-card .ant-upload-text{margin-top:8px;color:#666}[data-v-e1697106] .ant-input-group-addon{padding:0}.custom-info-project[data-v-e1697106]{border:1px solid #e9e9e9;background-color:#f9f9f9;margin-top:20px;padding:20px;overflow-x:auto}.ant-steps-dot.ant-steps-small .ant-steps-item-process .ant-steps-item-icon[data-v-e1697106],[data-v-e1697106] .ant-steps-dot .ant-steps-item-process .ant-steps-item-icon{width:8px;height:8px}.ant-steps-dot.ant-steps-small .ant-steps-item-content[data-v-e1697106],[data-v-e1697106] .ant-steps-dot .ant-steps-item-content{width:200px}.ant-steps-dot.ant-steps-small .ant-steps-item-icon[data-v-e1697106],[data-v-e1697106] .ant-steps-dot .ant-steps-item-icon{margin-left:97px}.ant-steps-dot.ant-steps-small .ant-steps-item-tail[data-v-e1697106],[data-v-e1697106] .ant-steps-dot .ant-steps-item-tail{margin:0 0 0 100px}.single-accout-card[data-v-e1697106]::-webkit-scrollbar{width:10px;height:10px}[data-v-e1697106] .ant-steps-item-finish>.ant-steps-item-container>.ant-steps-item-content>.ant-steps-item-title{color:rgba(0,0,0,.85)}[data-v-e1697106] .ant-steps-item-finish>.ant-steps-item-container>.ant-steps-item-content>.ant-steps-item-description{color:rgba(0,0,0,.65)}.time-line-detail[data-v-e1697106]{margin-left:20px}.moment_detail_zan_name[data-v-e1697106]{font-style:normal}.moment_detail_zan_name img[data-v-e1697106]{width:30px;height:30px;border-radius:3px;margin:5px 5px 5px 0}.reply_avatar[data-v-e1697106]{wdith:30px;height:30px;border-radius:3px;margin-top:5px}.flexBox[data-v-e1697106]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.leftBox[data-v-e1697106]{position:relative}.reply-all-box-left[data-v-e1697106]{width:10%;text-align:center;padding-top:23px;background:#f7f7f7}.reply-icon[data-v-e1697106]{width:13px;height:14px}.reply-all-box-right[data-v-e1697106]{width:93%;background:#f7f7f7;padding:0 0 10px 0}.moment_name_box[data-v-e1697106],.reply-all-box[data-v-e1697106]{display:-webkit-box;display:-ms-flexbox;display:flex}.moment_name_box[data-v-e1697106]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.over-width[data-v-e1697106]{width:500px!important;max-height:400px!important;overflow-y:auto!important}.ellipsis-one[data-v-e1697106]{display:inline-block;max-width:1500px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.img-24[data-v-e1697106]{width:24px;height:24px}.img-24[data-v-e1697106],.img-42[data-v-e1697106]{border-radius:4px}.img-42[data-v-e1697106]{width:42px;height:42px}.w-h-500[data-v-e1697106]{max-width:800px;max-height:600px;overflow-y:auto}.fixedBtn[data-v-e1697106]{position:fixed;right:30px;bottom:20%;width:60px;height:60px;line-height:60px;text-align:center;border-radius:50%}.inner-back[data-v-e1697106]{position:absolute;bottom:-50px;left:50%;-webkit-transform:translate(-28px);transform:translate(-28px)}',""])},d1c0:function(t,e,a){"use strict";var i=a("1e63"),n=a.n(i);n.a},e33a:function(t,e,a){"use strict";var i=a("875d"),n=a.n(i);n.a},e4fa:function(t,e,a){var i=a("b7a3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("c32e67ee",i,!0,{sourceMap:!1,shadowMode:!1})},e9ad:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".chat-record[data-v-e1697106] .searchTimeBox{top:59px;right:60px}.chat-record[data-v-e1697106] .ant-tabs-top-content{height:100vh}.chat-record[data-v-e1697106] .ant-tabs-tabpane{height:100%}.chat-record[data-v-e1697106] .ant-tabs-card-content{background-color:#fff;padding-bottom:0!important;margin-top:-17px}.chat-record .content-bd[data-v-e1697106]{height:calc(100% - 40px);background-color:#fff}.chat-record .content-bd .voice-content[data-v-e1697106]{height:100%;padding-right:20px}.chat-record .content-bd .voice-content[data-v-e1697106] .ant-spin-container{height:100%}.chat-record .content-bd .voice-content .chat-info-list[data-v-e1697106]{top:85px;right:0;bottom:0;left:0;position:absolute;padding:0 20px 20px 20px}.chat-record .content-bd .voice-content .user-box[data-v-e1697106]{padding:0 20px;position:absolute;left:0;height:100%;overflow-y:auto;border-right:1px solid #e2e2e2}.chat-record .content-bd .voice-content .content-box[data-v-e1697106]{padding:20px;position:absolute;top:0;right:0;bottom:0}.chat-record .content-bd .msg-box[data-v-e1697106],.chat-record .content-bd .msg-box[data-v-e1697106] .ant-spin-container{height:100%}.chat-record .content-bd .msg-box .user-box[data-v-e1697106]{height:60px;padding:10px}.chat-record .content-bd .msg-box .msg-type-box[data-v-e1697106]{height:40px;text-align:center}.chat-record .content-bd .msg-box .msg-type-box .msg-type[data-v-e1697106]{height:40px;padding:5px 0;line-height:29px;cursor:pointer;border-bottom:1px solid #ececec}.chat-record .content-bd .msg-box .msg-type-box .msg-type.msg-type-active[data-v-e1697106]{cursor:default;color:#1890ff;font-weight:700}.chat-record .content-bd .msg-box .chat-list-box[data-v-e1697106]{top:0;left:0;right:0;bottom:0;position:absolute;overflow-x:hidden;overflow-y:auto}.chat-record .content-bd .msg-box .chat-list-box .chat-list[data-v-e1697106]{padding:10px;height:60px;border-bottom:1px solid #ececec;cursor:pointer!important}.chat-record .content-bd .msg-box .chat-list-box .chat-list[data-v-e1697106]:hover{background-color:#fafafa;border-color:#f5f5f5;cursor:default}.chat-record .content-bd .msg-box .chat-list-box .chat-list.chat-list-active[data-v-e1697106]{color:#fff;background-color:#1890ff;border-color:#1890ff;cursor:default}.chat-record .content-bd .msg-box .chat-list-box .chat-list.chat-list-active .chat-right-content[data-v-e1697106]{color:#fff!important}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-left[data-v-e1697106]{float:left;width:40px;height:40px}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-left .chat-img[data-v-e1697106]{width:40px;height:40px}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right[data-v-e1697106]{float:right;width:calc(100% - 50px);height:40px}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right .chat-right-title[data-v-e1697106]{height:20px;padding-bottom:5px}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right .chat-right-title .chat-name[data-v-e1697106]{float:left;height:20px;font-size:14px;line-height:20px;width:calc(100% - 40px);overflow:hidden}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right .chat-right-title .chat-time[data-v-e1697106]{float:right;font-size:12px;line-height:20px;width:40px;height:20px;overflow:hidden}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right .chat-right-content[data-v-e1697106]{color:#999;width:100%;height:20px;padding-top:5px}.chat-record .content-bd .msg-box .chat-list-box .chat-list .chat-right .chat-right-content span[data-v-e1697106]{font-size:12px;height:15px;line-height:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.chat-record .content-bd .msg-box .chat-info-box[data-v-e1697106]{height:100%}.chat-record .content-bd .msg-box .chat-info-box .chat-info-title[data-v-e1697106]{padding:10px 10px;line-height:33px;height:53px;border-bottom:1px solid #ececec}.chat-record .content-bd .msg-box .chat-info-box .chat-info-title .chat-info-name[data-v-e1697106]{display:inline-block;width:260px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-record .content-bd .msg-box .chat-info-box .chat-info-title .msg-type[data-v-e1697106]{cursor:pointer;text-align:center}.chat-record .content-bd .msg-box .chat-info-box .chat-info-title .msg-type-active[data-v-e1697106]{color:#1890ff;font-weight:700}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list[data-v-e1697106]{top:106px;right:0;bottom:0;left:0;position:absolute;padding:10px;overflow-x:hidden;overflow-y:auto}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .loading-box[data-v-e1697106],.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .nomore-box[data-v-e1697106]{text-align:center;font-size:12px;color:grey;height:24px;display:block}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .time-divider[data-v-e1697106]{font-size:12px;color:grey}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .time-divider[data-v-e1697106] .ant-divider-inner-text{line-height:24px}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .chat-item[data-v-e1697106]{width:100%;display:inline-block;margin:10px 0;float:left}.chat-record .content-bd .msg-box .chat-info-box .chat-info-list .chat-item .chat-item-img[data-v-e1697106]{width:40px;height:40px;float:left}.chat-record .content-bd .content-item[data-v-e1697106]{color:#000;float:left;width:auto;max-width:400px;margin-left:10px;background-color:#e4e7eb;border:1px solid #e4e7eb;border-radius:5px}.chat-record .content-bd[data-v-e1697106] .content /deep/ .wrong-notice{padding:10px}.chat-record .content-bd[data-v-e1697106] .content.content-1{padding:10px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-2{cursor:pointer;border-color:transparent;overflow:hidden}.chat-record .content-bd[data-v-e1697106] .content.content-3{width:160px;height:90px;padding:0;overflow:hidden;position:relative;float:left;cursor:pointer}.chat-record .content-bd[data-v-e1697106] .content.content-3 .media-content{border-radius:5px;display:block;max-width:160px;max-height:90px;margin:0 auto}.chat-record .content-bd[data-v-e1697106] .content.content-3 .media-play-btn{width:40px;height:40px;top:50%;left:50%;background:hsla(0,0%,50.2%,.5);border:2px solid #fff;border-radius:20px;margin-top:-20px;margin-left:-20px;display:block;position:absolute;cursor:pointer}.chat-record .content-bd[data-v-e1697106] .content.content-3 .media-play-btn .play-btn{width:0;height:0;margin-top:8px;margin-left:12.34px;border-top:10px solid transparent;border-right:17.32px solid transparent;border-bottom:10px solid transparent;border-left:17.32px solid #fff;display:block}.chat-record .content-bd[data-v-e1697106] .content.content-3 .video-duration{right:5px;bottom:5px;color:#fff;font-size:12px;line-height:12px;display:inline-block;position:absolute;cursor:pointer}.chat-record .content-bd[data-v-e1697106] .content.content-4{min-width:180px;overflow:hidden;padding:5px}.chat-record .content-bd[data-v-e1697106] .content.content-4 img{max-width:180px;max-height:180px}.chat-record .content-bd[data-v-e1697106] .content.content-4 img:last-child{margin-bottom:0}.chat-record .content-bd[data-v-e1697106] .content.content-4 video{margin-bottom:5px}.chat-record .content-bd[data-v-e1697106] .content.content-4 video:last-child{margin-bottom:0}.chat-record .content-bd[data-v-e1697106] .content.content-4 .media-play-btn{width:40px;height:40px;top:50%;left:50%;background:hsla(0,0%,50.2%,.5);border:2px solid #fff;border-radius:20px;margin-top:-20px;margin-left:-20px;display:block;position:absolute;cursor:pointer}.chat-record .content-bd[data-v-e1697106] .content.content-4 .media-play-btn .play-btn{width:0;height:0;margin-top:8px;margin-left:12.34px;border-top:10px solid transparent;border-right:17.32px solid transparent;border-bottom:10px solid transparent;border-left:17.32px solid #fff;display:block}.chat-record .content-bd[data-v-e1697106] .content.content-5{overflow:hidden}.chat-record .content-bd[data-v-e1697106] .content.content-5 .weapp-content{background-color:#fff;width:250px}.chat-record .content-bd[data-v-e1697106] .content.content-5 .weapp-content .weapp-display-name{padding:10px 10px 5px 10px;font-size:12px;line-height:18px;height:33px}.chat-record .content-bd[data-v-e1697106] .content.content-5 .weapp-content .weapp-title{padding:5px 10px 5px 10px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .content.content-5 .weapp-content .weapp-description{padding:5px 10px 10px 10px;color:#999;font-size:12px;line-height:18px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .content.content-5 .weapp-content .weapp-footer{padding:5px 10px;border-top:1px solid #e4e7eb;color:#999;font-size:12px;line-height:18px;height:28px}.chat-record .content-bd[data-v-e1697106] .content.content-6{cursor:pointer;width:240px;padding:10px}.chat-record .content-bd[data-v-e1697106] .content.content-6 .file-content .file-info{width:176px;height:60px;float:left}.chat-record .content-bd[data-v-e1697106] .content.content-6 .file-content .file-icon{float:right}.chat-record .content-bd[data-v-e1697106] .content .revoke-content{padding:5px}.chat-record .content-bd[data-v-e1697106] .content.content-8 .emotion-content{max-width:200px;height:200px}.chat-record .content-bd[data-v-e1697106] .content.content-9{cursor:pointer}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box{padding:6px 11px;height:32px;cursor:pointer;position:relative}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-symbol{width:10px;height:10px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:rotate(135deg);transform:rotate(135deg);overflow:hidden;position:relative;margin-top:5px;margin-left:5px}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-symbol .voice-circle{border:2px solid #2390ff;border-radius:50%;position:absolute}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-symbol .voice-circle.first{width:20px;height:20px;top:0;left:0}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-symbol .voice-circle.second{width:12px;height:12px;top:4px;left:4px}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-symbol .voice-circle.third{border:none;width:4px;height:4px;background:#2390ff;top:8px;left:8px}.chat-record .content-bd[data-v-e1697106] .content.content-9 .voice-box .voice-time{top:6px;right:15px;bottom:6px;position:absolute;display:inline-block}.chat-record .content-bd[data-v-e1697106] .content.content-10{width:250px}.chat-record .content-bd[data-v-e1697106] .content.content-10 .item-info p{margin:0;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-10 .item-info .url-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.chat-record .content-bd[data-v-e1697106] .content.content-10 .item-info .url-text{float:left;max-width:calc(100% - 74px);word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.chat-record .content-bd[data-v-e1697106] .content.content-10 .item-info .url-img{float:right;width:41px;height:41px}.chat-record .content-bd[data-v-e1697106] .content.content-10 .msg_content_txt{width:100%;border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-11,.chat-record .content-bd[data-v-e1697106] .content.content-12,.chat-record .content-bd[data-v-e1697106] .content.content-18{max-width:60%!important;margin-left:20%!important;float:none!important;background-color:#fff!important;border:1px solid #fff!important}.chat-record .content-bd[data-v-e1697106] .content.content-11 .msg_content_txt,.chat-record .content-bd[data-v-e1697106] .content.content-12 .msg_content_txt,.chat-record .content-bd[data-v-e1697106] .content.content-18 .msg_content_txt{width:100%;font-size:14px;color:#999;margin:0 auto;text-align:center;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-13{width:250px}.chat-record .content-bd[data-v-e1697106] .content.content-13 .item-info p{margin:0;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-13 .item-info .url-title{margin-bottom:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.chat-record .content-bd[data-v-e1697106] .content.content-13 .item-info .url-text{max-width:100%;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.chat-record .content-bd[data-v-e1697106] .content.content-13 .item-info .url-img{float:right;width:41px;height:41px}.chat-record .content-bd[data-v-e1697106] .content.content-13 .item-info .card-title{padding:3px 16px;color:#999;border-top:1px solid #f7f7f7}.chat-record .content-bd[data-v-e1697106] .content.content-13 .msg_content_txt{width:100%;border:1px solid #e9e9e9;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-14 .wrong-notice{padding:8px 11px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;display:inline-block}.chat-record .content-bd[data-v-e1697106] .content.content-15{background-color:#fc644f!important;border:1px solid #fc644f!important;border-radius:6px}.chat-record .content-bd[data-v-e1697106] .content.content-15 .redpacket{width:250px;padding:0 11px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;display:inline-block}.chat-record .content-bd[data-v-e1697106] .content.content-15 .redpacket .redpacket-title{color:#fffacf;padding:15px 0 10px}.chat-record .content-bd[data-v-e1697106] .content.content-15 .redpacket .redpacket-title .redpacket-img{width:36px;margin-right:5px;vertical-align:top}.chat-record .content-bd[data-v-e1697106] .content.content-15 .redpacket .redpacket-title .redpacket-wish{max-width:210px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .content.content-15 .redpacket .redpacket-name{border-top:1px solid #fc7060;padding:5px 0;color:#ffb9ad}.chat-record .content-bd[data-v-e1697106] .content.content-16{background-color:#fff!important;border:1px solid #edeef0!important;width:240px}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-title{padding:10px 13px;font-weight:700}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-table{padding:0 13px}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-table .table-th1{width:140px;height:38px;background-color:#f5f5f5;border:1px solid #d9d9d9;border-bottom:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0 5px;line-height:38px;color:#868686;float:left}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-table .table-th2{width:72px;height:38px;border:1px solid #d9d9d9;border-bottom:0;border-left:0;float:left}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-table .table-th1:nth-last-of-type(2),.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-table .table-th2:last-child{border-bottom:1px solid #d9d9d9}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-footer{float:left;width:100%;margin-top:10px;padding:5px 13px;border-top:1px solid #e9e9e9}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-footer .collect-icon{vertical-align:text-bottom}.chat-record .content-bd[data-v-e1697106] .content.content-16 .collect-footer .collect-desc{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-bd[data-v-e1697106] .content.content-17{background-color:#fff!important;border:1px solid #edeef0!important;width:260px;padding:10px 10px 0 10px}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-title{color:#000}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-time{margin-top:7px;color:#b2b2b2;font-size:12px}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-list{color:#b2b2b2;font-size:12px}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-remarks{color:#b2b2b2;font-size:12px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-footer{margin-top:10px;padding:5px 0;border-top:1px solid #e9e9e9}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-footer .calendar-icon{vertical-align:text-top}.chat-record .content-bd[data-v-e1697106] .content.content-17 .calendar-footer .calendar-desc{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-bd[data-v-e1697106] .content.content-19{cursor:pointer;background-color:#fff!important;border:1px solid #edeef0!important;width:240px}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-title{padding:10px 13px;font-weight:700}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-table{margin:0 13px;padding:0 13px;background-color:#f5f5f5}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-table .table-th1{width:100%;font-size:12px;height:38px;border-bottom:1px solid #d9d9d9;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:38px;color:#000}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-table .table-th1:last-child{border-bottom:0}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-footer{width:100%;margin-top:10px;padding:5px 13px;border-top:1px solid #e9e9e9}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-footer .vote-icon{vertical-align:text-top}.chat-record .content-bd[data-v-e1697106] .content.content-19 .vote-footer .vote-desc{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-bd[data-v-e1697106] .content.content-20{cursor:pointer;width:250px}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info /deep/ p{margin:0;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info .url-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;margin-bottom:10px}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info .url-text{float:left;max-width:calc(100% - 74px);word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info .url-text .doc_title{color:#000;font-size:13px;margin-bottom:5px}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info .url-text .doc_creator{color:#a3a3a3;font-size:12px}.chat-record .content-bd[data-v-e1697106] .content.content-20 .item-info .url-img{float:right;width:36px;height:41px}.chat-record .content-bd[data-v-e1697106] .content.content-20 .msg_content_txt{width:100%;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;word-break:break-word}.chat-record .content-bd[data-v-e1697106] .content.content-21{background-color:#fff!important;border:1px solid #edeef0!important;width:260px}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-title{padding:10px 10px;color:#000;font-weight:700}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-content{margin:0 10px;padding:10px 0;background-color:#f9f9f9}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-content .meeting-time{padding:0 10px;color:#b2b2b2;font-size:12px;margin-bottom:5px}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-content .meeting-list{padding:0 10px;color:#b2b2b2;font-size:12px}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-content .meeting-remarks{padding:0 10px;color:#b2b2b2;font-size:12px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-footer{padding:5px 10px;margin-top:10px;border-top:1px solid #e9e9e9}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-footer .meeting-icon{vertical-align:sub}.chat-record .content-bd[data-v-e1697106] .content.content-21 .meeting-footer .meeting-desc{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:12px}.chat-record .content-bd[data-v-e1697106] .content.content-22{cursor:pointer;width:250px;padding:10px;background-color:#fff!important;border:1px solid #edeef0!important}.chat-record .content-bd[data-v-e1697106] .content.content-22 .chat-record .chat-title{font-size:15px;font-weight:700;margin-bottom:5px}.chat-record .content-bd[data-v-e1697106] .content.content-22 .chat-record .content-item{color:#b2b2b2;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-bd[data-v-e1697106] .self{float:right}.chat-record .content-bd[data-v-e1697106] .self .chat-item-img{float:right!important}.chat-record .content-bd[data-v-e1697106] .self .content{float:right;margin-left:0;margin-right:15px;background-color:#c6e5ff;border-color:#c6e5ff}.chat-record .content-bd[data-v-e1697106] .self .content.content-6 /deep/ .file-content .file-info{float:right}.chat-record .content-bd[data-v-e1697106] .self .content.content-6 /deep/ .file-content .file-icon{float:left}.chat-record .detail .detail-title[data-v-e1697106]{font-weight:700;margin-top:20px}.chat-record .detail .share-username[data-v-e1697106]{display:inline-block;max-width:120px;overflow:hidden;margin:0 10px;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}.chat-record .detail .content-6[data-v-e1697106]{margin:10px 30px}.chat-record .detail .content-6 .file-content[data-v-e1697106]{width:240px;padding:10px;border:1px solid #e2e2e2}.chat-record .detail .content-6 .file-content .file-info[data-v-e1697106]{display:inline-block;width:140px}.chat-record .detail .content-6 .file-content .file-info .file-name[data-v-e1697106]{width:140px;display:block;text-align:right;height:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .detail .content-6 .file-content .file-info .file-size[data-v-e1697106]{text-align:right;display:block;font-size:12px;height:20px;line-height:20px;color:#999}.chat-record .detail .content-6 .file-icon[data-v-e1697106]{margin-right:20px;vertical-align:bottom;display:inline-block}.chat-record .detail .content-9 .voice-box[data-v-e1697106]{padding:6px 11px;height:32px;cursor:pointer;position:relative}.chat-record .detail .content-9 .voice-box .voice-symbol[data-v-e1697106]{width:10px;height:10px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:rotate(135deg);transform:rotate(135deg);overflow:hidden;position:relative;margin-top:5px;margin-left:5px}.chat-record .detail .content-9 .voice-box .voice-symbol .voice-circle[data-v-e1697106]{border:2px solid #2390ff;border-radius:50%;position:absolute}.chat-record .detail .content-9 .voice-box .voice-symbol .voice-circle.first[data-v-e1697106]{width:20px;height:20px;top:0;left:0}.chat-record .detail .content-9 .voice-box .voice-symbol .voice-circle.second[data-v-e1697106]{width:12px;height:12px;top:4px;left:4px}.chat-record .detail .content-9 .voice-box .voice-symbol .voice-circle.third[data-v-e1697106]{border:none;width:4px;height:4px;background:#2390ff;top:8px;left:8px}.chat-record .detail .content-9 .voice-box .voice-time[data-v-e1697106]{top:6px;right:15px;bottom:6px;position:absolute;display:inline-block}.chat-record .content-modal[data-v-e1697106]{width:auto;width:100%;margin-left:10px}.chat-record .content-modal .wrong-notice[data-v-e1697106]{padding:10px}.chat-record .content-modal.content-1[data-v-e1697106]{padding:10px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word}.chat-record .content-modal.content-2[data-v-e1697106]{border-color:transparent;overflow:hidden}.chat-record .content-modal.content-3[data-v-e1697106]{padding:0;overflow:hidden;position:relative}.chat-record .content-modal.content-3 .media-content[data-v-e1697106]{border-radius:5px;display:block;background-color:#000}.chat-record .content-modal.content-3 .media-play-btn[data-v-e1697106]{width:40px;height:40px;top:50%;left:50%;background:hsla(0,0%,50.2%,.5);border:2px solid #fff;border-radius:20px;margin-top:-20px;margin-left:-20px;display:block;position:absolute;cursor:pointer}.chat-record .content-modal.content-3 .media-play-btn .play-btn[data-v-e1697106]{width:0;height:0;margin-top:8px;margin-left:12.34px;border-top:10px solid transparent;border-right:17.32px solid transparent;border-bottom:10px solid transparent;border-left:17.32px solid #fff;display:block}.chat-record .content-modal.content-3 .video-duration[data-v-e1697106]{right:5px;bottom:7px;color:#fff;font-size:12px;line-height:12px;display:inline-block;position:absolute;cursor:pointer}.chat-record .content-modal.content-4 img[data-v-e1697106]{max-width:180px;max-height:180px;margin-bottom:5px}.chat-record .content-modal.content-4 img[data-v-e1697106]:last-child{margin-bottom:0}.chat-record .content-modal.content-4 video[data-v-e1697106]{max-width:170px;margin-bottom:5px}.chat-record .content-modal.content-4 video[data-v-e1697106]:last-child{margin-bottom:0}.chat-record .content-modal.content-4 .media-play-btn[data-v-e1697106]{width:40px;height:40px;top:50%;left:50%;background:hsla(0,0%,50.2%,.5);border:2px solid #fff;border-radius:20px;margin-top:-20px;margin-left:-20px;display:block;position:absolute;cursor:pointer}.chat-record .content-modal.content-4 .media-play-btn .play-btn[data-v-e1697106]{width:0;height:0;margin-top:8px;margin-left:12.34px;border-top:10px solid transparent;border-right:17.32px solid transparent;border-bottom:10px solid transparent;border-left:17.32px solid #fff;display:block}.chat-record .content-modal.content-5 .weapp-content[data-v-e1697106]{background-color:#fff;overflow:hidden;width:250px}.chat-record .content-modal.content-5 .weapp-content .weapp-display-name[data-v-e1697106]{padding:10px 10px 5px 10px;font-size:12px;line-height:18px;height:33px}.chat-record .content-modal.content-5 .weapp-content .weapp-title[data-v-e1697106]{padding:5px 10px 5px 10px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word}.chat-record .content-modal.content-5 .weapp-content .weapp-description[data-v-e1697106]{padding:5px 10px 10px 10px;color:#999;font-size:12px;line-height:18px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word}.chat-record .content-modal.content-5 .weapp-content .weapp-footer[data-v-e1697106]{padding:5px 10px;border-top:1px solid #e4e7eb;color:#999;font-size:12px;line-height:18px;height:28px}.chat-record .content-modal.content-6 .file-content[data-v-e1697106]{padding:10px;border:1px solid #ebebeb;width:300px}.chat-record .content-modal.content-6 .file-content .file-info[data-v-e1697106]{width:220px;height:60px;float:left}.chat-record .content-modal.content-6 .file-content .file-icon[data-v-e1697106]{float:right}.chat-record .content-modal.content-7 .revoke-content[data-v-e1697106]{background-color:rgba(15,15,15,.2);color:#fff;padding:5px}.chat-record .content-modal.content-7 .revoke-content .file-content .file-info[data-v-e1697106]{width:200px;display:inline-block}.chat-record .content-modal.content-7 .revoke-content .file-content .file-info span[data-v-e1697106]{color:#fff!important}.chat-record .content-modal.content-7 .revoke-content .file-content .file-icon[data-v-e1697106]{float:right}.chat-record .content-modal.content-9 .voice-box[data-v-e1697106]{padding:6px 11px;height:32px;cursor:pointer;position:relative}.chat-record .content-modal.content-9 .voice-box .voice-symbol[data-v-e1697106]{width:10px;height:10px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:rotate(135deg);transform:rotate(135deg);overflow:hidden;position:relative;margin-top:5px;margin-left:5px}.chat-record .content-modal.content-9 .voice-box .voice-symbol .voice-circle[data-v-e1697106]{border:2px solid #2390ff;border-radius:50%;position:absolute}.chat-record .content-modal.content-9 .voice-box .voice-symbol .voice-circle.first[data-v-e1697106]{width:20px;height:20px;top:0;left:0}.chat-record .content-modal.content-9 .voice-box .voice-symbol .voice-circle.second[data-v-e1697106]{width:12px;height:12px;top:4px;left:4px}.chat-record .content-modal.content-9 .voice-box .voice-symbol .voice-circle.third[data-v-e1697106]{border:none;width:4px;height:4px;background:#2390ff;top:8px;left:8px}.chat-record .content-modal.content-9 .voice-box .voice-time[data-v-e1697106]{top:6px;right:15px;bottom:6px;position:absolute;display:inline-block}.chat-record .content-modal.content-10 .item-info[data-v-e1697106]{width:250px}.chat-record .content-modal.content-10 .item-info p[data-v-e1697106]{margin:0;word-break:break-word}.chat-record .content-modal.content-10 .item-info .url-title[data-v-e1697106]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.chat-record .content-modal.content-10 .item-info .url-text[data-v-e1697106]{float:left;max-width:calc(100% - 74px);word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.chat-record .content-modal.content-10 .item-info .url-img[data-v-e1697106]{float:right;width:41px;height:41px}.chat-record .content-modal.content-10 .msg_content_txt[data-v-e1697106]{width:250px;border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;word-break:break-word}.chat-record .content-modal.content-11 .msg_content_txt[data-v-e1697106],.chat-record .content-modal.content-12 .msg_content_txt[data-v-e1697106],.chat-record .content-modal.content-18 .msg_content_txt[data-v-e1697106]{width:100%;font-size:14px;color:#999;margin:0 auto;text-align:center;word-break:break-word}.chat-record .content-modal.content-13 .item-info[data-v-e1697106]{width:250px}.chat-record .content-modal.content-13 .item-info p[data-v-e1697106]{margin:0;word-break:break-word}.chat-record .content-modal.content-13 .item-info .url-title[data-v-e1697106]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.chat-record .content-modal.content-13 .item-info .url-text[data-v-e1697106]{max-width:100%;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.chat-record .content-modal.content-13 .item-info .url-img[data-v-e1697106]{float:right;width:41px;height:41px}.chat-record .content-modal.content-13 .item-info .card-title[data-v-e1697106]{padding:3px 16px;color:#999;border-top:1px solid #f7f7f7}.chat-record .content-modal.content-13 .msg_content_txt[data-v-e1697106]{width:250px;border:1px solid #e9e9e9;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;word-break:break-word}.chat-record .content-modal.content-14 .wrong-notice[data-v-e1697106]{padding:8px 11px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;display:inline-block}.chat-record .content-modal.content-15 .redpacket[data-v-e1697106]{width:250px;padding:0 11px;word-break:normal;word-wrap:break-word;overflow-wrap:break-word;display:inline-block}.chat-record .content-modal.content-15 .redpacket .redpacket-title[data-v-e1697106]{color:#fffacf;padding:15px 0 10px}.chat-record .content-modal.content-15 .redpacket .redpacket-title .redpacket-img[data-v-e1697106]{width:46px;height:45px;vertical-align:top}.chat-record .content-modal.content-15 .redpacket .redpacket-title .redpacket-wish[data-v-e1697106]{max-width:210px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-modal.content-15 .redpacket .redpacket-name[data-v-e1697106]{border-top:1px solid #fc7060;padding:5px 0;color:#ffb9ad}.chat-record .content-modal.content-16 .collect-title[data-v-e1697106]{padding:10px 13px;font-weight:700;width:240px}.chat-record .content-modal.content-16 .collect-table[data-v-e1697106]{width:240px;padding:0 13px}.chat-record .content-modal.content-16 .collect-table .table-th1[data-v-e1697106]{width:140px;height:38px;background-color:#f5f5f5;border:1px solid #d9d9d9;border-bottom:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0 5px;line-height:38px;color:#868686;float:left}.chat-record .content-modal.content-16 .collect-table .table-th2[data-v-e1697106]{width:72px;height:38px;border:1px solid #d9d9d9;border-bottom:0;border-left:0;float:left}.chat-record .content-modal.content-16 .collect-table .table-th1[data-v-e1697106]:nth-last-of-type(2),.chat-record .content-modal.content-16 .collect-table .table-th2[data-v-e1697106]:last-child{border-bottom:1px solid #d9d9d9}.chat-record .content-modal.content-16 .collect-footer[data-v-e1697106]{width:240px;float:left;margin-top:10px;padding:5px 13px;border-top:1px solid #e9e9e9}.chat-record .content-modal.content-16 .collect-footer .collect-icon[data-v-e1697106]{vertical-align:text-bottom}.chat-record .content-modal.content-16 .collect-footer .collect-desc[data-v-e1697106]{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-modal.content-17 .calendar-title[data-v-e1697106]{width:260px;color:#000}.chat-record .content-modal.content-17 .calendar-time[data-v-e1697106]{width:260px;margin-top:7px;color:#b2b2b2;font-size:12px}.chat-record .content-modal.content-17 .calendar-list[data-v-e1697106]{width:260px;color:#b2b2b2;font-size:12px}.chat-record .content-modal.content-17 .calendar-remarks[data-v-e1697106]{width:260px;color:#b2b2b2;font-size:12px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-modal.content-17 .calendar-footer[data-v-e1697106]{width:260px;margin-top:10px;padding:5px 0;border-top:1px solid #e9e9e9}.chat-record .content-modal.content-17 .calendar-footer .calendar-icon[data-v-e1697106]{vertical-align:text-top}.chat-record .content-modal.content-17 .calendar-footer .calendar-desc[data-v-e1697106]{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-modal.content-19 .vote-title[data-v-e1697106]{width:240px;padding:10px 13px;font-weight:700}.chat-record .content-modal.content-19 .vote-table[data-v-e1697106]{width:240px;margin:0 13px;padding:0 13px;background-color:#f5f5f5}.chat-record .content-modal.content-19 .vote-table .table-th1[data-v-e1697106]{width:100%;font-size:12px;height:38px;border-bottom:1px solid #d9d9d9;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:38px;color:#000}.chat-record .content-modal.content-19 .vote-table .table-th1[data-v-e1697106]:last-child{border-bottom:0}.chat-record .content-modal.content-19 .vote-footer[data-v-e1697106]{width:240px;margin-top:10px;padding:5px 13px;border-top:1px solid #e9e9e9}.chat-record .content-modal.content-19 .vote-footer .vote-icon[data-v-e1697106]{vertical-align:text-top}.chat-record .content-modal.content-19 .vote-footer .vote-desc[data-v-e1697106]{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:13px}.chat-record .content-modal.content-20 .item-info[data-v-e1697106]{width:250px}.chat-record .content-modal.content-20 .item-info p[data-v-e1697106]{margin:0;word-break:break-word}.chat-record .content-modal.content-20 .item-info .url-title[data-v-e1697106]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;margin-bottom:10px}.chat-record .content-modal.content-20 .item-info .url-text[data-v-e1697106]{float:left;max-width:calc(100% - 74px);word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.chat-record .content-modal.content-20 .item-info .url-text .doc_title[data-v-e1697106]{color:#000;font-size:13px;margin-bottom:5px}.chat-record .content-modal.content-20 .item-info .url-text .doc_creator[data-v-e1697106]{color:#a3a3a3;font-size:12px}.chat-record .content-modal.content-20 .item-info .url-img[data-v-e1697106]{float:right;width:36px;height:41px}.chat-record .content-modal.content-20 .msg_content_txt[data-v-e1697106]{width:250px;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;word-break:break-word}.chat-record .content-modal.content-21 .meeting-title[data-v-e1697106]{width:260px;padding:10px 10px;color:#000;font-weight:700}.chat-record .content-modal.content-21 .meeting-content[data-v-e1697106]{width:260px;margin:0 10px;padding:10px 0;background-color:#f9f9f9}.chat-record .content-modal.content-21 .meeting-content .meeting-time[data-v-e1697106]{padding:0 10px;color:#b2b2b2;font-size:12px;margin-bottom:5px}.chat-record .content-modal.content-21 .meeting-content .meeting-list[data-v-e1697106]{padding:0 10px;color:#b2b2b2;font-size:12px}.chat-record .content-modal.content-21 .meeting-content .meeting-remarks[data-v-e1697106]{padding:0 10px;color:#b2b2b2;font-size:12px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-record .content-modal.content-21 .meeting-footer[data-v-e1697106]{width:260px;padding:5px 10px;margin-top:10px;border-top:1px solid #e9e9e9}.chat-record .content-modal.content-21 .meeting-footer .meeting-icon[data-v-e1697106]{vertical-align:sub}.chat-record .content-modal.content-21 .meeting-footer .meeting-desc[data-v-e1697106]{display:inline-block;vertical-align:text-top;color:#898989;margin-left:5px;font-size:12px}.chat-record .content-modal.content-22 .chat-record .chat-title[data-v-e1697106]{font-size:14px;font-weight:700;margin-bottom:5px}.chat-record .content-modal.content-22 .chat-record .content-item[data-v-e1697106]{width:100%}.chat-record .chat-user-item[data-v-e1697106]:hover{background-color:#e6e8eb}",""])},ea10:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[i("div",[i("a-card",{staticStyle:{"margin-bottom":"20px",padding:"10px 20px"}},[i("label",{staticClass:"tpl-title",attrs:{id:"time-line"}},[t._v("客户详情")]),i("a-button",{staticStyle:{"font-size":"14px",float:"right"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("返回列表\n\t\t\t\t")])],1),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.yhIsLoading}},[i("div",{staticClass:"custom-info"},[i("a-avatar",{staticStyle:{"vertical-align":"top"},attrs:{shape:"square",size:132,src:t.avatar}}),i("div",{staticClass:"custom-info-text"},[i("div",{staticClass:"col"},[i("span",{staticStyle:{"font-size":"20px","font-weight":"700"}},[t._v(t._s(t.name)+"\n\t\t\t\t\t\t\t\t\t"),""!=t.corp_name?i("span",{class:null!=t.corp_name?"corp-name":"wx-name"},[null!=t.corp_name?[t._v("@"+t._s(t.corp_name))]:[t._v("@微信")]],2):t._e(),t.remarkVisible||""==t.nickname?t._e():i("span",[t._v("（"+t._s(t.nickname)+"）")]),"男性"==t.gender?i("a-icon",{staticStyle:{color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),"女性"==t.gender?i("a-icon",{staticStyle:{color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1),t.remarkVisible?t._e():i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.modifyRemark}}),t.remarkVisible?i("a-input-search",{staticStyle:{width:"260px","margin-left":"10px"},attrs:{placeholder:"输入用户的备注",maxLength:10},on:{search:t.setRemark},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.nickname.length))]),t._v("/10\n                                    ")]),i("a-button",{attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[i("a-icon",{attrs:{type:"check"}})],1)],1):t._e(),t.followTitle?i("a-tag",{staticStyle:{float:"right","margin-right":"0",height:"25px","line-height":"25px"},attrs:{color:"#67c23a"}},[t._v(t._s(t.followTitle)+"\n\t\t\t\t\t\t\t\t")]):t._e()],1),i("div",{staticClass:"col"},[1!=t.is_hide_phone?i("label",[t._v("\n\t\t\t\t\t\t\t\t\t手机："),t.phone&&""!=t.phone?i("span",[t._v(t._s(t.phone))]):i("span",[t._v("暂无")])]):t._e(),t.dialout_exten&&t.dialout_phone?i("span",{staticStyle:{margin:"0 1rem"}},[i("a-button",{attrs:{type:"primary"},on:{click:t.contact}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t联系TA\n\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),t.dialout_exten&&t.dialout_phone?i("span",[i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("p",[t._v("根据相关法律法规和监管部门的要求，拨打商业性电话前请您阅读并严格遵守以下内容：")]),i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t1、禁止在非工作时间拨打商业性电话，具体可外呼时间段请咨询您所在企业管理员或线路服务商；")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t2、禁止对同一号码在24小时内发起多次呼叫，同一号码可被外呼频次请咨询您所在企业管理员或在用线路服务商；")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("3、拨打商业性营销电话须事先经过用户本人同意，运营商可能会拦截对已申明不愿意接受商业性电话的用户外呼请求；")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"0","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t4、禁止使用云呼叫功能开展分裂国家、传播宗教极端思想、煽动民族仇恨、破坏民族团结、扰乱社会秩序、传播封建迷信、诈骗等活动或其他违反国家法律法规、违背社会公序良俗的活动。")])]),i("a-icon",{attrs:{type:"question-circle"}})],2)],1):t._e()]),i("div",{staticClass:"col"},[i("label",[t._v("\n\t\t\t\t\t\t\t\t\t所在地："),t.area&&""!=t.area?i("span",[t._v(t._s(t.area))]):i("span",[t._v("暂无")])])]),i("div",{staticClass:"col"},[i("span",[i("label",[t._v("标签：")]),i("span",{staticStyle:{display:"inline-block",width:"calc(100% - 45px)","vertical-align":"text-top"}},[0==t.hasTagsValue.length?i("span",[t._v("暂无")]):t._e(),t.hasTagsValue&&t.hasTagsValue.length>5?i("span",[i("a-popover",[i("span",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"over-width"},t._l(t.hasTagsValue,(function(e){return i("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1)]),t._l(t.hasTagsValue,(function(e,a){return i("span",[a<5?i("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))]):t._e()],1)}))],2),i("span",[t._v("等"+t._s(t.hasTagsValue.length)+"个标签")])],1):t._e(),t.hasTagsValue&&t.hasTagsValue.length<=5?i("span",t._l(t.hasTagsValue,(function(e){return i("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))])})),1):t._e(),t.isShowTag?i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"edit"},on:{click:t.showModal}}):t._e()],1)])]),i("div",{staticClass:"col"},[i("span",[i("label",[t._v("描述：")]),t.des&&""!=t.des?i("span",[t._v(t._s(t.des))]):t._e(),""==t.des?i("span",[t._v("暂无")]):t._e(),t.file3?i("img",{staticStyle:{"max-width":"100px","max-height":"100px",margin:"0 0 10px 10px"},attrs:{src:this.commonUrl+t.file3,alt:"avatar"}}):t._e()]),i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.showDesVisible}}),i("a-modal",{attrs:{title:"修改描述",visible:t.desVisible},on:{cancel:t.desVisibleCancel,ok:t.setDetail}},[i("div",{staticClass:"textArea"},[i("a-textarea",{attrs:{placeholder:"请输入用户的描述，150字以内",autoSize:{minRows:4,maxRows:4},maxLength:150},on:{change:t.changeTextarea},model:{value:t.desText,callback:function(e){t.desText=e},expression:"desText"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.desText.length)+"/150\n\t\t\t\t\t\t\t\t\t\t")])],1)])],1)]),i("div",{staticClass:"custom-info-box"},[i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("预计成交率")]),i("p",{staticClass:"box-second"},[t.closeRateVisible||null===t.close_rate?t._e():i("span",[t._v(t._s(t.close_rate)+" %")]),t.closeRateVisible||null!==t.close_rate?t._e():i("span",[t._v("暂无")]),t.closeRateVisible?t._e():i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.modifyCloseRate}}),t.closeRateVisible?i("a-input-search",{staticStyle:{width:"200px"},attrs:{defaultValue:t.close_rate,placeholder:"输入预计成交率",maxLength:10},on:{search:t.setCloseRate}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")]),i("a-button",{attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[i("a-icon",{attrs:{type:"check"}})],1)],1):t._e()],1)]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("所在群"),t.chatName.length>2?i("span",[t._v("（"+t._s(t.chatName.length)+"个）")]):t._e()]),t._l(t.chatName,(function(e){return t.chatName&&t.chatName.length>0?i("p",{staticClass:"box-second"},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("span",{staticStyle:{"max-width":"300px","text-overflow":"ellipsis",overflow:"hidden auto"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"（"+t._s(e.join_time)+"）\n\t\t\t\t\t\t\t\t\t\t\t")])]),i("span",{staticStyle:{cursor:"pointer",display:"inline-block","max-width":"180px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v(t._s(e.name)+"（"+t._s(e.join_time)+"）")])],2)],1):t._e()})),t.chatName&&0!=t.chatName.length?t._e():i("p",{staticClass:"box-second"},[t._v("暂无")])],2),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("上次联系")]),i("p",{staticClass:"box-second"},[t.follow_time&&""!=t.follow_time?i("span",[t._v(t._s(t.follow_time))]):i("span",[t._v("暂无")])])]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("联系次数")]),i("p",{staticClass:"box-second"},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("span",{staticStyle:{"max-height":"300px","overflow-y":"auto"}},t._l(t.follow_times,(function(e){return i("span",[t._v(t._s(e.name)+"："+t._s(e.follow_num)+"次\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),0)]),t.follow_num&&""!=t.follow_num?i("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.follow_num))]):t._e()],2),""==t.follow_num||null==t.follow_num?i("span",[t._v("暂无")]):t._e()],1)]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("归属企业成员")]),t._l(t.memberInfo,(function(e){return t.memberInfo&&t.memberInfo.length>0?i("p",{staticClass:"box-second"},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.member)+"("+t._s(e.create_time)+")\n\t\t\t\t\t\t\t\t\t\t")]),i("span",{staticStyle:{display:"inline-block","max-width":"250px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden",cursor:"pointer"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.member)+"("+t._s(e.create_time)+")\n\t\t\t\t\t\t\t\t\t\t")])],2)],1):i("p",[t._v("暂无")])}))],2)]),t.projectList.length>0?i("div",{staticClass:"custom-info-project single-accout-card"},[i("a-steps",{attrs:{"progress-dot":"",current:t.projectList.length-1}},t._l(t.projectList,(function(e){return i("a-step",[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.project_name)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{attrs:{slot:"description"},slot:"description"},[3==e.status?i("div",[t._v("项目实际完成："+t._s(e.finish_time)+"\n\t\t\t\t\t\t\t\t\t\t\t"),1==e.is_finish?i("span",[t._v("（按时完成）")]):t._e(),2==e.is_finish?i("span",{staticStyle:{color:"red"}},[t._v("（逾期"+t._s(e.delay_days)+"天完成）")]):t._e(),3==e.is_finish?i("span",[t._v("（提前"+t._s(e.pre_days)+"天完成）")]):t._e()]):t._e(),1!=e.status?i("div",[t._v("项目开始时间："+t._s(e.start_time))]):t._e(),1!=e.status?i("div",[t._v("预计截止时间："+t._s(e.end_time))]):t._e(),1==e.status?i("div",[t._v("项目规则：接到任务起，需要在"+t._s(e.days)+"天内完成")]):t._e(),i("div",[t._v("项目处理人："+t._s(e.name))])])],2)})),1)],1):t._e(),i("div",{staticClass:"custom-info-tab"},[i("a-tabs",{attrs:{type:"card"},on:{change:t.changeTab},model:{value:t.tabKeyAll,callback:function(e){t.tabKeyAll=e},expression:"tabKeyAll"}},[i("a-tab-pane",{key:"1",attrs:{tab:"跟进记录"}},[i("div",{staticClass:"time"},[i("div",{directives:[{name:"has",rawName:"v-has",value:"client-addFollow",expression:"'client-addFollow'"}]},[i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t跟进状态：\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},on:{change:t.changeState},model:{value:t.follow_id,callback:function(e){t.follow_id=e},expression:"follow_id"}},t._l(t.follows,(function(e){return i("a-select-option",{attrs:{disabled:1!=t.canEdit,value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1),1==t.followItem.lose_one?i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t输单原因：\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择输单原因"},on:{change:t.changeLose},model:{value:t.lose,callback:function(e){t.lose=e},expression:"lose"}},t._l(t.loseReason,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.context)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1):t._e(),i("div",{staticClass:"textArea"},[1!=t.followItem.lose_one?i("span",{staticStyle:{color:"red",display:"inline-block",width:"2%","margin-bottom":"7%"}},[t._v(" * ")]):t._e(),i("a-textarea",{staticStyle:{display:"inline-block",width:"95%"},attrs:{placeholder:"添加跟进记录，1000字以内",autoSize:{minRows:5,maxRows:5},maxLength:1e3},on:{change:t.changeTextarea},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.msg.length)+"/1000\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"textArea-btn"},[i("a-upload",{staticClass:"upload-file",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",beforeUpload:t.beforeUpload,fileList:t.imageUrl},on:{preview:t.handlePreview,change:function(e){return t.changeMsg(e)}}},[t.imageUrl.length<9?i("div",[i("a-button",{attrs:{disabled:t.imageUrlDisabled}},[i("a-icon",{attrs:{type:"link"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t图片 "+t._s(t.imgNum)+"/9\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)],1):t._e()]),i("a-button",{staticStyle:{left:"50%",width:"110px"},attrs:{type:"primary",disabled:t.submitDisabled},on:{click:t.submitFollowRecord}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t提交\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]),i("a-timeline",{staticClass:"time-line"},t._l(t.followRecord,(function(e,n){return i("a-timeline-item",[i("div",{staticClass:"time-line-time"},[t._v(t._s(e.time))]),1!=e.record_type?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("ff27")},slot:"dot"}):t._e(),1==e.record_type?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("df74")},slot:"dot"}):t._e(),1!=e.record_type?i("div",[i("div",{staticStyle:{margin:"10px 0"}},[i("span",{staticStyle:{color:"#1989FA"}},[t._v(t._s(e.name))]),t._v(" 发表：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),""!=e.follow_status?i("span",{staticStyle:{color:"red"}},[t._v("【"+t._s(e.follow_status)+"】")]):t._e(),i("span",{staticStyle:{float:"right"}},[1==e.can_edit?i("a-icon",{directives:[{name:"has",rawName:"v-has",value:"client-addFollow",expression:"'client-addFollow'"}],attrs:{type:"edit"},on:{click:function(a){return t.editFollowRecord(e)}}}):t._e()],1)]),i("div",{staticClass:"time-line-title"},[e.context?i("p",{staticStyle:{color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t输单原因："+t._s(e.context))]):t._e(),i("p",[t._v(t._s(e.record))]),e.file.length>0?i("div",{staticStyle:{"margin-top":"5px",overflow:"hidden"}},t._l(e.file,(function(e){return i("div",{staticClass:"preview-box"},[i("div",{staticClass:"preview-cover"},[i("img",{attrs:{src:t.commonUrl+e,alt:""}})]),i("span",{staticClass:"preview-cover-icon",on:{click:function(a){return t.previewHasImg(t.commonUrl+e)}}},[i("a-icon",{attrs:{type:"eye"}})],1)])})),0):t._e()])]):t._e(),1==e.record_type?i("div",[i("div",{staticStyle:{margin:"10px 0"}},[i("span",{staticStyle:{color:"#1989FA"}},[t._v(t._s(e.name))]),i("span",{staticStyle:{color:"red"}},[t._v("【打电话】")]),i("span",[t._v("联系了他")])]),0==e.call_info.state?i("div",{staticStyle:{color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.call_info.msg)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),1==e.call_info.state?i("div",{staticClass:"audio"},[i("div",{staticClass:"audio_container"},[i("div",{staticClass:"audio"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.clickIndex!=n,expression:"clickIndex != index"}],staticClass:"audio_box",staticStyle:{float:"left"},on:{click:function(e){return t.playMusic(n,!0)}}},[i("div",{staticClass:"wifi-symbol"},[i("div",{staticClass:"wifi-circle first"}),i("div",{staticClass:"wifi-circle second"}),i("div",{staticClass:"wifi-circle third"})]),i("audio",{attrs:{name:n,"data-index":n},on:{canplay:t.oncanplay}},[i("source",{attrs:{src:e.call_info.file,type:"audio/mpeg"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.clickIndex==n,expression:"clickIndex == index"}],staticClass:"audio_box",staticStyle:{float:"left"},on:{click:function(e){return t.playMusic(n,!1)}}},[i("div",{staticClass:"wifi-symbol"},[i("div",{staticClass:"wifi-circle first"}),i("div",{staticClass:"wifi-circle second1"}),i("div",{staticClass:"wifi-circle third1"})])]),i("span",[t._v(t._s(t._f("dateFormat")(t.playTime[n])))])])])]):t._e()]):t._e()])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px 0","box-sizing":"border-box",overflow:"hidden"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)]),i("a-modal",{attrs:{title:"修改跟进记录",width:"800px","ok-button-props":{props:{disabled:t.followRecordDisabled}}},on:{ok:t.submitFollowRecord,cancel:t.cancelFollowRecord},model:{value:t.editVisible,callback:function(e){t.editVisible=e},expression:"editVisible"}},[i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t跟进状态：\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},on:{change:t.changeState1},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.follows,(function(e){return i("a-select-option",{attrs:{value:e.id,disabled:1!=t.canEdit}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1),1==t.followItem.lose_one?i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t输单原因：\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择输单原因"},model:{value:t.followItem.lose_id,callback:function(e){t.$set(t.followItem,"lose_id",e)},expression:"followItem.lose_id"}},t._l(t.loseReason,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.context)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1):t._e(),i("div",{staticClass:"textArea"},[1!=t.followItem.lose_one?i("span",{staticStyle:{color:"red",display:"inline-block",width:"2%","margin-bottom":"12%"}},[t._v(" * ")]):t._e(),i("a-textarea",{staticStyle:{display:"inline-block",width:"95%"},attrs:{placeholder:"添加跟进记录，1000字以内",autoSize:{minRows:5,maxRows:5},maxLength:1e3},model:{value:t.msg2,callback:function(e){t.msg2=e},expression:"msg2"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.msg2.length)+"/1000\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"textArea-btn"},[i("a-upload",{staticClass:"upload-file",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",beforeUpload:t.beforeUpload2,fileList:t.imageUrl2},on:{preview:t.handlePreview2,change:function(e){return t.changeMsg2(e)}}},[t.imageUrl2.length<9?i("div",[i("a-button",{attrs:{disabled:t.imageUrlDisabled2}},[i("a-icon",{attrs:{type:"link"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t图片 "+t._s(t.imgNum2)+"/9\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)],1):t._e()]),i("a-modal",{attrs:{visible:t.previewVisible2,footer:null,bodyStyle:{padding:"15px 40px"}},on:{cancel:t.handleCancel2}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage2}})])],1)])],1)]),i("a-tab-pane",{key:"2",attrs:{tab:"互动轨迹"}},[i("a-timeline",{staticClass:"time-line",staticStyle:{margin:"20px"}},[t.interactList.length>15?i("a-button",{staticClass:"ml-10 mb-10 fixedBtn",on:{click:t.backTop}},[i("a-icon",{attrs:{type:"arrow-up"}}),i("div",{staticClass:"inner-back"},[t._v("返回顶部")])],1):t._e(),t._l(t.interactList,(function(e){return i("a-timeline-item",[e.content.info?t._e():i("div",[13==e.icon?i("a-icon",{attrs:{slot:"dot",type:"pay-circle"},slot:"dot"}):t._e(),i("div",{staticStyle:{"min-height":"40px"}},[i("div",{staticClass:"time-line-time"},[t._v(t._s(e.event_time))]),i("div",{staticClass:"time-line-title"},[t._v(t._s(e.content)),20==e.icon?i("a",{staticClass:"time-line-detail",on:{click:function(a){return t.toTimeLineDetail(e)}}},[t._v("详情")]):t._e()])])],1),e.content.info?i("div",[13==e.icon?i("a-icon",{attrs:{slot:"dot",type:"pay-circle"},slot:"dot"}):t._e(),i("div",{staticStyle:{"min-height":"40px"}},[i("div",{staticClass:"time-line-time"},[t._v(t._s(e.event_time))]),i("div",{staticClass:"time-line-title flex items-center"},[i("span",[t._v(t._s(e.content.remark)+"：")]),i("a-popover",[i("span",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"w-h-500"},t._l(e.content.info,(function(a,n){return i("span",["image"==a.key?i("span",[t._v("\n                                            "+t._s(a.title)+":\n                                             "),null==a.old_value||a.old_value.length<=0?i("span",[t._v("\n                                                （暂无\n                                              ")]):i("span",[t._v("\n                                                （"),t._l(a.old_value,(function(e,a){return i("span",{staticClass:"ml-5"},[i("img",{staticClass:"img-42",attrs:{src:t.commonUrl+e.url}})])}))],2),i("span",[t._v(" ---\x3e ")]),null==a.value||a.value.length<=0?i("span",[t._v("\n                                                暂无　）\n                                              ")]):i("span",[t._l(a.value,(function(e,a){return i("span",{staticClass:"ml-5"},[i("img",{staticClass:"img-42",attrs:{src:t.commonUrl+e.url}})])})),t._v("\n                                                ）\n                                              ")],2)]):i("span",[t._v(t._s(a.title)+":（"+t._s(""==a.old_value?"暂无":a.old_value)+" ---\x3e "+t._s(""==a.value?"暂无":a.value)+"）")]),e.content.info.length!==n+1?i("span",[t._v("、")]):t._e()])})),0)]),i("span",{staticClass:"ellipsis-one"},t._l(e.content.info,(function(a,n){return i("span",["image"==a.key?i("span",[t._v("\n                                            "+t._s(a.title)+":\n                                            "),null==a.old_value||a.old_value.length<=0?i("span",[t._v("\n                                               （暂无\n                                              ")]):i("span",[t._v("\n                                                   （"),t._l(a.old_value,(function(e,a){return i("span",{staticClass:"ml-5"},[i("img",{staticClass:"img-24",attrs:{src:t.commonUrl+e.url}})])}))],2),i("span",[t._v(" ---\x3e ")]),null==a.value||a.value.length<=0?i("span",[t._v("\n                                                暂无）\n                                              ")]):i("span",[t._l(a.value,(function(e,a){return i("span",{staticClass:"ml-5"},[i("img",{staticClass:"img-24",attrs:{src:t.commonUrl+e.url}})])})),t._v("\n                                                ）\n                                              ")],2)]):i("span",[t._v(t._s(a.title)+":（"+t._s(""==a.old_value?"暂无":a.old_value)+" ---\x3e "+t._s(""==a.value?"暂无":a.value)+"）")]),e.content.info.length!==n+1?i("span",[t._v("、")]):t._e()])})),0)]),20==e.icon?i("a",{staticClass:"time-line-detail",on:{click:function(a){return t.toTimeLineDetail(e)}}},[t._v("详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)])],1):t._e()])}))],2),i("div",{staticStyle:{"text-align":"center"}},[1==t.btnFlag?i("a-button",{attrs:{type:"primary"},on:{click:t.loadMore}},[t._v("加载更多")]):t._e(),2==t.btnFlag?i("div",{staticStyle:{"padding-left":"20px"}},[t._v("没有更多数据了")]):t._e()],1)],1),i("a-tab-pane",{key:"3",attrs:{tab:"用户画像"}},[i("div",{staticStyle:{overflow:"hidden","margin-bottom":"10px"}},[i("div",{directives:[{name:"has",rawName:"v-has",value:"client-editInfo",expression:"'client-editInfo'"}],staticStyle:{float:"right"}},[t.badicInfoVisible?t._e():i("a-button",{attrs:{type:"primary"},on:{click:t.editBadicInfo}},[t._v("编辑\n\t\t\t\t\t\t\t\t\t\t\t")]),t.badicInfoVisible?i("a-button",{staticStyle:{"margin-right":"15px"},on:{click:t.cancleBadicInfo}},[t._v("取消\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),t.badicInfoVisible?i("a-button",{attrs:{type:"primary"},on:{click:t.submitBadicInfo}},[t._v("提交\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)]),i("div",{staticClass:"col2"},t._l(t.field_list,(function(e,a){return"phone"==e.key&&1!=t.is_hide_phone||"phone"!=e.key?i("div",{staticClass:"half"},[i("a-tag",{attrs:{color:"#1890FF"}},[t._v(t._s(e.title))]),t.badicInfoVisible||""==e.value||8==e.type||"phone"==e.key||"company"==e.key?t._e():i("span",{staticClass:"half-text"},[t._v(t._s(e.value))]),t.badicInfoVisible||"phone"!=e.key?t._e():i("span",{staticClass:"half-text"},[""!=t.phone?i("span",[t._v(t._s(t.phone))]):t._e(),""==t.phone?i("span",[t._v("暂无")]):t._e()]),t.badicInfoVisible||"company"!=e.key?t._e():i("span",{staticClass:"half-text"},[""!=t.company?i("span",[t._v(t._s(t.company))]):t._e(),""==t.company?i("span",[t._v("暂无")]):t._e()]),t.badicInfoVisible||0==e.value.length||8!=e.type?t._e():i("span",{staticClass:"half-text"},t._l(e.value,(function(e){return i("img",{staticStyle:{"max-width":"70px","max-height":"70px",margin:"2px","line-height":"0px",cursor:"pointer"},attrs:{src:t.commonUrl+e.url},on:{click:function(a){return t.preview(t.commonUrl+e.url)}}})})),0),t.badicInfoVisible||""!=e.value&&0!=e.value.length||"phone"==e.key||"company"==e.key?t._e():i("span",{staticClass:"half-text"},[t._v("暂无")]),t.badicInfoVisible?[2==e.type?i("a-select",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:e.hasOption,placeholder:"请选择"+e.title,allowClear:""},on:{change:function(a){return t.handleChange(a,e.fieldid)}}},t._l(e.optionVal2,(function(e){return i("a-select-option",{attrs:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),3==e.type?i("a-select",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{mode:"multiple",defaultValue:e.hasOption,placeholder:"请选择"+e.title},on:{change:function(a){return t.handleChange2(a,e.fieldid)}}},t._l(e.optionVal2,(function(e){return i("a-select-option",{attrs:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),8==e.type?i("span",{staticClass:"clearfix",staticStyle:{width:"35%",float:"right","margin-top":"4px","line-height":"0px"}},[i("a-upload",{staticClass:"upload-pic",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card",fileList:e.picUrl||[],beforeUpload:t.beforeUploadPic},on:{preview:t.handlePreview,change:function(e){return t.handleChangePic(e,a)}}},[i("div",[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text",staticStyle:{"font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t上传图片\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)])],1):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"phone"!=e.key&&"company"!=e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:e.value,placeholder:"请输入"+e.title},on:{change:function(a){return t.changeInput(a.target.value,e.fieldid)}}}):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"phone"==e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:t.phone2,placeholder:"请输入手机号"},on:{change:function(a){return t.changeSpecialInput(a.target.value,e.key)}}}):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"company"==e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:t.company2,maxLength:60,placeholder:"请输入公司"},on:{change:function(a){return t.changeSpecialInput(a.target.value,e.key)}}}):t._e(),7==e.type?i("a-cascader",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{options:t.cityData,defaultValue:e.provice,placeholder:"请选择"+e.title},on:{change:function(a){return t.changeArea(a,e.fieldid)}}}):t._e(),4==e.type?[""==e.data?i("a-date-picker",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{placeholder:"请选择"+e.title,"disabled-date":"birthday"==e.key&&t.disabledDate,allowClear:!1},on:{change:function(a){return t.selectDate(a,e.fieldid)}}}):t._e(),""!=e.data?i("a-date-picker",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{placeholder:"请选择"+e.title,defaultValue:t.moment(e.data),"disabled-date":"birthday"==e.key&&t.disabledDate,allowClear:!1},on:{change:function(a){return t.selectDate(a,e.fieldid)}}}):t._e()]:t._e()]:t._e()],2):t._e()})),0)]),i("a-tab-pane",{key:"4",staticClass:"chat-record",staticStyle:{width:"100%",height:"800px",margin:"0px"},attrs:{tab:"聊天记录"}},[i("div",{staticClass:"tabBox"},t._l(t.tabList,(function(e,a){return i("div",{staticClass:"innerText",class:t.tabKey==a+1?"activetab":"",on:{click:function(e){return t.changeTabKey(a+1)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(0==a?"与成员"+t.user_name+"聊天":"与成员"+t.user_name+"所在群聊")+"\n\t\t\t\t\t\t\t\t\t\t")])})),0),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading,wrapperClassName:"msg-box"}},[i("a-row",{staticClass:"chat-list-box",staticStyle:{height:"100%","background-color":"white",overflow:"hidden"}},[2==t.tabKey?i("a-col",{staticStyle:{"overflow-y":"auto"},style:{height:"100%",borderRight:"1px solid #ececec"},attrs:{xs:4,sm:4,md:4,lg:4,xl:4,xxl:4}},[i("div",[i("a-spin",{staticStyle:{height:"100%",position:"fixed","margin-left":"81px",top:"calc(50% + 157px)","z-index":"9999999999999999999"},attrs:{tip:"Loading...",size:"large",spinning:t.isChatUserLoading}}),i("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.chatList.length&&!t.isChatUserLoading,expression:"chatList.length == 0 && !isChatUserLoading"}],staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}),t._l(t.chatList,(function(e,n){return(0==t.type||1==t.type)&&t.chatList.length>0?i("div",{key:n,staticClass:"chat-list",class:t.activeChat==e.chatUserId?"chat-list-active":"",attrs:{"data-chat-id":e.chatUserId,"data-chat-name":e.user.name},on:{click:function(a){return t.changeChat(e.chatUserId,e.user.name)}}},[i("div",{staticClass:"chat-left"},[0==t.type&&e.user.thumb_avatar||1==t.type&&e.user.avatar?i("a-avatar",{staticClass:"chat-img",attrs:{shape:"square","data-id":e.chatUserId,src:0==t.type?e.user.thumb_avatar:e.user.avatar}}):t._e(),0==t.type&&!e.user.thumb_avatar||1==t.type&&!e.user.avatar?i("img",{staticStyle:{width:"40px",height:"40px",float:"left"},attrs:{src:a("4bef")}}):t._e()],1),i("div",{staticClass:"chat-right"},[i("div",{staticClass:"chat-right-title"},[i("span",{staticClass:"chat-name",staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[i("strong",[t._v(t._s(e.user.name))])]),i("span",{staticClass:"chat-time"},[t._v(t._s(t.formatMsgTime(e.msgtime,!0,"MM-DD")))])]),i("div",{staticClass:"chat-right-content"},[i("span",[t._v(t._s(e.content))])])])]):t._e()})),t._l(t.chatList,(function(e,a){return(2==t.type||3==t.type)&&t.chatList.length>0?i("div",{key:a,staticClass:"chat-list",class:t.activeChat==e.chat_id?"chat-list-active":"",staticStyle:{height:"55px"},attrs:{"data-chat-id":e.chat_id,"data-chat-name":e.chat},on:{click:function(a){t.changeChat(e.chat_id,e.chat&&e.chat.length>0?e.chat:"群聊")}}},[i("div",{staticClass:"chat-left",staticStyle:{height:"35px",width:"35px"}},[e.avatarData&&0==e.avatarData.length?i("div",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","border-radius":"4px"}},[i("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.groupAvatar,"data-id":e.chat_id}})]):e.avatarData&&1==e.avatarData.length?i("div",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","border-radius":"4px"}},[e.avatarData&&""!=e.avatarData[0]?i("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0],"data-id":e.chat_id}}):t._e(),e.avatarData&&""==e.avatarData[0]?i("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2,"data-id":e.chat_id}}):t._e()]):e.avatarData&&e.avatarData.length>1&&e.avatarData.length<=4?i("div",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px","align-items":"center"}},[t._l(e.avatarData,(function(a){return[""!=a?i("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:a,"data-id":e.chat_id}}):t._e(),""==a?i("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2,"data-id":e.chat_id}}):t._e()]}))],2):e.avatarData&&e.avatarData.length>4?i("div",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px","align-items":"center"}},[t._l(e.avatarData,(function(a){return[""!=a?i("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:a,"data-id":e.chat_id}}):t._e(),""==a?i("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2,"data-id":e.chat_id}}):t._e()]}))],2):t._e()]),i("div",{staticClass:"chat-right",staticStyle:{height:"35px"}},[i("div",{staticClass:"chat-right-title",staticStyle:{height:"20px","padding-bottom":"2px"}},[i("span",{staticClass:"chat-name",staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[i("strong",[t._v(t._s(e.chat&&e.chat.length>0?e.chat:"群聊"))])]),i("span",{staticClass:"chat-time"},[t._v(t._s(t.formatMsgTime(e.msgtime,!0,"MM-DD")))])]),i("div",{staticClass:"chat-right-content",staticStyle:{"padding-top":"0px"}},[i("span",[t._v(t._s(e.content))])])])]):t._e()}))],2)]):t._e(),i("a-col",{staticStyle:{height:"100%"},attrs:{xs:1==t.tabKey?24:20,sm:1==t.tabKey?24:20,md:1==t.tabKey?24:20,lg:1==t.tabKey?24:20,xl:1==t.tabKey?24:20,xxl:1==t.tabKey?24:20}},[i("a-spin",{staticStyle:{height:"100%"},attrs:{tip:"Loading...",size:"large",spinning:t.isChatListLoading}},[i("div",{staticClass:"chat-info-box"},[i("div",{staticClass:"chat-info-title",staticStyle:{"background-color":"#FAFAFA"}},[i("a-col",{staticClass:"msg-type",class:""==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("","")}}},[t._v("全部\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"text"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("text","文本")}}},[t._v("文本\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"image"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("image","图片")}}},[t._v("图片\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"voice"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("voice","语音")}}},[t._v("语音\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"video"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("video","视频")}}},[t._v("视频\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"file"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("file","文件")}}},[t._v("文件\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"weapp"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("weapp","小程序")}}},[t._v("小程序\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"news"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("news","图文")}}},[t._v("图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-col",{staticClass:"msg-type",class:"other"==t.msgType?"msg-type-active":"",attrs:{span:2},on:{click:function(e){return t.changeFileType("other","其他")}}},[t._v("其他\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"chat-info-title flex justify-between align-center",staticStyle:{"background-color":"#FAFAFA"}},[i("div",{staticClass:"flex align-center"},[2==t.tabKey&&t.activeChatName?i("a-tooltip",{attrs:{placement:"bottomLeft"}},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s(t.activeChatName))])]),i("span",{staticClass:"chat-info-name",staticStyle:{"font-weight":"700"}},[t._v(t._s(t.activeChatName))])]):t._e()],1),i("div",{staticStyle:{float:"right"}},[""==t.msgType||"text"==t.msgType?i("a-input",{staticStyle:{width:"210px","margin-right":"10px"},attrs:{allowClear:!0,placeholder:"请输入搜索内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findContent(e)}},model:{value:t.msgName,callback:function(e){t.msgName=e},expression:"msgName"}}):t._e(),i("a-range-picker",{staticStyle:{width:"165px","margin-right":"10px"},attrs:{allowClear:!0,disabledDate:t.disabledDateDay,format:"YYYY-MM-DD"},model:{value:t.sendDate,callback:function(e){t.sendDate=e},expression:"sendDate"}}),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.findContent}},[t._v("搜索\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{disabled:t.chatItemLoading},on:{click:t.clearContent}},[t._v("清空\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]),i("div",[i("a-row",{directives:[{name:"perfect-scroll-bar",rawName:"v-perfect-scroll-bar",value:t.perfectScrollBarOptions,expression:"perfectScrollBarOptions"}],ref:"chat_info_list",staticClass:"chat-info-list",style:2==t.tabKey?{width:"calc(100% - 250px)"}:{},on:{"ps-scroll-up":t.handlePullOnLoad,"ps-scroll-down":t.handleInfiniteOnLoad,"ps-scroll-y":t.changeScrollPosition}},[0!=t.chatInfoList.length||t.chatItemLoading?t._e():i("div",{staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)","text-align":"center",margin:"0 auto"}},[i("svg",{attrs:{width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{fill:"none",fillRule:"evenodd"}},[i("g",{attrs:{transform:"translate(24 31.67)"}},[i("ellipse",{attrs:{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}}),i("path",{attrs:{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}}),i("path",{attrs:{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}}),i("path",{attrs:{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}}),i("path",{attrs:{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"}})]),i("path",{attrs:{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}}),i("g",{attrs:{transform:"translate(149.65 15.383)",fill:"#FFF"}},[i("ellipse",{attrs:{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}}),i("path",{attrs:{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}})])])]),""==t.msgType?i("p",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(1==t.tabKey?"当前客户所属成员未开通会话存档或没有聊天记录":"群内没有开通会话存档成员或没有聊天记录"))]):i("p",[t._v(t._s("暂无"+t.msgTypeText+"类型的聊天记录"))])]),i("a-col",{attrs:{span:24}},[t.chatItemLoading?i("div",{staticClass:"loading-box"},[i("a-spin",[i("a-icon",{staticStyle:{"font-size":"12px",color:"grey","margin-right":"5px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1),i("span",[t._v("正在加载")])],1):t._e(),t._l(t.chatInfoList,(function(e,n){return t.chatInfoList.length>0?[t.showTimeDivider(e.msgid,e.msgtime)?i("div",{staticStyle:{"text-align":"center",width:"100%",float:"left",margin:"8px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.formatMsgTime(e.msgtime,!0))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i("div",{staticClass:"chat-item",class:t.isFromUser(e)?"self":""},[("vote"==e.msgtype&&101==e.info.votetype||"vote"!=e.msgtype)&&("meeting"==e.msgtype&&101==e.info.meetingtype||"meeting"!=e.msgtype)&&"todo"!=e.msgtype&&"agree"!=e.msgtype&&"disagree"!=e.msgtype&&(1==e.from_type&&e.from_info.thumb_avatar||1!=e.from_type&&e.from_info.avatar)?i("a-avatar",{staticClass:"chat-item-img",attrs:{shape:"square",src:1==e.from_type?e.from_info.thumb_avatar:e.from_info.avatar}}):t._e(),("vote"==e.msgtype&&101==e.info.votetype||"vote"!=e.msgtype)&&("meeting"==e.msgtype&&101==e.info.meetingtype||"meeting"!=e.msgtype)&&"todo"!=e.msgtype&&"agree"!=e.msgtype&&"disagree"!=e.msgtype&&(1==e.from_type&&!e.from_info.thumb_avatar||1!=e.from_type&&!e.from_info.avatar)?i("img",{staticClass:"chat-item-img",attrs:{src:a("4bef")}}):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.msgType)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),("vote"!=e.msgtype||101!=e.info.votetype)&&"vote"==e.msgtype||("meeting"!=e.msgtype||101!=e.info.meetingtype)&&"meeting"==e.msgtype||"todo"==e.msgtype||"agree"==e.msgtype||"disagree"==e.msgtype||2!=t.type&&3!=t.type?t._e():i("div",{staticClass:"chat-item-name",staticStyle:{"margin-bottom":"6px"},style:t.isFromUser(e)?"text-align:right":"text-align:left"},[i("span",{staticStyle:{margin:"0 8px 0 10px"}},[t._v(t._s(e.from_info.name))]),1==e.from_type?i("a-tag",{attrs:{color:"blue"}},[t._v("内部\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):i("a-tag",{attrs:{color:"orange"}},[t._v("外部\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{ref:e.msgid,refInFor:!0,staticClass:"content content-item",class:"content-"+t.getMsgType(e),domProps:{innerHTML:t._s(t.initMsgContent(e,n))},on:{click:t.addComment}})],1)]:t._e()}))],2)],1),2==t.tabKey?i("a-row",{staticStyle:{position:"absolute",right:"0",top:"106px",bottom:"0",width:"250px","border-left":"1px solid #F2F2F2",padding:"10px"}},[i("div",{staticStyle:{color:"#666666"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t群成员\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{"font-size":"16px"}},[t._v("·")]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.chatUserAllNum)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("a-input",{staticStyle:{"margin-top":"5px"},attrs:{allowClear:!0,placeholder:"搜索群成员"},on:{input:t.changeChatUserName},model:{value:t.chatUserName,callback:function(e){t.chatUserName=e},expression:"chatUserName"}}),i("a-spin",{staticStyle:{position:"fixed",right:"91px",bottom:"calc(50% - 130px)"},attrs:{tip:"Loading...",size:"large",spinning:t.isChatUserListLoading}}),i("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.chatUserList.length&&!t.isChatUserListLoading,expression:"chatUserList.length == 0 && !isChatUserListLoading"}],staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.chatUserList.length>0&&!t.isChatUserListLoading,expression:"chatUserList.length > 0 && !isChatUserListLoading"}],staticClass:"chat-user-list",staticStyle:{"max-height":"calc(100% - 60px)","margin-top":"5px","overflow-y":"auto"},attrs:{"群成员":""},on:{scroll:t.chatUserScroll}},t._l(t.chatUserList,(function(e){return i("div",{staticClass:"chat-user-item",staticStyle:{cursor:"pointer"}},[i("div",{staticStyle:{margin:"7px 0"},on:{click:function(a){return t.selectChatUser(e.chat_from_id,e.chat_from_type)}}},[e.avatar?i("a-avatar",{attrs:{shape:"square",size:26,src:e.avatar}}):t._e(),e.avatar?t._e():i("img",{attrs:{height:"26",src:a("4bef")}}),i("span",{staticStyle:{"max-width":"80px","text-overflow":"ellipsis",overflow:"hidden","margin-left":"10px",display:"inline-block","white-space":"nowrap","vertical-align":"middle"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t                    \t"+t._s(e.name||"未知")+"\n\t\t\t\t\t\t\t\t\t\t\t\t                    ")]),1==e.status?i("span",{staticStyle:{"vertical-align":"middle"},style:{color:"群主"==e.type_name?"#0076FB":"企业成员"==e.type_name?"#B6A3D0":"外部联系人"==e.type_name?"#EE4346":"#CAC0C6"}},[t._v("（"+t._s(e.type_name)+"）")]):i("span",{staticStyle:{color:"#A4A2A2","margin-left":"10px"}},[t._v("(已退群)")]),e.chat_from_type==t.chatFromType&&e.chat_from_id==t.chatFromId?i("a-icon",{staticStyle:{"margin-top":"6px",float:"right",color:"#1890FF","margin-right":"10px"},attrs:{type:"check"}}):t._e()],1)])})),0)],1):t._e()],1)])])],1)],1)],1)],1),"undefined"!=typeof t.previewInfo[t.activeUser.id+"_"+t.activeChat]?i("a-modal",{staticClass:"preview-modal",attrs:{visible:t.previewVisible3,footer:null,centered:""},on:{cancel:t.handleCancel3}},[i("a-carousel",{ref:"previewCarousel",attrs:{arrows:"",dots:!1,effect:"fade",adaptiveHeight:!0},scopedSlots:t._u([{key:"prevArrow",fn:function(e){return i("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px",zIndex:"1"}},[i("a-icon",{attrs:{type:"left-circle"},on:{click:t.videoStop}})],1)}},{key:"nextArrow",fn:function(e){return i("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px"}},[i("a-icon",{attrs:{type:"right-circle"},on:{click:t.videoStop}})],1)}}],null,!1,4242784060)},t._l(t.previewInfo[t.activeUser.id+"_"+t.activeChat],(function(e,a){return i("div",["undefined"!=typeof e.previewType&&"IMG"==e.previewType?i("img",{staticStyle:{margin:"0 auto",display:"block","max-width":"450px","max-height":"450px"},attrs:{alt:e.previewAlt,src:e.previewUrl}}):t._e(),"undefined"!=typeof e.previewType&&"VIDEO"==e.previewType?i("video",{staticStyle:{margin:"0 auto",display:"block","max-width":"440px","max-height":"450px"},attrs:{src:e.previewUrl,width:e.previewWidth,height:e.previewHeight,preload:"",controls:"","data-key":a},on:{play:t.videoPlay,pause:t.videoPause}}):t._e()])})),0)],1):t._e()],1)],1)],1)],1)])],1)],1),i("a-modal",{attrs:{visible:t.previewVisible,footer:null,bodyStyle:{padding:"15px 40px"}},on:{cancel:t.handleCancel}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})]),i("a-modal",{attrs:{title:"打标签",confirmLoading:t.confirmLoading2,width:"800px"},on:{ok:t.handleOk,cancel:t.cancelVisible},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("corpChooseTag",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.tagCheckValue}})],1),i("div",{staticClass:"moment_detail"},[i("a-modal",{staticStyle:{height:"20rem",overflow:"hidden!important"},attrs:{visible:t.momentDetailDialog,width:"30%",title:"查看浏览详情"},on:{cancel:t.handleCancel4}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.handleCancel4}},[t._v("取消\n\t\t\t\t\t")])],1),t.momentDetailDialog?i("div",[i("a-row",[i("a-col",{attrs:{span:3}},[i("a-avatar",{staticStyle:{width:"50px",height:"50px"},attrs:{size:"large",shape:"square",src:"/"==t.userMomentDetail.heard_img.substr(0,1)?t.commonUrl+t.userMomentDetail.heard_img:t.userMomentDetail.heard_img}})],1),i("a-col",{attrs:{span:19}},[i("div",[i("a-row",[i("span",{staticStyle:{"font-size":"18px",color:"#5077B7","font-weight":"900"}},[t._v(t._s(t.userMomentDetail.name)+"\n\t\t\t\t\t\t\t\t\t")])]),t.userMomentDetail.context?i("a-row",{staticStyle:{"align-items":"center",margin:"0 0 3px 0","white-space":"pre-line"}},[i("a-popover",{staticStyle:{"margin-bottom":"6px","max-height":"10rem"},attrs:{placement:"top"}},[i("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"6","-webkit-box-orient":"vertical"}},[t._v(t._s(t.userMomentDetail.context)+"\n\t\t\t\t\t\t\t\t\t\t")]),i("pre",{staticStyle:{"white-space":"pre-wrap","word-wrap":"break-word","line-height":"20px",color:"#000","max-width":"600px","margin-bottom":"-3px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.userMomentDetail.context))])])],1):t._e(),2==t.userMomentDetail.type?i("div",{staticClass:"covers"},t._l(t.userMomentDetail.info,(function(e,a){return e.local_path?i("div",{key:a,staticClass:"cover"},[i("img",{staticClass:"min",attrs:{src:e.s_local_path?t.commonUrl+e.s_local_path:t.commonUrl+e.local_path,width:"95%",alt:""},on:{click:function(e){return t.previewPic(t.userMomentDetail.info,a)}}})]):t._e()})),0):t._e()],1),3==t.userMomentDetail.type?i("div",{staticStyle:{margin:"0 0 10px 0"}},[i("a-form",[i("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",staticStyle:{width:"200px"},attrs:{playsinline:!0,options:t.playerOptions}})],1)],1)],1):t._e(),4==t.userMomentDetail.type?i("div",{staticStyle:{margin:"10px 0 10px 0"}},[i("a-form",[i("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:22}}},[t.userMomentDetail.info!={}&&null!=t.userMomentDetail.info?i("div",{staticStyle:{width:"100%"}},[i("div",{staticStyle:{width:"100%",display:"flex",height:"70px",background:"#F1F3F5"}},[i("div",{staticStyle:{width:"70px",height:"70px",padding:"10px"}},[""!=t.userMomentDetail.info[0].pic_url?i("img",{staticClass:"input_img2",attrs:{src:"/"==t.userMomentDetail.info[0].pic_url.substr(0,1)?t.commonUrl+t.userMomentDetail.info[0].pic_url:t.userMomentDetail.info[0].pic_url,alt:""}}):t._e(),""==t.userMomentDetail.info[0].pic_url?i("img",{staticClass:"input_img2",attrs:{src:a("b11d"),alt:""}}):t._e()]),i("div",{staticStyle:{"flex-grow":"1",height:"70px"}},[i("div",{staticClass:"inp_title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.userMomentDetail.info[0].title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"input_text3"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.userMomentDetail.info[0].description)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])])])]):t._e()])],1)],1):t._e(),i("a-row",[i("a-col",{attrs:{span:16}},[t._v(t._s(t.userMomentDetail.create_time))])],1)],1)],1),i("a-tabs",{staticClass:"moment_detail_tab",attrs:{"default-active-key":"1"}},[t.userMomentDetail.goods.name.length>0||t.userMomentDetail.reply.length>0?i("a-tab-pane",{key:"1",attrs:{tab:"朋友圈"}},[t.userMomentDetail.goods.name.length>0?i("div",{staticClass:"moment_detail_zan",class:1==t.userMomentDetail.goods.status?"":"no-active-zan"},[1==t.userMomentDetail.goods.status?i("svg",{staticClass:"icon moment_detail_zan_icon",attrs:{t:"1609928721591",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2698",width:"16",height:"16"}},[i("path",{attrs:{d:"M705.403848 64.46829c-76.854389 0-148.311861 38.554084-195.34506 102.123912-47.007617-63.587224-118.448716-102.123912-195.344037-102.123912-138.54031 0-251.251348 123.228579-251.251348 274.711665 0 90.369194 40.368406 153.767106 72.820516 204.702172 94.311992 147.95268 331.443761 332.071048 341.487511 339.834872 9.676383 7.479345 20.989033 11.222599 32.275077 11.222599 11.31265 0 22.607904-3.744277 32.270984-11.222599 10.057053-7.763824 247.205195-191.882192 341.488535-339.834872 32.466436-50.939159 72.849168-114.332978 72.849168-204.702172C956.655196 187.69687 843.939041 64.46829 705.403848 64.46829L705.403848 64.46829zM837.929164 508.917802c-89.77056 140.875494-327.883679 324.878229-327.883679 324.878229s-238.086513-184.002734-327.887772-324.878229c-33.120328-52.005444-62.774719-101.438297-62.774719-169.736822 0-117.939109 87.443561-213.58447 195.331757-213.58447 79.730902 0 148.175761 52.308343 178.538279 127.194914l0-0.37146 0.080841 0c2.26253 7.806803 8.857738 13.501502 16.711614 13.501502 7.880481 0 14.474666-5.694699 16.720823-13.501502l0.230244 0c30.435173-74.66349 98.785887-126.823454 178.406273-126.823454 107.86159 0 195.331757 95.64536 195.331757 213.58447C900.734582 407.479505 871.075075 456.911334 837.929164 508.917802L837.929164 508.917802zM837.929164 508.917802","p-id":"2699",fill:"#6e7c9a"}})]):t._e(),0==t.userMomentDetail.goods.status?i("svg",{staticClass:"icon moment_detail_zan_icon",attrs:{t:"1610523854710",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7763",width:"16",height:"16"}},[i("path",{attrs:{d:"M705.386667 177.536c56.682667 0 109.546667 22.122667 148.8 62.272 76.522667 78.272 72.490667 207.232-9.002667 287.424L509.738667 857.493333 174.250667 527.253333c-81.472-80.213333-85.525333-209.152-9.002667-287.424 39.274667-40.170667 92.117333-62.272 148.8-62.272 55.189333 0 107.029333 21.12 145.962667 59.413334l49.706666 48.938666 49.706667-48.938666a206.741333 206.741333 0 0 1 145.962667-59.434667M314.069333 106.688c-72.512 0-144.981333 27.861333-199.488 83.605333-105.024 107.456-97.109333 282.048 9.962667 387.456L476.586667 924.288a47.125333 47.125333 0 0 0 66.261333 0l352.021333-346.538667c107.093333-105.408 114.986667-280.021333 9.962667-387.456-54.485333-55.744-126.997333-83.605333-199.488-83.605333-70.826667 0-141.610667 26.602667-195.648 79.786667-53.973333-53.205333-124.821333-79.786667-195.626667-79.786667z",fill:"#c7c7c7","p-id":"7764"}})]):t._e(),i("div",{staticStyle:{"padding-left":"12px"}},t._l(t.userMomentDetail.goods.heard_img,(function(t,e){return i("i",{staticClass:"moment_detail_zan_name"},[i("img",{attrs:{src:t}})])})),0)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.userMomentDetail.reply.length>0,expression:"userMomentDetail.reply.length>0"}],staticClass:"reply-all-box"},[i("div",{staticClass:"reply-all-box-left"},[i("svg",{staticClass:"icon reply-icon",attrs:{t:"1611578413166",viewBox:"0 0 1058 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1865",width:"200",height:"200"}},[i("path",{attrs:{d:"M330.744242 885.372121l194.779798-129.861818 16.665859-11.106263h383.844848c36.486465 0 66.19798-29.659798 66.19798-66.146262v-529.19596c0-36.434747-29.711515-66.107475-66.19798-66.107475H132.305455c-36.486465 0-66.146263 29.659798-66.146263 66.107475v529.19596c0 36.486465 29.659798 66.146263 66.146263 66.146262h198.438787v140.968081m-66.146262 123.578182V810.550303H132.305455c-73.024646 0-132.305455-59.216162-132.305455-132.292525v-529.19596C0 76.024242 59.267879 16.808081 132.305455 16.808081h793.742222c73.076364 0 132.357172 59.216162 132.357171 132.240808v529.195959c0 73.076364-59.267879 132.292525-132.357171 132.292526h-363.830303L264.59798 1008.950303z m0 0","p-id":"1866",fill:"#6e7c9a"}})])]),i("div",{staticClass:"reply-all-box-right"},t._l(t.userMomentDetail.reply,(function(e){return i("div",{staticClass:"moment_detail_list"},[""==e.reply_name?i("div",{staticStyle:{width:"100%"}},[i("div",{staticClass:"flexBox"},[i("div",{staticClass:"leftBox"},[i("img",{staticClass:"reply_avatar",attrs:{src:e.reply_avatar}})]),i("div",{staticStyle:{"margin-left":"5px",width:"100%"}},[i("p",{staticClass:"moment_name_box"},[i("i",{staticClass:"moment_detail_list_name"},[t._v(t._s(e.one_name))]),i("i",{staticStyle:{"margin-right":"6px"}},[t._v(t._s(e.create_time))])]),i("div",{staticStyle:{"margin-left":"5px",width:"100%"}},[i("p",{staticStyle:{"padding-right":"10px",float:"left",width:"85%"},domProps:{innerHTML:t._s(e.content.replace(/\#[\u4E00-\u9FA5]{1,3}\;/gi,t.emotion))}}),0==e.status?i("p",{staticStyle:{color:"rgb(232, 100, 100)",display:"inline-block",width:"50px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t已删除")]):t._e()])])])]):t._e(),""!=e.reply_name?i("div",{staticStyle:{width:"100%"}},[i("div",{staticClass:"flexBox"},[i("div",{staticClass:"leftBox"},[i("img",{staticClass:"reply_avatar",attrs:{src:e.reply_avatar}})]),i("div",{staticStyle:{"padding-left":"5px",width:"100%"}},[i("div",{staticClass:"moment_name_box"},[i("i",{staticClass:"moment_detail_list_name"},[t._v(t._s(e.one_name))]),i("i",{staticStyle:{"margin-right":"6px"}},[t._v(t._s(e.create_time))])]),i("div",{staticClass:"moment_name_box",staticStyle:{width:"100%"}},[i("div",{staticStyle:{float:"left",width:"86%"}},[i("i",{staticClass:"moment_detail_list_reply_text"},[t._v("回复")]),i("i",{staticClass:"moment_detail_list_name"},[t._v(t._s(e.reply_name))]),i("i",{domProps:{innerHTML:t._s(e.content.replace(/\#[\u4E00-\u9FA5]{1,3}\;/gi,t.emotion))}})]),0==e.status?i("p",{staticStyle:{color:"rgb(232, 100, 100)",display:"inline-block",width:"46px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t已删除")]):t._e()])])])]):t._e()])})),0)])]):t._e()],1)],1):t._e()],2)],1)],1)},n=[],o=(a("8e6e"),a("75fc")),s=a("bd86"),r=(a("20d6"),a("456d"),a("a481"),a("3b2b"),a("386d"),a("28a5"),a("5df3"),a("ac4d"),a("8a81"),a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),c=a("0f2e"),l=a("c1df"),d=a.n(l),h=(a("5c3a"),a("0cfc")),p=a("d6d3"),m=a("911a"),g=a.n(m),f=a("ac8a"),u=a.n(f),v=(a("c610"),a("40cf")),x=a("e306"),b=a.n(x),w=a("4bef"),_=a.n(w),y=a("ea7d"),k=a.n(y),C=a("a4b7"),L=a.n(C),I=a("17f6"),S=a.n(I),U=a("5df1"),T=a.n(U),D=a("4035"),M=a.n(D),V=a("afc3"),z=a.n(V),O=a("c5a2"),A=a.n(O),F=a("aecb"),N=a.n(F),R=a("bca3"),j=a.n(R),$=a("7806"),P=a.n($),B=a("b6f5"),E=a.n(B),Y=a("9bdd"),H=a.n(Y),J=a("9376");function K(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function G(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?K(a,!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function q(t){return new Promise((function(e,a){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)}}))}d.a.locale("zh-cn");var Z={components:{editor:J["a"],videoPlayer:p["videoPlayer"],corpChooseTag:h["a"],AudioPlayer:u.a},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{loseReason:[],lose:void 0,followItem:{},dialout_phone:"",dialout_exten:"",corpId:t,is_hide_phone:0,yhIsLoading:!1,commonUrl:this.$store.state.commonUrl,remarkVisible:!1,confirmLoading2:!1,id:"",avatar:"",name:"",corp_name:"",nickname:"",gender:"",followTitle:"",is_follow_del:"",phone:"",phone2:"",company:"",company2:"",area:"",des:"",visible:!1,hasTags:[],hasTagsValue:[],tagCheckValue:[],tagCheckValue2:[],disabled:[],tagsList:[],tagValue:[],addTagVisible:!1,confirmLoading3:!1,inputValue:"",editGroupId:"",groupList:[],groupId:"-1",tagLoading:!1,desVisible:!1,imageUrl3:"",file3:"",desImgLoading:!1,desText:"",follow_id:"",followStatus:"",follows:[],closeRateVisible:!1,close_rate:"",follow_time:"",follow_times:[],follow_num:"",memberInfo:"",chatName:[],field_list:[],fieldData:[],badicInfoVisible:!1,projectList:[],cityData:c["a"],moment:d.a,followRecord:[],imageUrl:[],imageUrlDisabled:!1,file:[],imgNum:0,msg:"",previewVisible:!1,previewImage:"",picFile:{},isImg:!0,submitDisabled:!0,record_id:"",editVisible:!1,followRecordDisabled:!1,imageUrl2:[],imageUrlDisabled2:!1,file2:[],picFile2:{},imgNum2:0,msg2:"",previewVisible2:!1,previewImage2:"",isImg2:!0,submitDisabled2:!0,total:1,quickJumper:!1,page:1,pageSize:15,status:[],interactList:[],picFile3:{},isImg3:!0,page2:1,btnFlag:1,tabKeyAll:"1",isMasterAccount:localStorage.getItem("isMasterAccount"),canEdit:1,momentDetailDialog:!1,userMomentDetail:{},videoIndex:null,playerOptions:[],publicOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},isShowTag:!0,clickIndex:-1,flag:!1,playTime:[],t1:[],tabKey:1,isLoading:!1,isChatUserLoading:!0,isChatListLoading:!0,chatItemLoading:!0,activeUser:{},userVisible:!1,userName:"",userList:[],selectUserList:[],type:1,userOrChatName:"",allChatList:[],chatList:[],activeChat:0,msgType:"",msgName:"",sendDate:null,activeChatName:"",lastTime:0,perfectScrollBarOptions:{suppressScrollX:!0,minScrollbarLength:15},scrollData:[],noMore:[],newMsg:[],chatInfoList:[],timeDivider:[],previewInfo:[],previewRelation:[],playAudio:{isPlay:!1,key:0,dom:"",interval:""},playVideo:{isPlay:!1,key:-1,dom:""},groupAvatar:b.a,img2:_.a,miniApp:k.a,fileIcon:L.a,csv:S.a,doc:T.a,docx:M.a,pdf:z.a,ppt:A.a,pptx:N.a,txt:j.a,xls:P.a,xlsx:E.a,xmind:H.a,inter:0,loadItem:!1,timeOut:0,chatFromId:"",chatFromType:"",isChatUserListLoading:!1,chatUserName:"",userChatTimeOut:0,chatUserNum:0,chatUserAllNum:0,chatUserList:[],chatUserPage:1,chatUserPageSize:40,showMsgVisible:!1,recordMsg:{},voiceList:[],voiceUser:{id:0,avatar:"",name:""},voiceUserName:"",selectVoiceUserList:[],hasMore:!0,voiceSendDate:null,msgId:0,voiceDetail:{},lookVisible:!1,testQualityModal:!1,quality_id:"",to_user_id:"",roomid:"",start_date:"",end_date:"",noUsualList:[],peopelRemark:"",objArr:"",activeChatName1:"",toSearchItem:!1,textContent:"",textAreaValueHeader:"",msg_id:"",spinningModel1:!1,pzStatus:!1,editPZId:"",previewVisible3:!1,external_user_id:"",tabList:[{name:"聊天"},{name:"所在群聊"}],user_id:"",user_name:"",msgTypeText:""}},mounted:function(){this.getGroupList()},methods:{backTop:function(){document.getElementById("time-line").scrollIntoView()},contact:function(){var t=this;this.$confirm({title:"是否拨打电话",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){g.a.publish("showCall",{showCall:!0,avatar:t.avatar,nickname:t.nickname,follow_id:t.id,phone:t.phone,type:0,from:0})}})},getPresentGroup:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.tabKey){t.next=3;break}return this.isChatUserLoading=!1,t.abrupt("return",!1);case 3:return t.next=5,this.axios.post("work-msg-audit/chat",{corp_id:this.corpId,user_id:this.user_id,external_id:this.external_user_id});case 5:if(e=t.sent,a=e.data,0==a.error){t.next=13;break}this.isChatUserLoading=!1,this.$message.destroy(),this.$message.error(a.error_msg),t.next=34;break;case 13:if(this.isChatUserLoading=!1,this.allChatList=this.allChatList.concat(a.data),i={},this.allChatList=this.allChatList.reduce((function(t,e){return!i[e.id]&&(i[e.id]=t.push(e)),t}),[]),this.chatList=JSON.parse(JSON.stringify(this.allChatList)),1!=page){t.next=31;break}if(this.activeChatName="",!(this.chatList.length>0)){t.next=29;break}this.activeChat=2!=this.type&&3!=this.type?this.chatList[0].chatUserId:this.chatList[0].chat_id,t.t0=this.type,t.next=0===t.t0?25:1===t.t0?25:2===t.t0?27:3===t.t0?27:29;break;case 25:return this.activeChatName=a.data[0].user.name,t.abrupt("break",29);case 27:return this.activeChatName=a.data[0].chat.length>0?a.data[0].chat:"群聊",t.abrupt("break",29);case 29:a.data.length<this.pageSize?this.loadItem=!1:this.loadItem=!0,this.initTimeDivider();case 31:this.page=page,this.pageSize=pageSize,1!=page&&(n=this,o=this.allChatList.length-this.pageSize-1,s=setInterval((function(){document.getElementsByClassName("chat-info-list")[0].scrollHeight>60*o&&(clearInterval(s),a.data.length<n.pageSize?n.loadItem=!1:n.loadItem=!0)}),100));case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onDateChange:function(t,e){this.start_date=e[0],this.end_date=e[1],this.toSearchDate()},toSearchDate:function(){this.toSearchItem=!0,this.allChatList=[],this.chatInfoList=[],this.getChatList()},changeTabKey:function(t){this.tabKey=t,this.timeDivider=[],this.chatList=[],this.chatInfoList=[],this.isChatUserLoading=!0,this.isChatListLoading=!0,this.lastTime=0,this.allChatList=[],this.msgTypeText="",this.msgType="",this.sendDate=null,1==this.tabKey?(this.type=1,this.changeUser(0),this.activeChat=this.external_user_id,this.getChatList()):(this.type=3,this.getChatList())},setUserVisible:function(){var t=this;clearInterval(this.inter),this.inter=setTimeout((function(){t.userVisible=!1}),500)},clearInter:function(){clearInterval(this.inter)},changeUserVisible:function(){this.userName="",this.voiceUserName="",this.selectUserList=JSON.parse(JSON.stringify(this.userList)),this.selectVoiceUserList=JSON.parse(JSON.stringify(this.userList)),this.userVisible=!this.userVisible},selectUser:function(){if(""==this.userName)this.selectUserList=JSON.parse(JSON.stringify(this.userList));else{this.selectUserList=[];var t=!0,e=!1,a=void 0;try{for(var i,n=this.userList[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o.name.indexOf(this.userName)>-1&&this.selectUserList.push(o)}}catch(s){e=!0,a=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw a}}}},changeUser:function(t){this.activeUser=this.selectUserList[t],this.type=0;var e=this.type;this.lastTime=0,this.allChatList=[],this.userOrChatName="",this.msgType="",this.msgName="",this.sendDate=null,this.chatList=[],this.isChatUserLoading=!0,this.isChatListLoading=!0,this.userVisible=!1,this.selectUserList=JSON.parse(JSON.stringify(this.userList));var a=this;Promise.all([a.getChatList()]).then((function(t){a.$nextTick((function(){if(e!=a.type)return!1;if(a.lastTime=0,"undefined"==typeof a.scrollData[a.activeUser.id+"_"+a.activeChat]){var t={first_id:0,old_first_id:0,last_id:0,position:null};a.$set(a.scrollData,a.activeUser.id+"_"+a.activeChat,t)}a.chatItemLoading=!0,a.chatInfoList=[],2!=a.type&&3!=a.type||(a.chatUserName="",a.getChatUserList()),a.chatFromId="",a.chatFromType="",a.getChatInfoList()}))})).catch((function(t){}))},getFileType:function(t){var e="file";return t.indexOf(".")>-1&&(e=t.split(".")[t.split(".").length-1],"doc"!=e&&"docx"!=e&&"xlsx"!=e&&"xls"!=e&&"csv"!=e&&"pptx"!=e&&"ppt"!=e&&"txt"!=e&&"pdf"!=e&&"xmind"!=e&&(e="file")),e},changeMsgType:function(t){var e=this;if(t!=this.type){this.type=t,this.lastTime=0,this.userOrChatName="",this.msgType="",this.msgName="",this.sendDate=null,this.chatList=[],this.allChatList=[],this.chatUserName="",this.chatUserNum=0,this.chatUserAllNum=0,this.chatUserList=[],this.activeChat=0,this.isChatUserLoading=!0,this.isChatListLoading=!0,this.page=1;var a=this;Promise.all([a.getChatList()]).then((function(t){a.$nextTick((function(){if(0!=e.activeChat){if(a.lastTime=0,"undefined"==typeof a.scrollData[a.activeUser.id+"_"+a.activeChat]){var t={first_id:0,old_first_id:0,last_id:0,position:null};a.$set(a.scrollData,a.activeUser.id+"_"+a.activeChat,t)}a.chatItemLoading=!0,a.chatInfoList=[],2!=a.type&&3!=a.type||a.getChatUserList(),a.chatFromId="",a.chatFromType="",a.getChatInfoList()}else e.isChatListLoading=!1,e.chatItemLoading=!1,e.chatInfoList=[]}))})).catch((function(t){}))}},changeFileType:function(t,e){if(this.msgType!=t){this.msgType=t,this.msgTypeText=e,this.msgName="",this.lastTime=0,this.sendDate=null;var a={first_id:0,old_first_id:0,last_id:0,position:null};this.$set(this.scrollData,this.activeUser.id+"_"+this.activeChat,a),this.chatInfoList=[],(2==this.tabKey&&this.allChatList.length>0||1==this.tabKey)&&(this.chatItemLoading=!0,this.getChatInfoList())}},disabledDateDay:function(t){return t.valueOf()>(new Date).getTime()},findContent:function(){var t={first_id:0,old_first_id:0,last_id:0,position:null};this.$set(this.scrollData,this.activeUser.id+"_"+this.activeChat,t),this.lastTime=0,this.chatItemLoading=!0,this.chatInfoList=[],this.getChatInfoList()},clearContent:function(){this.msgName="",this.sendDate=null,this.lastTime=0;var t={first_id:0,old_first_id:0,last_id:0,position:null};this.$set(this.scrollData,this.activeUser.id+"_"+this.activeChat,t),this.chatItemLoading=!0,this.chatInfoList=[],this.chatFromId="",this.chatFromType="",this.getChatInfoList()},changeChat:function(t,e){if(this.activeChat!=t){if(this.activeChat=t,this.activeChatName=e,this.lastTime=0,this.isChatListLoading=!0,this.msgType="",this.msgName="",this.sendDate=null,"undefined"==typeof this.scrollData[this.activeUser.id+"_"+this.activeChat]){var a={first_id:0,old_first_id:0,last_id:0,position:null};this.$set(this.scrollData,this.activeUser.id+"_"+this.activeChat,a)}this.chatItemLoading=!0,this.chatInfoList=[],2!=this.type&&3!=this.type||(this.chatUserName="",this.getChatUserList()),this.chatFromId="",this.chatFromType="",this.chatUserName="",this.getChatInfoList()}},changeName:function(t){clearTimeout(this.timeOut);var e=this;this.timeOut=setTimeout((function(){e.allChatList=[],e.chatList=[],e.chatInfoList=[],e.chatUserList=[],e.isChatUserLoading=!0,Promise.all([e.getChatList()]).then((function(t){e.$nextTick((function(){e.msgType="",e.msgName="",e.lastTime=0,e.sendDate=null;var t={first_id:0,old_first_id:0,last_id:0,position:null};e.$set(e.scrollData,e.activeUser.id+"_"+e.activeChat,t),e.chatUserName="",e.getChatUserList(),e.chatFromId="",e.chatFromType="",e.chatList.length>0&&(e.isChatListLoading=!0,e.chatItemLoading=!0,e.getChatInfoList())}))})).catch((function(t){}))}),300)},selectChatUser:function(t,e){this.chatFromId!=t||this.chatFromType!=e?(this.chatFromId=t,this.chatFromType=e):(this.chatFromId="",this.chatFromType=""),this.findContent()},changeChatUserName:function(){clearTimeout(this.userChatTimeOut);var t=this;this.userChatTimeOut=setTimeout((function(){t.isChatUserListLoading=!0,t.getChatUserList()}),300)},chatUserScroll:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=document.getElementsByClassName("chat-user-list")[0],a=e.scrollTop,i=e.clientHeight||document.body.clientHeight,n=e.scrollHeight||document.body.scrollHeight,a+i==n&&(this.isChatUserListLoading=!0,this.getChatUserList(this.chatUserPage+1,this.chatUserPageSize));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getChatUserList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:this.chatUserPageSize,1!=this.tabKey){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.axios.post("work-chat/msg-info-list",{name:this.chatUserName,chat_id:this.activeChat,page:e,page_size:a});case 6:i=t.sent,n=i.data,0!=n.error?(this.isChatUserListLoading=!1,this.$message.error(n.error_msg)):(this.chatUserNum=parseInt(n.data.count),this.chatUserAllNum=parseInt(n.data.sum),this.chatUserPage=e,this.chatUserPageSize=a,this.chatUserList=1==e?n.data.chatData:this.chatUserList.concat(n.data.chatData),this.isChatUserListLoading=!1);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlePullOnLoad:function(){var t=this.$refs.chat_info_list.$el._ps_.reach.y;1==this.tabKey?"start"!==t||this.chatItemLoading||this.noMore[this.activeUser.id+"_"+this.activeChat]||(this.chatItemLoading=!0,this.getChatInfoList()):2==this.tabKey&&("start"!==t||this.chatItemLoading||this.noMore[this.activeUser.id+"_"+this.activeChat]||(this.chatItemLoading=!0,this.getChatInfoList()))},handleInfiniteOnLoad:function(){var t=this.$refs.chat_info_list.$el._ps_.reach.y;"end"===t&&this.$set(this.newMsg,this.activeUser.id+"_"+this.activeChat,!1)},changeScrollPosition:function(t){0!=this.activeChat&&(this.scrollData[this.activeUser.id+"_"+this.activeChat].position=t.srcElement.scrollTop)},formatMsgTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm";return t=parseInt(t),e&&this.utils.isToday(t)?d()(t).format("HH:mm"):d()(t).format(a)},showTimeDivider:function(t,e){if(e=this.formatMsgTime(e),1==this.tabKey){if(this.timeDivider[this.activeUser.id+"_"+this.activeChat])return!(this.timeDivider[this.activeUser.id+"_"+this.activeChat].time.indexOf(e)>-1&&this.timeDivider[this.activeUser.id+"_"+this.activeChat].show[e]!==t)&&(-1===this.timeDivider[this.activeUser.id+"_"+this.activeChat].time.indexOf(e)&&(this.timeDivider[this.activeUser.id+"_"+this.activeChat].time.push(e),this.timeDivider[this.activeUser.id+"_"+this.activeChat].show[e]=t),!0)}else if(this.timeDivider[this.voiceUser.id+"_0"])return!(this.timeDivider[this.voiceUser.id+"_0"].time.indexOf(e)>-1&&this.timeDivider[this.voiceUser.id+"_0"].show[e]!==t)&&(-1===this.timeDivider[this.voiceUser.id+"_0"].time.indexOf(e)&&(this.timeDivider[this.voiceUser.id+"_0"].time.push(e),this.timeDivider[this.voiceUser.id+"_0"].show[e]=t),!0)},isFromUser:function(t){return 1==t.from_type&&t.user_id==this.activeUser.id},getMsgType:function(t){var e=1;switch(t.msgtype?t.msgtype:t.type){case"text":case"markdown":e=1;break;case"image":e=2;break;case"video":e=3;break;case"mixed":e=4;break;case"weapp":e=5;break;case"file":e=6;break;case"revoke":e=7;break;case"emotion":e=8;break;case"voice":e=9;break;case"link":e=10;break;case"agree":e=11;break;case"disagree":e=12;break;case"card":e=13;break;case"location":e=14;break;case"redpacket":case"external_redpacket":e=15;break;case"collect":e=16;break;case"calendar":e=17;break;case"todo":e=18;break;case"vote":e=101==t.info.votetype?19:18;break;case"docmsg":e=20;break;case"meeting":e=101==t.info.meetingtype?21:18;break}return e},initTimeDivider:function(){1==this.tabKey?this.timeDivider[this.activeUser.id+"_"+this.activeChat]={time:[],show:[]}:this.timeDivider[this.voiceUser.id+"_0"]={time:[],show:[]}},initMsgContent:function(t,e){var a="[暂不支持的信息]";switch(t.msgtype?t.msgtype:t.type){case"text":case"markdown":a=this.initTextMsgContent(t.info);break;case"image":a=this.initImgMsgContent(t.info);break;case"video":a=this.showMsgVisible?'<div style="width: 160px;position: relative;">'+this.initVideoMsgContent(t.info)+"</div>":this.initVideoMsgContent(t.info);break;case"voice":a=this.initVoiceMsgContent(t.info);break;case"emotion":a=this.initEmotionMsgContent(t.info);break;case"weapp":a=this.initWeappMsgContent(t.info);break;case"file":a=this.initFileMsgContent(t.info);break;case"revoke":a=this.initRevokeMsgContent(t.info);break;case"mixed":a=this.initMixedMsgContent(t.info);break;case"link":a=this.initLinkMsgContent(t.info);break;case"agree":a=this.initAgreeMsgContent(t.info);break;case"disagree":a=this.initDisagreeMsgContent(t.info);break;case"card":a=this.initCardMsgContent(t.info);break;case"location":a=this.initLocationMsgContent(t.info);break;case"redpacket":case"external_redpacket":a=this.initRedpacketMsgContent(t.info);break;case"collect":a=this.initCollectMsgContent(t.info);break;case"calendar":a=this.initCalendarMsgContent(t.info);break;case"todo":a=this.initTodoMsgContent(t.info);break;case"vote":a=this.initVoteMsgContent(t);break;case"docmsg":a=this.initDocmsgMsgContent(t.info);break;case"meeting":a=this.initMeetingMsgContent(t);break;default:console.log("暂不支持的【"+t.content+"】信息");break}return a},initTextMsgContent:function(t){var e=this;return t=t.content,-1!==t.search(/[\/\[\]\(\)\|\$\*\?\+\-\_]/g)&&v["a"].wechatEmojiKey&&v["a"].wechatEmojiKey.length>0&&v["a"].wechatEmojiKey.map((function(a){var i=new RegExp(e.utils.addslashes(a),"g"),n=v["a"].getEmojiUrl(a);t=t.replace(i,'<img src="'+n+'" alt="'+a+'" height="21" width="21"/>')})),"<div>"+t.replace(/[\r\n|\n]/g,"<br/>")+"</div>"},getNewSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1272,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:720,a=160,i=160,n=840,o=600,s=a,r=i,c=n,l=o;return parseInt(e)>parseInt(t)?(parseInt(e)>i?s=i*t/e:(s=t,r=e),parseInt(e)>o?c=o*t/e:(c=t,l=e),c>n&&(c=n,l=n*e/t)):(parseInt(t)>a?r=a*e/t:(s=t,r=e),parseInt(t)>c?l=n*e/t:(c=t,l=e),l>o&&(c=o*t/e,l=o)),{newWidth:s,newHeight:r,newPreviewWidth:c,newPreviewHeight:l}},initImgMsgContent:function(t){var e="img-"+t.id,a=this.getNewSize(t.width,t.height),i=a.newWidth,n=a.newHeight,o=a.newPreviewWidth,s=a.newPreviewHeight;return t.preview_width=o,t.preview_height=s,this.initPreviewInfo(e,t,"IMG"),'<img class="media-content" src="'+this.$store.state.commonUrl+t.file_path+'" alt="图片" height="'+n+'" width="'+i+'" data-key="'+e+'" />'},getMediaDuration:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video",a=Math.floor(t/60);if(a<1)return"voice"==e?t:t<10?"00:0"+t:"00:"+t;var i=Math.floor(a/60);if(i<1){var n=t-60*a;return a<10?n<10?"voice"==e?a+":0"+n:"0"+a+":0"+n:"voice"==e?a+":"+n:"0"+a+":"+n:n<10?a+":0"+n:a+":"+n}},initVideoMsgContent:function(t){var e='<div class="wrong-notice">【视频无法加载】</div>';if(""!==t.local_path){var a="video-"+t.id;t.width&&(t.width=1272),t.height&&(t.height=720);var i=this.getNewSize(t.width,t.height),n=i.newWidth,o=i.newHeight,s=i.newPreviewWidth,r=i.newPreviewHeight;t.preview_width=s,t.preview_height=r,this.initPreviewInfo(a,t,"VIDEO"),e='<video class="media-content" src="'+this.$store.state.commonUrl+t.local_path+'" preload width="'+n+'" height="'+o+'" data-key="'+a+'"></video><div class="media-play-btn"><span class="play-btn" data-key="'+a+'"></span></div><span class="video-duration" data-key="'+a+'">'+this.getMediaDuration(t.play_length)+"</span>"}return e},initVoiceMsgContent:function(t){var e='<div class="wrong-notice">【音频无法加载】</div>';if(""!==t.local_path){var a="voice-"+t.id,i=240,n=75,o=t.play_length*i/60;o=o<n?n:o,e='<div class="voice-box voice-btn" style="width: '+o+'px;" data-key="'+a+'"><div class="voice-symbol voice-btn" data-key="'+a+'"><span id="voiceCircleFirst'+a+'" class="voice-circle first voice-btn" data-key="'+a+'"></span><span id="voiceCircleSecond'+a+'"  class="voice-circle second voice-btn" data-key="'+a+'"></span><span id="voiceCircleThird'+a+'"  class="voice-circle third voice-btn" data-key="'+a+'"></span></div>',e+='<span class="voice-time voice-btn" data-key="'+a+'">'+this.getMediaDuration(t.play_length,"voice")+"″</span></div>",e+='<audio id="voiceAudio'+a+'" preload src="'+this.$store.state.commonUrl+t.local_path+'" style="display: none; "/>'}return e},initEmotionMsgContent:function(t){return'<img class="emotion-content" src="'+this.$store.state.commonUrl+t.local_path+'"/>'},initWeappMsgContent:function(t){return'<div class="weapp-content"><div class="weapp-display-name">'+t.displayname+'</div><div class="weapp-title">'+t.title+'</div><div class="weapp-description">'+t.description+'</div><div class="weapp-footer"><img src="'+this.miniApp+'" width="12" height="12" style="margin-right: 5px; vertical-align: middle;"/><span style="vertical-align: middle;">小程序</span></div></div>'},getDisplayFileSize:function(t){var e=t/1024;if(parseInt(e)<1024)return parseInt(e)+"K";var a=e/1024;if(parseInt(a)<1024)return a.toFixed(2)+"M";var i=a/1024;if(parseInt(i)<1024)return i.toFixed(2)+"G";var n=i/1024;return n.toFixed(2)+"T"},initFileMsgContent:function(t){var e=L.a;return"csv"==t.fileext?e=S.a:"doc"==t.fileext?e=T.a:"docx"==t.fileext?e=M.a:"pdf"==t.fileext?e=z.a:"ppt"==t.fileext?e=A.a:"pptx"==t.fileext?e=N.a:"txt"==t.fileext?e=j.a:"xls"==t.fileext?e=P.a:"xlsx"==t.fileext?e=E.a:"xmind"==t.fileext&&(e=H.a),'<div class="file-content file" data-src="'+t.local_path+'"><div data-src="'+t.local_path+'" class="file-info file"><span data-src="'+t.local_path+'" class="file" style="width: 176px; display: inline-block; height: 40px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">'+t.filename+'</span><span data-src="'+t.local_path+'" class="file" style="font-size: 12px; height: 20px; line-height: 20px; color: #999999; ">'+this.getDisplayFileSize(t.filesize)+'</span></div><img style="margin-top: 10px;" data-src="'+t.local_path+'" class="file" class="file-icon" src="'+e+'" height="41"/></div>'},initRevokeMsgContent:function(t){var e='<div class="revoke-box"><span style="display: block;">这是一条【撤回】消息，内容如下：</span> <div class="revoke-content">';return"undefined"!==typeof t.content&&"undefined"!==typeof t.content.msgtype&&(e+='<div class="content content-'+this.getMsgType(t.content)+'">'+this.initMsgContent(t.content)+"</div>"),e+="</div></div>",e},initMixedMsgContent:function(t){var e=this,a="";return t.map((function(t){switch(t.type){case"text":case"markdown":a+=e.initTextMsgContent(t.content);break;case"image":a+=e.initImgMsgContent(t.content);break;case"video":a+=e.initVideoMsgContent(t.content);break;case"weapp":a+=e.initWeappMsgContent(t.content);break;case"file":a+=e.initFileMsgContent(t.content);break;case"emotion":a+=e.initEmotionMsgContent(t.content);break;case"link":a+=e.initLinkMsgContent(t.content);break;case"agree":a+=e.initAgreeMsgContent(t.content);break;case"disagree":a+=e.initDisagreeMsgContent(t.content);break;case"card":a+=e.initCardMsgContent(t.content);break;case"location":a+=e.initLocationMsgContent(t.content);break;case"redpacket":case"external_redpacket":a+=e.initRedpacketMsgContent(t.content);break;case"collect":a+=e.initCollectMsgContent(t.content);break;case"calendar":a+=e.initCalendarMsgContent(t.content);break;case"todo":a+=e.initTodoMsgContent(t.content);break;case"vote":a+=e.initVoteMsgContent(t);break;case"docmsg":a+=e.initDocmsgMsgContent(t.content);break;case"meeting":a+=e.initMeetingMsgContent(t.content);break;default:a+="暂不支持的【"+t.content.content+"】信息";break}})),a},initLinkMsgContent:function(t){var e='<div class="item-info msg_content_txt"><p class="url-title">'+t.title+'</p><div style="overflow: hidden;"><div class="url-text">'+t.description+"</div>";return t.image_url&&(e+='<img src="'+t.image_url+'" alt="" style="object-fit: cover;"class="url-img">'),e+="</div></div>",e},initAgreeMsgContent:function(t){var e='<div class="msg_content_txt">对方同意存档会话内容，你可以继续提供服务</div>';return e},initDisagreeMsgContent:function(t){var e='<div class="msg_content_txt">对方不同意存档会话内容，你将无法继续提供服务</div>';return e},initCardMsgContent:function(t){var e='<div class="item-info msg_content_txt"><div style="overflow: hidden;width: calc(100% - 80px); display: inline-block;padding: 5px 16px;"><p class="url-title">'+t.corpname+'</p><div class="url-text" style="color: #333333;font-weight: 700;">'+t.userid+'</div><div class="url-text">'+(t.user_info?t.user_info.name:"")+"</div></div>";return t.user_info.thumb_avatar||t.user_info.avatar?e+='<img v-if="content.user_info" src="'+(t.user_info.thumb_avatar||t.user_info.avatar)+'" alt="" style="object-fit: cover;margin: 10px 10px 0 0;"class="url-img">':e+='<img v-if="content.user_info" src="'+a("46bb")+'" alt="" style="object-fit: cover;margin: 10px 10px 0 0;"class="url-img">',e+='<div class="card-title">个人名片</div></div>',e},initLocationMsgContent:function(t){var e='<span class="wrong-notice"><i aria-label="图标: environment" class="anticon anticon-environment" style="color: green; vertical-align: middle; "><svg viewBox="64 64 896 896" data-icon="environment" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M854.6 289.1a362.49 362.49 0 0 0-79.9-115.7 370.83 370.83 0 0 0-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 0 0 169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0 0 22.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"></path></svg></i> <strong style="vertical-align: middle; ">位置信息：</strong><i style="vertical-align: middle; ">'+t.address+" "+t.title+"</i></span>";return e},initRedpacketMsgContent:function(t){var e='<div class="redpacket"><div class="redpacket-title"><img class="redpacket-img" src="'+a("5705")+'" /><div style="display: inline-block;"><div class="redpacket-wish">'+t.wish+"</div><div>金额："+t.totalamount/100+'元</div></div></div><div class="redpacket-name">红包</div></div>';return e},initCollectMsgContent:function(t){for(var e='<div class="collect"><div class="collect-title">'+t.title+'</div><div class="collect-table">',i=0;i<t.details.length;i++)e+='<div class="table-th1">'+t.details[i].ques+'</div><div class="table-th2"></div>';return e+='</div><div class="collect-footer"><img class="collect-icon" src="'+a("1f3b")+'" /><span class="collect-desc">填表</span></div></div>',e},initCalendarMsgContent:function(t){var e='<div class="calendar"><div class="calendar-title">'+(t.title||"无主题")+'</div><div class="calendar-time">'+t.dateStr+"</div>";return t.creatorname&&(e+='<div class="calendar-list">'+t.creatorname+"</div>"),t.place&&(e+='<div class="calendar-list">'+t.place+"</div>"),t.remarks&&(e+='<div class="calendar-remarks">'+t.remarks+"</div>"),e+='<div class="calendar-footer"><img class="calendar-icon" src="'+a("2b78")+'" /><span class="calendar-desc">日程</span></div></div>',e},initTodoMsgContent:function(t){var e='<div class="msg_content_txt">'+t.title+"："+t.content+"</div>";return e},initVoteMsgContent:function(t){var e=t.info,i="";if(101==e.votetype){i='<div class="vote"><div class="vote-title">'+e.votetitle+'</div><div class="vote-table">';for(var n=0;n<e.voteitem.length;n++)i+='<div class="table-th1"><img style="width: 7px;vertical-align: initial;margin-right: 10px;" src="'+a("c0ef")+'">'+e.voteitem[n]+"</div>";i+='</div><div class="vote-footer"><img class="vote-icon" src="'+a("7623")+'" /><span class="vote-desc">投票</span></div></div>'}else i+='<div class="msg_content_txt">'+t.from_info.name+'填写了投票[<span style="color: #1890FF">'+e.votetitle+"</span>]";return i},initDocmsgMsgContent:function(t){var e=a("e99c"),i='<div data-src="'+t.link_url+'" class="item-info msg_content_txt docmsg"><div style="width: 18px; height: 18px; background-color: #1890FF; color: #FFFFFF; border-radius: 50%;text-align: center;line-height: 16px;margin-right: 10px; display: inline-block;">w</div>微文档<div data-src="'+t.link_url+'" class="docmsg" style="overflow: hidden; margin-top: 10px;"><div data-src="'+t.link_url+'" class="url-text docmsg"><p data-src="'+t.link_url+'" class="doc_title docmsg">'+t.title+'</p><p data-src="'+t.link_url+'" class="doc_creator docmsg">'+t.doc_creator+'</p></div><img data-src="'+t.link_url+'" src="'+e+'" alt="" style="object-fit: cover;"class="url-img docmsg"></div></div>';return i},initMeetingMsgContent:function(t){var e=t.info,i="";if("101"==e.meetingtype)i+='<div class="meeting"><div class="meeting-title">'+e.topic+'</div><div class="meeting-content"><div class="meeting-time">时间：'+e.dateStr+'</div><div class="meeting-list">地点：'+e.address+"</div>",e.remarks&&(i+='<div class="meeting-remarks">'+e.remarks+"</div>"),i+='</div><div class="meeting-footer"><img class="meeting-icon" src="'+a("f642")+'" /><span class="meeting-desc">会议预约</span></div></div>';else if("102"==e.meetingtype)switch(e.status){case 1:i='<div class="msg_content_txt">'+t.from_info.name+'参加会议[<span style="color: #1890FF;">'+e.topic+"</span>]</div>";break;case 2:i='<div class="msg_content_txt">'+t.from_info.name+'拒绝会议[<span style="color: #1890FF;">'+e.topic+"</span>]</div>";break;case 3:i='<div class="msg_content_txt">'+t.from_info.name+'待定[<span style="color: #1890FF;">'+e.topic+"</span>]</div>";break;case 4:i='<div class="msg_content_txt">'+t.from_info.name+'未被邀请[<span style="color: #1890FF;">'+e.topic+"</span>]</div>";break;case 5:i='<div class="msg_content_txt">[<span style="color: #1890FF;">'+e.topic+"</span>]会议已取消</div>";break;case 6:i='<div class="msg_content_txt">[<span style="color: #1890FF;">'+e.topic+"</span>]会议已过期</div>";break;case 7:i='<div class="msg_content_txt">'+t.from_info.name+"不在房间内</div>";break;default:break}return i},initChatrecordMsgContent:function(t,e){for(var a=t.info,i='<div class="chat-record record"><div class="chat-title record">'+a.title+"</div>",n=a.item.length>3&&!this.showMsgVisible?3:a.item.length,o=0;o<n;o++){switch(i+='<div class="content-item record">',a.item[o].type){case"text":case"markdown":i+='<span class="record" data-index="'+e+'">'+a.item[o].info.content+"</span>";break;case"image":i+='<span class="record" data-index="'+e+'">[图片]</span>';break;case"video":i+='<span class="record" data-index="'+e+'">[视频]</span>';break;case"voice":i+='<span class="record" data-index="'+e+'">语音</span>';break;case"emotion":i+='<img class="emotion-content record" data-index="'+e+'" src="'+this.$store.state.commonUrl+a.item[o].info.local_path+'"/>';break;case"weapp":i+='<span class="record" data-index="'+e+'">[小程序]</span>';break;case"file":i+='<span class="record" data-index="'+e+'">[文件]</span>';break;case"revoke":i+='<span class="record" data-index="'+e+'">[撤回消息]</span>';break;case"mixed":i+='<span class="record" data-index="'+e+'">[混合消息]</span>';break;case"link":i+='<span class="record" data-index="'+e+'">[链接]</span>';break;case"agree":i+='<div class="msg_content_txt record" data-index="'+e+'">对方同意存档会话内容，你可以继续提供服务</div>';break;case"disagree":i+='<div class="msg_content_txt" data-index="'+e+'">对方不同意存档会话内容，你将无法继续提供服务</div>';break;case"card":i+='<span class="record" data-index="'+e+'">[个人名片]</span>';break;case"location":i+='<span class="wrong-notice record"><i aria-label="图标: environment" class="anticon record anticon-environment" data-index="'+e+'" style="color: green; vertical-align: middle; "><svg viewBox="64 64 896 896" data-icon="environment" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class="record" data-index="'+e+'"><path d="M854.6 289.1a362.49 362.49 0 0 0-79.9-115.7 370.83 370.83 0 0 0-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 0 0 169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0 0 22.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"></path></svg></i> <strong class="record" data-index="'+e+'" style="vertical-align: middle; ">位置信息：</strong><i class="record" data-index="'+e+'" style="vertical-align: middle; ">'+a.item[o].info.address+" "+a.item[o].info.title+"</i></span>";break;case"redpacket":case"external_redpacket":i+='<span class="record" data-index="'+e+'">[红包]</span>';break;case"collect":i+='<span  class="record" data-index="'+e+'">[填表]</span>';break;case"calendar":i+='<span  class="record" data-index="'+e+'">[日程]</span>';break;case"todo":i+='<div class="msg_content_txt record" data-index="'+e+'">'+a.item[o].info.title+"："+a.item[o].info.content+"</div>";break;case"vote":i+='<span class="record" data-index="'+e+'">[投票]</span>';break;case"docmsg":i+='<span class="record" data-index="'+e+'">[在线文档]</span>';break;case"meeting":i+='<span class="record" data-index="'+e+'">[会议预约]</span>';break;case"chatrecord":this.showMsgVisible?i+='<div style="padding-left: 40px;">'+this.initMsgContent(t.info.item[o])+"</div>":i+='<span class="record" data-index="'+e+'">[聊天记录]</span>';break;default:i+='<spanclass="record" data-index="'+e+'">'+a.item[o].type+"[该消息类型暂不能显示]</span>";break}i+="</div>"}return a.item.length>3&&!this.showMsgVisible&&(i+='<div class="content-item record" data-index="'+e+'">···</div>'),i+="</div>",i},changeScrollTop:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$nextTick((function(){var i=0;null===a&&(i=0!=t.scrollData[t.activeUser.id+"_"+t.activeChat]["old_first_id"]?t.scrollData[t.activeUser.id+"_"+t.activeChat].old_first_id:t.scrollData[t.activeUser.id+"_"+t.activeChat].last_id,e&&(i=t.scrollData[t.activeUser.id+"_"+t.activeChat].last_id),"undefined"!==typeof t.$refs[i]&&(a=t.$refs[i][0].offsetTop,i!==t.scrollData[t.activeUser.id+"_"+t.activeChat].last_id&&(a-=24,1===t.$refs[i][0].childElementCount&&(a-=56))),"undefined"!==typeof t.$refs.chat_info_list&&(t.$refs.chat_info_list.$el.scrollTop=a,t.scrollData[t.activeUser.id+"_"+t.activeChat].position=a))}))},initPreviewInfo:function(t,e,a){var i={};switch(a){case"IMG":i={previewType:"IMG",previewUrl:this.$store.state.commonUrl+e.file_path,previewAlt:"图片",previewWidth:e.preview_width,previewHeight:e.preview_height};break;case"VIDEO":i={previewType:"VIDEO",previewUrl:this.$store.state.commonUrl+e.local_path,previewAlt:"视频",previewWidth:e.preview_width,previewHeight:e.preview_height};break;default:break}"undefined"===typeof this.previewInfo[this.activeUser.id+"_"+this.activeChat]&&(this.previewInfo[this.activeUser.id+"_"+this.activeChat]=[]),"undefined"===typeof this.previewRelation[this.activeUser.id+"_"+this.activeChat]&&(this.previewRelation[this.activeUser.id+"_"+this.activeChat]=[]),"undefined"===typeof this.previewRelation[this.activeUser.id+"_"+this.activeChat][t]?(this.previewInfo[this.activeUser.id+"_"+this.activeChat].push(i),this.previewRelation[this.activeUser.id+"_"+this.activeChat][t]=this.previewInfo[this.activeUser.id+"_"+this.activeChat].length-1):this.previewInfo[this.activeUser.id+"_"+this.activeChat][this.previewRelation[this.activeUser.id+"_"+this.activeChat][t]]=i},addComment:function(t){(t.target.classList.contains("media-content")||t.target.classList.contains("play-btn")||t.target.classList.contains("voice-duration")&&!this.showMsgVisible)&&this.previewHis(t),t.target.classList.contains("voice-btn")&&this.voicePlayOrStop(t),t.target.classList.contains("file")&&t.target.dataset&&t.target.dataset.src&&window.open(this.$store.state.commonUrl+t.target.dataset.src),t.target.classList.contains("docmsg")&&t.target.dataset&&t.target.dataset.src&&window.open(t.target.dataset.src),(t.target.classList.contains("record")||t.target.classList.contains("content-22")&&!this.showMsgVisible)&&t.target.dataset&&t.target.dataset.index&&(this.recordMsg=this.chatInfoList[t.target.dataset.index],this.showMsgVisible=!0)},handleCancelRecord:function(){this.showMsgVisible=!1,this.recordMsg={}},previewHis:function(t){var e=this;this.previewVisible3=!0,this.$nextTick((function(){e.$refs.previewCarousel.goTo(e.previewRelation[e.activeUser.id+"_"+e.activeChat][t.target.dataset.key],!1)}))},voicePlayOrStop:function(t){var e=this;clearInterval(this.playAudio.interval);var a=t.target.dataset.key,i=document.getElementById("voiceAudio"+a),n=document.getElementById("voiceCircleFirst"+a),o=document.getElementById("voiceCircleSecond"+a),s=document.getElementById("voiceCircleThird"+a);if(this.playAudio.isPlay)if(this.playAudio.dom.pause(),this.playAudio.key==a)this.playAudio.isPlay=!1,this.playAudio.key=0,this.playAudio.dom="",n.setAttribute("style",""),o.setAttribute("style",""),s.setAttribute("style","");else{var r=document.getElementById("voiceCircleFirst"+this.playAudio.key);null!=r&&r.setAttribute("style","");var c=document.getElementById("voiceCircleSecond"+this.playAudio.key);null!=c&&c.setAttribute("style","");var l=document.getElementById("voiceCircleThird"+this.playAudio.key);null!=l&&l.setAttribute("style",""),this.playAudio.key=a,this.playAudio.dom=i,n.setAttribute("style","animation: voiceRun1 3s linear infinite;"),o.setAttribute("style","animation: voiceRun2 3s linear infinite;"),s.setAttribute("style","animation: voiceRun3 3s linear infinite;"),i.currentTime=0,i.play()}else this.playAudio.isPlay=!0,this.playAudio.key=a,this.playAudio.dom=i,n.setAttribute("style","animation: voiceRun1 3s linear infinite;"),o.setAttribute("style","animation: voiceRun2 3s linear infinite;"),s.setAttribute("style","animation: voiceRun3 3s linear infinite;"),i.currentTime=0,i.play();this.playAudio.isPlay&&(this.playAudio.interval=setInterval((function(){e.playAudio.dom.ended&&(document.getElementById("voiceCircleFirst"+e.playAudio.key).setAttribute("style",""),document.getElementById("voiceCircleSecond"+e.playAudio.key).setAttribute("style",""),document.getElementById("voiceCircleThird"+e.playAudio.key).setAttribute("style",""),e.playAudio.isPlay=!1,e.playAudio.key=0,e.playAudio.dom="",clearInterval(e.playAudio.interval))}),10))},videoPlay:function(t){var e=t.target,a=e.dataset.key;this.playVideo.isPlay=!0,this.playVideo.key=a,this.playVideo.dom=e},videoPause:function(t){this.playVideo.isPlay=!1,this.playVideo.key=-1,this.playVideo.dom=""},videoStop:function(){this.playVideo.isPlay&&(this.playVideo.dom.currentTime=0,this.playVideo.dom.pause())},handleCancel3:function(){this.previewVisible3=!1,this.videoStop()},getUserList:function(){this.activeUser=[],this.userList=[],this.userList.push({id:this.user_id}),this.selectUserList=JSON.parse(JSON.stringify(this.userList)),this.selectUserList.length>0&&(this.activeUser=this.selectUserList[0])},getChatList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,s,r,c,l,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:1,a=d.length>1&&void 0!==d[1]?d[1]:this.pageSize,1!=this.tabKey){t.next=5;break}return this.isChatUserLoading=!1,t.abrupt("return");case 5:return i=this.type,t.next=8,this.axios.post("work-msg-audit/chat",{corp_id:this.corpId,user_id:this.user_id,external_id:this.external_user_id,page:e,pageSize:a});case 8:if(n=t.sent,o=n.data,0==o.error){t.next=16;break}this.isChatUserLoading=!1,this.$message.destroy(),this.$message.error(o.error_msg),t.next=41;break;case 16:if(i!=this.type){t.next=38;break}if(this.allChatList=this.allChatList.concat(o.data),s={},this.allChatList=this.allChatList.reduce((function(t,e){return!s[e.id]&&(s[e.id]=t.push(e)),t}),[]),this.chatList=JSON.parse(JSON.stringify(this.allChatList)),1!=e){t.next=34;break}if(this.activeChatName="",!(this.chatList.length>0)){t.next=32;break}this.activeChat=2!=this.type&&3!=this.type?this.chatList[0].chatUserId:this.chatList[0].chat_id,t.t0=this.type,t.next=0===t.t0?28:1===t.t0?28:2===t.t0?30:3===t.t0?30:32;break;case 28:return this.activeChatName=o.data[0].user.name,t.abrupt("break",32);case 30:return this.activeChatName=o.data[0].chat.length>0?o.data[0].chat:"群聊",t.abrupt("break",32);case 32:o.data.length<this.pageSize?this.loadItem=!1:this.loadItem=!0,this.initTimeDivider();case 34:this.page=e,this.pageSize=a,this.isChatUserLoading=!1,1!=e&&(r=this,c=this.allChatList.length-this.pageSize-1,l=setInterval((function(){document.getElementsByClassName("chat-info-list")[0].scrollHeight>60*c&&(clearInterval(l),o.data.length<r.pageSize?r.loadItem=!1:r.loadItem=!0)}),100));case 38:this.isChatListLoading=!1,this.chatItemLoading=!1,2==this.tabKey&&o.data.length>0&&(this.getChatInfoList(),this.getChatUserList());case 41:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),websocketOnMessage:function(t){if("undefined"!=typeof t.type&&"audit"==t.type&&t.corp_id){var e=this;if(t.corp_id==localStorage.getItem("corpId")&&"meeting_voice_call"!=t.msg_list.msgtype){var a=t.msg_list;if("mixed"==a.msgtype){for(var i=[],n=Object.keys(a.info),o=0;o<n.length;o++)i.push(a.info[n[o]]);a.info=i}else if("vote"==a.msgtype&&"101"==a.info.votetype){for(var s=[],r=Object.keys(a.info.voteitem),c=0;c<r.length;c++)s.push(a.info.voteitem[r[c]]);a.info.voteitem=s}else if("revoke"==a.msgtype){if("mixed"==a.info.content.msgtype){for(var l=[],h=Object.keys(a.info.content.info),p=0;p<h.length;p++)l.push(a.info.content.info[h[p]]);a.info.content.info=l}if("vote"==a.info.content.msgtype){for(var m=[],g=Object.keys(a.info.content.info.voteitem),f=0;f<g.length;f++)m.push(a.info.content.info.voteitem[g[f]]);a.info.content.info.voteitem=m}}if(a.msgtype==e.msgType||""==e.msgType)if(2==e.tabKey){var u=!1;if(this.allChatList.forEach((function(t){a.chat_id==t.chat_id&&(u=!0)})),!u)return;for(var v=[],x=Object.keys(a.avatarData),b=0;b<x.length;b++)v.push(a.avatarData[x[b]]);if(a.avatarData=v,a.chat_id==e.activeChat&&(""==e.msgType||a.msgtype==e.msgType)&&(!e.sendDate||0==e.sendDate.length||e.formatMsgTime(a.msgtime,!1,"YYYY-MM-DD")>d()(e.sendDate[0]).format("YYYY-MM-DD")&&e.formatMsgTime(a.msgtime,!1,"YYYY-MM-DD")<d()(e.sendDate[1]).format("YYYY-MM-DD"))){"text"==a.msgtype?(""==e.msgName||a.content.indexOf(e.msgName)>-1)&&e.chatInfoList.push(a):e.chatInfoList.push(a);var w={first_id:e.chatInfoList[e.chatInfoList.length-1].msgid,old_first_id:e.chatInfoList.length>0?e.chatInfoList[e.chatInfoList.length-1].msgid:0,last_id:e.chatInfoList[e.chatInfoList.length-1].msgid,position:null};e.$set(e.scrollData,e.activeUser.id+"_"+e.activeChat,w),e.changeScrollTop()}var _=e.allChatList.findIndex((function(t){return t.chat_id==a.chat_id}));if(_>-1){e.allChatList[_].msgtime=a.msgtime,e.allChatList[_].content=decodeURIComponent(a.content);var y=JSON.parse(JSON.stringify(e.allChatList[_]));if(e.allChatList.splice(_,1),e.allChatList.unshift(y),_=e.chatList.findIndex((function(t){return t.chat_id==a.chat_id})),_>-1){if(e.chatList.findIndex((function(t){return t.chat_id==e.activeChat}))<_){var k=document.getElementsByClassName("chat-list-box")[0];k&&(k.scrollTop=k.scrollTop+55)}e.chatList[_].msgtime=a.msgtime,e.chatList[_].content=decodeURIComponent(a.content),y=JSON.parse(JSON.stringify(e.chatList[_])),e.chatList.splice(_,1),e.chatList.unshift(y)}var C=e.formatMsgTime(a.msgtime);-1===e.timeDivider[e.activeUser.id+"_"+e.activeChat].time.indexOf(C)&&(e.timeDivider[e.activeUser.id+"_"+e.activeChat].time.push(C),e.timeDivider[e.activeUser.id+"_"+e.activeChat].show[C]=a.msgid)}else{var L={chat:t.chat_name,chat_id:a.chat_id,content:decodeURIComponent(a.content),id:"",msgtime:a.msgtime,roomid:a.roomid,avatarData:a.avatarData};e.allChatList.unshift(L),(""==e.userOrChatName||userInfo.name.indexOf(e.userOrChatName)>-1)&&e.chatList.unshift(L)}}else if(a.user_id==e.activeUser.id||a.to_user_id==e.activeUser.id){var I="";I=a.user_id?a.to_external_id:a.external_id;var S=a.user_id==e.activeUser.id?a.to_info:a.from_info;if(e.activeChat==I&&(""==e.msgType||a.msgtype==e.msgType)&&(!e.sendDate||0==e.sendDate.length||e.formatMsgTime(a.msgtime,!1,"YYYY-MM-DD")>d()(e.sendDate[0]).format("YYYY-MM-DD")&&e.formatMsgTime(a.msgtime,!1,"YYYY-MM-DD")<d()(e.sendDate[1]).format("YYYY-MM-DD"))){"text"==a.msgtype?(""==e.msgName||a.content.indexOf(e.msgName)>-1)&&e.chatInfoList.push(a):e.chatInfoList.push(a);var U=e.formatMsgTime(a.msgtime);-1===e.timeDivider[e.activeUser.id+"_"+e.activeChat].time.indexOf(U)&&(e.timeDivider[e.activeUser.id+"_"+e.activeChat].time.push(U),e.timeDivider[e.activeUser.id+"_"+e.activeChat].show[U]=a.msgid);var T={first_id:e.chatInfoList[e.chatInfoList.length-1].msgid,old_first_id:e.chatInfoList.length>0?e.chatInfoList[e.chatInfoList.length-1].msgid:0,last_id:e.chatInfoList[e.chatInfoList.length-1].msgid,position:null};e.$set(e.scrollData,e.activeUser.id+"_"+e.activeChat,T),e.changeScrollTop()}var D=e.allChatList.findIndex((function(t){return t.chatUserId==I}));if(D>-1){e.allChatList[D].content=decodeURIComponent(a.content),e.allChatList[D].msgtime=a.msgtime;var M=JSON.parse(JSON.stringify(e.allChatList[D]));if(e.allChatList.splice(D,1),e.allChatList.unshift(M),D=e.chatList.findIndex((function(t){return t.chatUserId==I})),D>-1){var V=document.getElementsByClassName("chat-info-list")[0],z=document.getElementsByClassName("chat-list-active")[0],O=e.chatList.findIndex((function(t){return t.chatUserId==e.activeChat}));if(O<D)V&&(60*(O+1)>=V.clientHeight&&V.clientHeight,V.scrollTop=V.scrollTop+60);else if(e.chatList.findIndex((function(t){return t.chatUserId==e.activeChat}))==D){var A=window.innerHeight,F=V.scrollTop,N=z.offsetTop,R=z.offsetHeight;N<F+A&&N+R>F&&V&&(V.scrollTop=0)}e.chatList[D].msgtime=a.msgtime,e.chatList[D].content=decodeURIComponent(a.content),M=JSON.parse(JSON.stringify(e.chatList[D])),e.chatList.splice(D,1),e.chatList.unshift(M)}}else{var j={chatUserId:I,content:decodeURIComponent(a.content),msgtime:a.msgtime,user:{avatar:S.avatar,id:I,name:S.name,thumb_avatar:S.thumb_avatar}};e.allChatList.unshift(j),(""==e.userOrChatName||S.name.indexOf(e.userOrChatName)>-1)&&e.chatList.unshift(j)}}}}},content:function(t,e){var a=!0,i=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var r=o.value;if(r==e)return!0}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}return!1},getChatInfoList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,s,r,c,l,h=this,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=!(p.length>0&&void 0!==p[0])||p[0],this.chatItemLoading=!0,0!=this.activeChat){t.next=6;break}return this.isChatListLoading=!1,this.chatItemLoading=!1,t.abrupt("return");case 6:return a=this.msgType,t.next=9,this.axios.post("work-msg-audit/get-msg-content",{corp_id:this.corpId,from_id:1==this.tabKey?this.activeUser.id:this.activeChat,to_id:this.activeChat,last_time:this.lastTime,msg_type:this.msgType,search_name:this.msgName,start_date:this.sendDate&&this.sendDate.length>1?d()(this.sendDate[0]).format("YYYY-MM-DD"):"",end_date:this.sendDate&&this.sendDate.length>1?d()(this.sendDate[1]).format("YYYY-MM-DD"):"",type:1==this.tabKey?1:3,chat_from_id:this.chatFromId,chat_from_type:this.chatFromType});case 9:if(i=t.sent,n=i.data,0==n.error){t.next=15;break}this.$message.error(n.error_msg),t.next=22;break;case 15:if(a==this.msgType){t.next=17;break}return t.abrupt("return",!1);case 17:n.data.length>0?(o=this.chatInfoList.length>0?this.chatInfoList[0].msgid:0,this.initTimeDivider(),n.data.map((function(t){h.chatInfoList.unshift(t),h.lastTime=t.msgtime})),s=this.chatInfoList[0].msgid,r=this.chatInfoList.length-1,c=this.chatInfoList[r].msgid,l={first_id:s,old_first_id:o,last_id:c,position:null},this.$set(this.scrollData,this.activeUser.id+"_"+this.activeChat,l)):e=!1,this.previewInfo=[],this.previewRelation=[],this.$set(this.noMore,this.activeUser.id+"_"+this.activeChat,n.data.length<15),e&&this.changeScrollTop();case 22:this.chatInfoList.length>0&&(this.chatInfoList.length-1,this.chatInfoList.forEach((function(t){1!=t.from_type||0!=t.to_type&&2!=t.to_type||(h.quality_id=t.user_id,h.to_user_id=t.to_external_id)})),this.chatInfoList[0].roomid?this.roomid=this.chatInfoList[0].roomid:this.roomid=""),this.chatItemLoading=!1,this.isChatListLoading=!1;case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleScroll:function(){var t=document.getElementsByClassName("chat-info-list")[0],e=t.scrollTop,a=t.clientHeight||document.body.clientHeight,i=t.scrollHeight||document.body.scrollHeight;e+a==i&&this.loadItem&&(this.loadItem=!1,this.isChatUserLoading=!0,this.getPresentGroup(this.page+1,this.pageSize))},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},playMusic:function(t,e){var a=this;if(clearInterval(this.t1),-1!=this.clickIndex&&document.getElementsByName(t)[0].pause(),!e)return this.clickIndex=-1,void(this.flag=!this.flag);document.getElementsByName(t)[0].play(),this.clickIndex=t,this.t1=setInterval((function(){a.playTime[t]--,a.$set(a.playTime,t,a.playTime[t]),a.playTime[t]<=0&&(a.clickIndex=-1,clearInterval(a.t1),a.$set(a.playTime,t,Math.ceil(document.getElementsByName(t)[0].duration)))}),1e3)},oncanplay:function(t){var e=t.target.dataset.index;this.$set(this.playTime,e,Math.ceil(t.target.duration))},getLoseReason:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("custom-field/get-lose-msg",{corp_id:localStorage.getItem("corpId")});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.loseReason=a.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emotion:function(t){var e=t.replace(/\#|\;/gi,""),a=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手"],i=a.indexOf(e);return'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'.concat(i,'.gif" align="middle">')},handleCancel4:function(){this.momentDetailDialog=!1},toTimeLineDetail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("moment/moment-info",{corpid:localStorage.getItem("corpId"),line_id:e.line_id});case 2:a=t.sent,i=a.data,0!=i.error?(this.$message.error(i.error_msg),this.yhIsLoading=!1):(1==i.data.default_heard&&(i.data.heard_img=this.commonUrl+i.data.heard_img),this.userMomentDetail=i.data,this.yhIsLoading=!1,this.momentDetailDialog=!0,n=i.data.info,3==i.data.type&&null!=n&&""!=n&&n!=[]&&(this.playerOptions=G({},this.publicOptions,{sources:[{src:"/"==n[0].local_path.substr(0,1)?this.commonUrl+n[0].local_path:n[0].local_path,type:"video/mp4"}]})));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),goBack:function(){this.$router.go(-1)},getInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.yhIsLoading=!0,t.next=3,this.axios.post("work-external-contact-follow-user/custom-detail",{uid:localStorage.getItem("uid"),cid:this.id,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id")});case 3:e=t.sent,a=e.data,0!=a.error?(this.yhIsLoading=!1,this.$message.error(a.message)):(this.yhIsLoading=!1,this.user_name=a.data.user_name,this.external_user_id=a.data.external_user_id,this.avatar=a.data.avatar,this.name=a.data.name,this.corp_name=a.data.corp_name,this.nickname=a.data.nickname,this.gender=a.data.gender,this.phone=a.data.phone,this.company=a.data.company,this.followTitle=a.data.follow_title,this.is_follow_del=a.data.is_follow_del,this.area=a.data.area,this.des=a.data.des,this.file3=a.data.path,this.hasTags=[],this.tagCheckValue=[],this.hasTagsValue=[],a.data.tag_name.map((function(t){n.hasTags.push(t.tid),n.tagCheckValue.push(t.tid),n.hasTagsValue.push(t.tname)})),this.follow_id=JSON.parse(JSON.stringify(a.data.follow_id)),""==this.follow_id&&(this.follow_id=this.follows[0]&&this.follows[0].id?this.follows[0].id:""),this.status=this.follow_id,this.followStatus=this.follow_id,this.close_rate=a.data.close_rate,this.follow_time=a.data.follow_time,this.follow_times=a.data.follow_times,this.follow_num=a.data.follow_num,this.memberInfo=a.data.memberInfo,this.chatName=a.data.chat_name,this.is_hide_phone=a.data.is_hide_phone,this.dialout_phone=a.data.dialout_phone,this.dialout_exten=a.data.dialout_exten,this.getFollowStatus(),i=[],this.field_list.length>0&&i.push(JSON.parse(JSON.stringify(this.field_list.filter((function(t){return 8==t.type}))[0]))),this.field_list=a.data.field_list,this.field_list.map((function(t){2==t.type||3==t.type?(t.optionVal2=t.optionVal.split(","),2==t.type?""==t.value?t.hasOption=t.value.split(""):t.hasOption=t.value:3==t.type&&""!=t.value&&(t.hasOption=t.value.split(","))):7==t.type?""==t.value?t.provice=[]:t.provice=t.value.split("-"):4==t.type?t.data=t.value:8==t.type&&i.map((function(e){if(e.fieldid==t.fieldid&&e.picUrl){t.picUrl=[];var a=!0,i=!1,n=void 0;try{for(var o,s=e.picUrl[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var r=o.value;t.picUrl.push({uid:r.uid,url:r.url,status:r.status,name:"image.png"})}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}}}))})),this.fieldData=a.data.field_list,this.projectList=a.data.project);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modifyRemark:function(){this.remarkVisible=!this.remarkVisible},setRemark:function(t){var e=this;return t.length>10?(e.$message.warning("备注不可超过10个字"),!1):0==t.trim().length?(e.$message.warning("备注不可为空"),!1):void this.editInfo(t,"nickname")},editInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-external-contact-follow-user/custom-update",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),cid:this.id,type:a,value:e,path:this.imageUrl3});case 2:i=t.sent,n=i.data,0==n.error?("nickname"==a?this.remarkVisible=!this.remarkVisible:"des"==a?this.desVisible=!1:"close_rate"==a&&(this.closeRateVisible=!this.closeRateVisible),this.getInfo(),2==this.tabKeyAll&&this.getInteract()):this.$message.error(n.error_msg);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),showModal:function(){this.groupId="-1",this.visible=!0,this.tagCheckValue=JSON.parse(JSON.stringify(this.hasTags))},modalVisibleChange4:function(t,e){"ok"==t&&(this.tagCheckValue=""==e?[]:e.split(","))},handleOk:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.confirmLoading2=!0,t.next=3,this.axios.post("work-user/give-user-tags",{tag_ids:this.tagCheckValue,user_ids:this.id,type:0,s_type:2,bitch_all:1});case 3:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading2=!1):(this.$message.success(a.error_msg),this.visible=!1,this.confirmLoading2=!1,this.getInfo());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelVisible:function(){this.visible=!1,this.tagCheckValue=[]},showAddTagModal:function(){this.tagCheckValue=[],this.addTagVisible=!0,this.editGroupId=this.groupList[0].id},onSearch:function(){if(""==this.editGroupId)return this.$message.warning("请先选择分组"),!1;if(""==this.inputValue)return this.$message.warning("不能为空"),!1;this.tagValue=[];for(var t=0;t<this.inputValue.split(" ").length;t++){if(this.inputValue.split(" ")[t].length>15)return this.$message.error("每个标签最多15个字"),!1;this.inputValue.split(" ")[t].length>0&&this.tagValue.push(this.inputValue.split(" ")[t])}this.addTags()},addTagCancel:function(){this.inputValue="",this.editGroupId="",this.addTagVisible=!0},addTags:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{name:this.tagValue,corp_id:this.corpId,suite_id:1,type:0,group_id:this.editGroupId});case 2:e=t.sent,a=e.data,0!=a.error?"标签名非法，请注意不能和其他标签重名"==a.error_msg?this.$message.error("该标签名称与微信标签重复，请手动同步微信标签即可。"):this.$message.error(a.error_msg):(this.$message.success("新建标签成功"),this.inputValue="",this.addTagVisible=!1,this.editGroupId="",this.getTags());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getGroupList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/list",{corp_id:this.corpId,type:0,suite_id:1});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.groupList=a.data.info;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeGroup:function(t){this.groupId="-1","undefined"!=typeof t&&(this.groupId=t),this.getTags()},showDesVisible:function(){this.desText=this.des,this.imageUrl3=this.file3,this.desVisible=!0},desVisibleCancel:function(){this.desVisible=!1},setDetail:function(){return this.desText.length>150?(this.$message.warning("描述不可超过150个字"),!1):0==this.desText.trim().length?(this.$message.warning("描述不可为空"),!1):void this.editInfo(this.desText,"des")},uploadMaterial3:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),t.next=5,this.axios.post("sub-user/upload-image",a);case 5:i=t.sent,n=i.data,0==n.error?n.data&&(this.imageUrl3=n.data.local_path,this.desImgLoading=!1):(this.$message.error(n.error_msg),this.desImgLoading=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload3:function(t){if(this.desImgLoading=!0,"image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.desImgLoading=!1,!1;var e=t.size/1024/1024<2;return e?t.size<5?(this.$message.error("上传文件大小不符！"),this.desImgLoading=!1,!1):(this.uploadMaterial3(t),e):(this.$message.error("图片不超过2M！"),this.desImgLoading=!1,!1)},modifyCloseRate:function(){this.closeRateVisible=!this.closeRateVisible},setCloseRate:function(t){var e=/^(?:0|[1-9][0-9]?|100)$/;return t>100?(this.$message.warning("成交率不可超过100"),!1):null==t||""==t||e.test(t)?void this.editInfo(t,"close_rate"):(this.$message.warning("成交率必须为0-100正整数"),!1)},editBadicInfo:function(){this.fieldData=JSON.parse(JSON.stringify(this.field_list));for(var t=0;t<this.field_list.length;t++){if(this.field_list[t]["picUrl"]=[],8==this.field_list[t].type&&this.field_list[t].value){var e=!0,a=!1,i=void 0;try{for(var n,o=this.field_list[t].value[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var s=n.value;this.field_list[t]["picUrl"].push({uid:s.uid,url:this.commonUrl+s.url,status:s.status,name:"image.png"})}}catch(c){a=!0,i=c}finally{try{e||null==o.return||o.return()}finally{if(a)throw i}}}if("phone"==this.field_list[t].key&&this.phone){var r=JSON.parse(JSON.stringify(this.phone));this.phone2=r.replace(/,/g," ")}"company"==this.field_list[t].key&&this.company&&(this.company2=JSON.parse(JSON.stringify(this.company)))}this.badicInfoVisible=!0},handleChange:function(t,e){var a=Object(o["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t,this.field_list=a)},handleChange2:function(t,e){var a=Object(o["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.join(","),this.field_list=a)},changeInput:function(t,e){var a=Object(o["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t,this.field_list=a)},changeSpecialInput:function(t,e){"phone"==e?this.phone2=t:"company"==e&&(this.company2=t)},changeArea:function(t,e){var a=Object(o["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.join("-"),this.field_list=a)},selectDate:function(t,e){var a=Object(o["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.format("YYYY-MM-DD"),this.field_list=a)},disabledDate:function(t){return t&&t>d()().endOf("day")},disabledStartDate:function(t){return t.valueOf()>(new Date).getTime()},submitBadicInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,s,r,c,l,d,h,p,m,g,f,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:/^1[345678]{1}\d{9}$/,/^0\d{2,3}-?\d{7,8}$/,e=/[^+|-|\d]/,a=/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}$/,i=JSON.parse(JSON.stringify(this.field_list)),n=!0,o=0;case 7:if(!(o<this.field_list.length)){t.next=78;break}if("phone"!=this.field_list[o].key){t.next=27;break}for(s=this.phone2.split(" "),r=s.length-1;r>=0;r--)""==s[r]&&s.splice(r,1);if(!(s.length>5)){t.next=15;break}return this.$message.error("手机号不能多于5个！"),n=!1,t.abrupt("return",!1);case 15:c=0;case 16:if(!(c<s.length)){t.next=24;break}if(!e.test(s[c])){t.next=21;break}return this.$message.error("手机号格式不正确！"),n=!1,t.abrupt("return",!1);case 21:c++,t.next=16;break;case 24:if(n){t.next=26;break}return t.abrupt("return",!1);case 26:i[o].value=s.join();case 27:if("company"==this.field_list[o].key&&(i[o].value=this.company2),"wx_num"!=this.field_list[o].key||""==i[o].value.trim()){t.next=33;break}if(/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(i[o].value)){t.next=33;break}return this.$message.error("微信号格式不正确！"),n=!1,t.abrupt("return",!1);case 33:if("qq"!=this.field_list[o].key||""==i[o].value.trim()){t.next=38;break}if(/^[1-9][0-9]{4,14}$/.test(i[o].value)){t.next=38;break}return this.$message.error("QQ号格式不正确！"),n=!1,t.abrupt("return",!1);case 38:if("idCard"!=this.field_list[o].key||""==i[o].value.trim()){t.next=43;break}if(/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(i[o].value)){t.next=43;break}return this.$message.error("身份证号码格式不正确！"),n=!1,t.abrupt("return",!1);case 43:if(6!=i[o].type||""==i[o].value.trim()){t.next=48;break}if(a.test(i[o].value)){t.next=48;break}return this.$message.error("邮箱格式不正确！"),n=!1,t.abrupt("return",!1);case 48:if(8!=i[o].type){t.next=74;break}if(!(i[o].picUrl&&i[o].picUrl.length>0)){t.next=73;break}for(l=!0,d=!1,h=void 0,t.prev=53,p=i[o].picUrl[Symbol.iterator]();!(l=(m=p.next()).done);l=!0)g=m.value,g.url=g.url.replace(this.commonUrl,""),delete g.response,delete g.xhr,delete g.percent;t.next=61;break;case 57:t.prev=57,t.t0=t["catch"](53),d=!0,h=t.t0;case 61:t.prev=61,t.prev=62,l||null==p.return||p.return();case 64:if(t.prev=64,!d){t.next=67;break}throw h;case 67:return t.finish(64);case 68:return t.finish(61);case 69:i[o].value=JSON.parse(JSON.stringify(i[o].picUrl)),delete i[o].picUrl,t.next=74;break;case 73:i[o].value=JSON.parse(JSON.stringify(i[o].picUrl));case 74:"undefined"==typeof i[o].value&&(i[o].value="");case 75:o++,t.next=7;break;case 78:if(n){t.next=80;break}return t.abrupt("return",!1);case 80:return t.next=82,this.axios.post("work-external-contact-follow-user/custom-field-update",{uid:localStorage.getItem("uid"),cid:this.id,fieldData:i});case 82:f=t.sent,u=f.data,0!=u.error?this.$message.error(u.error_msg):(this.badicInfoVisible=!1,this.getInfo(1));case 85:case"end":return t.stop()}}),t,this,[[53,57,61,69],[62,,64,68]])})));function e(){return t.apply(this,arguments)}return e}(),cancleBadicInfo:function(){this.badicInfoVisible=!1,this.field_list=JSON.parse(JSON.stringify(this.fieldData))},changeTab:function(t){var e=this;if(2==t)this.btnFlag=1,this.getInteract(1);else if(1==t)this.getFollowRecord();else if(4==t){var a=this;Promise.all([a.getUserList()]).then((function(t){if(0==e.userList.length)return e.isChatUserLoading=!1,e.isChatUserListLoading=!1,e.isChatListLoading=!1,e.chatItemLoading=!1,!1;e.tabKey=1,e.lastTime=0,e.timeDivider=[],e.chatList=[],e.chatInfoList=[],e.$nextTick((function(){e.activeChat=e.external_user_id,a.$nextTick((function(){if("undefined"==typeof a.scrollData[a.activeUser.id+"_"+a.activeChat]){var t={first_id:0,old_first_id:0,last_id:0,position:null};a.$set(a.scrollData,a.activeUser.id+"_"+a.activeChat,t)}a.chatItemLoading=!0,a.chatUserName="",a.getChatUserList(),a.chatFromId="",a.chatFromType="",e.getChatInfoList(),document.getElementsByClassName("chat-info-list")[0].addEventListener("scroll",e.handleScroll)}))}))})).catch((function(t){}))}},getFollowRecord:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:this.pageSize,this.yhIsLoading=!0,t.next=5,this.axios.post("work-external-contact-follow-user/custom-follow-record",{isMasterAccount:localStorage.getItem("isMasterAccount"),uid:localStorage.getItem("uid"),corp_id:this.corpId,cid:this.id,sub_id:localStorage.getItem("sub_id"),page:e,page_size:a});case 5:i=t.sent,n=i.data,0!=n.error?(this.yhIsLoading=!1,this.$message.error(n.error_msg)):(this.yhIsLoading=!1,this.total=parseInt(n.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize,this.followRecord=n.data.followRecord);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getFollowRecord(t,e)},showSizeChange:function(t,e){this.getFollowRecord(1,e)},changeTextarea:function(){0==this.followItem.lose_one&&(""==this.msg&&0==this.file.length?this.submitDisabled=!0:this.submitDisabled=!1)},handleCancel:function(){this.previewVisible=!1},beforeUploadPic:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("image/png"==e.type||"image/jpg"==e.type||"image/jpeg"==e.type){t.next=4;break}return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg3=!1,t.abrupt("return",!1);case 4:if(a=e.size/1024/1024<2,a){t.next=11;break}return this.$message.error("图片不超过2M！"),this.isImg3=!1,t.abrupt("return",!1);case 11:if(!(e.size<5)){t.next=15;break}return this.$message.error("上传文件大小不符！"),this.isImg3=!1,t.abrupt("return",!1);case 15:return this.isImg3=!0,i=new FormData,i.append("uid",localStorage.getItem("uid")),i.append("fileInfo",e),t.next=21,this.axios.post("sub-user/upload-image",i);case 21:if(n=t.sent,o=n.data,0!=o.error){t.next=29;break}if(!o.data){t.next=27;break}return this.picFile3={uid:e.uid,url:this.commonUrl+o.data.local_path,status:"done"},t.abrupt("return",a);case 27:t.next=30;break;case 29:this.$message.error(o.error_msg);case 30:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleChangePic:function(t,e){if("removed"==t.file.status&&this.field_list[e]["picUrl"].splice(this.field_list[e]["picUrl"].findIndex((function(e){return e.url==t.file.url})),1),"done"==this.picFile3.status){var a=this.field_list[e]["picUrl"].findIndex((function(e){return t.file==e}));-1!=a?this.field_list[e]["picUrl"].splice(a,1):this.field_list[e]["picUrl"].push(this.picFile3)}var i=!0,n=!1,o=void 0;try{for(var s,r=this.field_list[e]["picUrl"][Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var c=s.value;"error"==c.status&&(c.status="done",delete c.error,c.name="image.png"),c.name="image.png"}}catch(l){n=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(n)throw o}}this.picFile3={}},preview:function(t){this.previewImage=t,this.previewVisible=!0},handlePreview:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,q(e.originFileObj);case 3:e.preview=t.sent;case 4:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeMsg:function(t){if("uploading"==t.file.status&&(this.submitDisabled=!0),"removed"==t.file.status&&(this.file.splice(this.file.findIndex((function(e){return e==t.file.local_path})),1),this.imageUrl.splice(this.imageUrl.findIndex((function(e){return e.local_path==t.file.local_path})),1),this.imgNum=this.file.length),"done"==this.picFile.status){var e=this.file.findIndex((function(e){return t.file.local_path==e}));-1!=e?(this.file.splice(e,1),this.imageUrl.splice(e,1)):(this.file.push(this.picFile.local_path),this.imageUrl.push(this.picFile)),this.imgNum=this.file.length,this.submitDisabled=!1,this.imageUrlDisabled=!1}var a=!0,i=!1,n=void 0;try{for(var o,s=this.imageUrl[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var r=o.value;"error"==r.status&&(r.status="done")}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.picFile={},0==this.file.length&&""==this.msg&&(this.submitDisabled=!0)},uploadMaterial:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),t.next=5,this.axios.post("sub-user/upload-image",a);case 5:i=t.sent,n=i.data,0==n.error?n.data&&(this.file.push(n.data.local_path),1!=this.followItem.lose_one||this.lose?this.submitDisabled=!1:this.submitDisabled=!0):(this.$message.error(n.error_msg),1!=this.followItem.lose_one||this.lose?this.submitDisabled=!1:this.submitDisabled=!0);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("image/png"==e.type||"image/jpg"==e.type||"image/jpeg"==e.type){t.next=4;break}return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg=!1,t.abrupt("return",!1);case 4:if(a=e.size/1024/1024<2,a){t.next=11;break}return this.$message.error("图片不超过2M！"),this.isImg=!1,t.abrupt("return",!1);case 11:if(!(e.size<5)){t.next=15;break}return this.$message.error("上传文件大小不符！"),this.isImg=!1,t.abrupt("return",!1);case 15:return this.isImg=!0,this.uploadMaterial(e),t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),previewHasImg:function(t){this.previewImage=t,this.previewVisible=!0},changeState:function(t){var e=this,a=this.follows.findIndex((function(t){return t.id==e.follow_id}));this.followItem=this.follows[a],this.submitDisabled=!1,1!=this.followItem.lose_one||this.lose&&""!=this.lose?0==this.followItem.lose_one&&(!this.msg&&""==this.msg&&this.file.length<=0?this.submitDisabled=!0:this.submitDisabled=!1):this.submitDisabled=!0},changeState1:function(t){var e=this,a=this.follows.findIndex((function(t){return t.id==e.status}));this.followItem.lose_one=this.follows[a].lose_one},changeLose:function(){1==this.followItem.lose_one&&(this.lose&&""!=this.lose?this.submitDisabled=!1:this.submitDisabled=!0)},submitFollowRecord:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o,s,r,c,l,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",a=[],""==this.record_id?(e=this.msg,a=this.file):(e=this.msg2,a=this.file2),0!=this.followItem.lose_one){t.next=9;break}if(""!=e.trim()||0!=a.length){t.next=7;break}return this.$message.error("跟进内容和图片至少要填写一个！"),t.abrupt("return",!1);case 7:t.next=12;break;case 9:if(""!=this.lose){t.next=12;break}return this.$message.error("请选择原因！"),t.abrupt("return",!1);case 12:if(i=0,this.editVisible){t.next=18;break}i=this.follow_id,n=1==this.followItem.lose_one?this.lose:"",t.next=25;break;case 18:if(i=this.status,o=this.follows.findIndex((function(t){return t.id==d.status})),s=this.follows[o],n=1==s.lose_one?this.followItem.lose_id:"",1!=s.lose_one||n&&""!=n){t.next=25;break}return this.$message.error("请选择原因！"),t.abrupt("return",!1);case 25:if(""!=i){t.next=28;break}return this.$message.warning("请选择跟进状态！"),t.abrupt("return",!1);case 28:r=0;case 29:if(!(r<this.follows.length)){t.next=40;break}if(this.follows[r].id!=i){t.next=37;break}if(0!=this.follows[r].status){t.next=36;break}return this.$message.warning("跟进状态已被删除，请更换！"),t.abrupt("return",!1);case 36:return t.abrupt("break",40);case 37:r++,t.next=29;break;case 40:return t.next=42,this.axios.post("work-external-contact-follow-user/custom-follow-record-set",{isMasterAccount:localStorage.getItem("isMasterAccount"),corp_id:this.corpId,uid:localStorage.getItem("uid"),cid:this.id,sub_id:localStorage.getItem("sub_id"),record_id:this.record_id,record:e,file:a,follow_id:i,lose:n});case 42:c=t.sent,l=c.data,0!=l.error?this.$message.error(l.error_msg):(localStorage.setItem("followid",i),this.submitDisabled=!0,this.msg="",this.file=[],this.record_id="",this.imageUrl=[],this.imgNum=0,this.msg2="",this.file2=[],this.lose=void 0,this.imageUrl2=[],this.imgNum2=0,this.editVisible=!1,this.getFollowRecord(),this.canEditFollow(),this.getInfo(1));case 45:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editFollowRecord:function(t){var e=this;this.followItem=t,this.status=parseInt(this.followItem.follow_id);var a=this.follows.findIndex((function(t){return t.id==e.status}));this.followItem.lose_one=this.follows[a].lose_one,this.editVisible=!0,this.record_id=t.id,this.msg2=t.record,this.file2=JSON.parse(JSON.stringify(t.file)),t.file.map((function(t,a){var i={uid:a,name:"image.png",status:"done",url:e.commonUrl+t,local_path:t};e.imageUrl2.push(i)})),this.imgNum2=t.file.length},cancelFollowRecord:function(){this.editVisible=!1,this.record_id="",this.status=this.followStatus,this.msg2="",this.file2=[],this.lose=void 0,this.imageUrl2=[],this.imgNum2=0},handleCancel2:function(){this.previewVisible2=!1},handlePreview2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,q(e.originFileObj);case 3:e.preview=t.sent;case 4:this.previewImage2=e.url||e.preview,this.previewVisible2=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeMsg2:function(t){if("uploading"==t.file.status&&(this.followRecordDisabled=!0),"removed"==t.file.status&&(this.file2.splice(this.file2.findIndex((function(e){return e==t.file.local_path})),1),this.imageUrl2.splice(this.imageUrl2.findIndex((function(e){return e.local_path==t.file.local_path})),1),this.imgNum2=this.file2.length),"done"==this.picFile2.status){var e=this.file.findIndex((function(e){return t.file.local_path==e}));-1!=e?(this.file2.splice(e,1),this.imageUrl2.splice(e,1)):(this.file2.push(this.picFile2.local_path),this.imageUrl2.push(this.picFile2)),this.imgNum2=this.file2.length,this.followRecordDisabled=!1,this.imageUrlDisabled2=!1}var a=!0,i=!1,n=void 0;try{for(var o,s=this.imageUrl2[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var r=o.value;"error"==r.status&&(r.status="done")}}catch(c){i=!0,n=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw n}}this.picFile2={}},uploadMaterial2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),this.followRecordDisabled=!0,this.imageUrlDisabled2=!0,t.next=7,this.axios.post("sub-user/upload-image",a);case 7:i=t.sent,n=i.data,0==n.error?n.data&&this.file2.push(n.data.local_path):this.$message.error(n.error_msg);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload2:function(t){if("image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg2=!1,!1;var e=t.size/1024/1024<2;return e?t.size<5?(this.$message.error("上传文件大小不符！"),this.isImg2=!1,!1):(this.isImg2=!0,this.uploadMaterial2(t),e):(this.$message.error("图片不超过2M！"),this.isImg2=!1,!1)},getInteract:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,this.yhIsLoading=!0,t.next=4,this.axios.post("work-external-contact-follow-user/custom-track",{isMasterAccount:localStorage.getItem("isMasterAccount"),uid:localStorage.getItem("uid"),corp_id:this.corpId,cid:this.id,sub_id:localStorage.getItem("sub_id"),page:e,page_size:15});case 4:a=t.sent,i=a.data,0!=i.error?(this.yhIsLoading=!1,this.$message.error(i.error_msg)):(this.yhIsLoading=!1,this.page2=e,i.data.length<15?this.btnFlag=2:this.btnFlag=1,this.interactList=1==e?i.data:this.interactList.concat(i.data));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){this.page2++,this.page2++,this.getInteract(this.page2)},getFollowStatus:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("custom-field/follow",{uid:localStorage.getItem("uid"),status:1,corp_id:localStorage.getItem("corpId")});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.follows=a.data.follow,1==this.is_follow_del&&(i={id:this.follow_id,title:this.followTitle,status:0},this.follows.unshift(i)),n=this.follows.findIndex((function(t){return t.id==o.follow_id})),this.followItem=this.follows[n]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),canEditFollow:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("wait-project/can-edit-follow",{cid:this.id,type:1});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.canEdit=a.data.can_edit_follow;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-msg-audit/get-user-msg-list",{corp_id:this.corpId,external_id:this.external_user_id,page:1,pageSize:10});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):a.data==[]?this.isChat=!1:this.isChat=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){if(this.ws.setCallback(this.websocketOnMessage),"all"==localStorage.getItem("permissionButton"))this.isShowTag=!0;else{var t=localStorage.getItem("permissionButton").split(",");t.indexOf("client-add-tag")>-1&&t.indexOf("client-remove-tag")>-1?this.isShowTag=!0:this.isShowTag=!1}this.id=this.$route.query.id,this.user_id=this.$route.query.user_id,this.getFollowRecord(),this.canEditFollow(),this.getLoseReason(),this.getInfo(1)}},W=Z,X=(a("196c"),a("d1c0"),a("051c"),a("2877")),Q=Object(X["a"])(W,i,n,!1,null,"e1697106",null);e["default"]=Q.exports}}]);