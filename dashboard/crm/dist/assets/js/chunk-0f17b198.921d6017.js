(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f17b198"],{"24e7":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-2fb763e8]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-2fb763e8]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-2fb763e8] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-2fb763e8]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-2fb763e8]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-2fb763e8]{width:100%;min-width:885px}.content-msg[data-v-2fb763e8]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-2fb763e8]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-2fb763e8]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-2fb763e8]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-2fb763e8],.list[data-v-2fb763e8]{height:100%}.btn-primary[data-v-2fb763e8]{margin-left:20px}[data-v-2fb763e8] .dark-row{background:#fafafa}[data-v-2fb763e8] .light-row{background:#fff}[data-v-2fb763e8] .ant-radio-button-wrapper{width:90px;margin:0;text-align:center}[data-v-2fb763e8] .ant-collapse-arrow svg{color:#1890ff;width:20px;height:20px}[data-v-2fb763e8] .ant-collapse,[data-v-2fb763e8] .ant-collapse-content,[data-v-2fb763e8] .ant-collapse-item{background:#fff2db;border:0}[data-v-2fb763e8] .ant-collapse-content{color:rgba(0,0,0,.85)}[data-v-2fb763e8] .ant-collapse-content-box{padding:4px 16px 0 16px}[data-v-2fb763e8] .ant-collapse-header{background:#fff2db;border:0;padding:0 16px!important}",""])},2758:function(t,e,i){var a=i("24e7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("44846bb9",a,!0,{sourceMap:!1,shadowMode:!1})},7860:function(t,e,i){"use strict";var a=i("2758"),o=i.n(a);o.a},bc1b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[i("a-layout",{staticClass:"fans-content scroll",staticStyle:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0","overflow-x":"hidden","overflow-y":"auto"}},[i("a-layout-header",[t._v("裂变引流")]),i("a-layout-content",[i("div",{staticClass:"content-msg"},[i("a-collapse",{attrs:{"expand-icon-position":"right"}},[i("a-collapse-panel",{key:"1"},[i("template",{slot:"header"},[i("p",{staticStyle:{"margin-bottom":"10px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t任务裂变，为奖励式分享任务机制，通过有吸引力的奖品，邀请多个好友助力，可免费获得，以此诱导用户在自己的社交圈进行传播，一传二、二传四的模式，指数级增长。\n\t\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[i("span",{staticStyle:{color:"#FF562D"}},[t._v("目前我们日思夜想SCRM系统存在三种裂变模式：至于使用哪种裂变模式，商家可根据自身情况而定。任务裂变目前公众号仅支持认证服务号。")])]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t1、仅公众号裂变涨粉模式，即关注公众号即算助力成功；"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90089"}},[t._v("操作文档")])]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t2、基于公众号+企业微信的裂变模式，即关注公众号并且加员工企业微信为好友才算助力成功，一箭双雕，不仅给公众号涨粉，还能给员工的企业微信号带来大量的客户，是一把引流的利器。"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90090"}},[t._v("操作文档")])]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t3、仅企业微信的裂变模式，即加员工企业微信为好友助力成功。"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90118"}},[t._v("操作文档")])]),i("div",{staticStyle:{margin:"10px 0 2px"}},[t._v("自动发送欢迎语，可能失败的原因\n\t\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t1、如果企业在企业微信后台为相关成员配置了可用的欢迎语，使用第三方系统配置欢迎语，均不起效，推送的还是企业微信官方的。")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t2、客户和企业成员已经开始聊天的场景下，不能发送欢迎语。")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"2px","font-size":"13px"}},[t._v("3、客户之前添加过A企业成员，\n\t\t\t\t\t\t\t\t\t\t\t\t\t不论客户是否将该成员删除，但凡再通过裂变活动添加上该A企业成员，受限于企业微信官方规则，可能会造成推送其他渠道（包含正在进行中的裂变活动）的欢迎语，也有可能不再推送。")]),i("p",{staticStyle:{"margin-bottom":"10px","font-size":"13px"}}),i("p",{staticStyle:{"margin-bottom":"0","font-size":"13px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t4、每次添加新的客户时，当存在多个企业自建应用或是第三方应用设置了欢迎语，那么企业微信官方采取优先权的推送，所以存在有的客户接收不到欢迎语。请商户根据实际使用需求，合理配置，避免冲突。")])]),i("a-icon",{attrs:{type:"question-circle"}})],2)],1),i("p",{staticStyle:{margin:"10px 0 2px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t在使用派发红包功能前，需要商户完成以下配置：\n\t\t\t\t\t\t\t\t\t")])]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t1、前往"),i("a",{attrs:{href:"https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F",target:"_blank"}},[t._v("【微信支付商户平台】")]),t._v("注册微信支付商户号\n\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t2、登录"),i("a",{attrs:{href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu",target:"_blank"}},[t._v("【企业微信后台】")]),t._v("开通企业支付，绑定已有商户号（"),i("a",{attrs:{href:"https://support.qq.com/products/312071/faqs/90055",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t3、登录"),i("a",{attrs:{href:"https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F",target:"_blank"}},[t._v("【微信支付商户平台】")]),t._v("开通【企业付款到零钱】（"),i("a",{attrs:{href:"https://support.qq.com/products/312071/faqs/90056",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t4、在本系统，进入【自建应用】--【企业支付】，点击，填入企业支付的应用ID和Secret\n\t\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t\t5、在本系统，进入【自建应用】--【企业支付】，点击，完成支付配置。（"),i("a",{attrs:{href:"https://support.qq.com/products/312071/faqs/90054",target:"_blank"}},[t._v("查看教程")]),t._v("）\n\t\t\t\t\t\t\t\t")])],2)],1)],1),i("div",{staticClass:"content-hd"},[i("div",{staticStyle:{overflow:"hidden",margin:"20px 0"}},[i("a-col",{staticStyle:{float:"left"}},[t.corpLen>1&&1==t.type?i("a-select",{staticStyle:{width:"210px","margin-right":"10px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2):t._e(),t.wxLen>1&&0==t.type?i("a-select",{staticStyle:{width:"210px","margin-right":"10px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChangeWx},model:{value:t.wxId,callback:function(e){t.wxId=e},expression:"wxId"}},[t._l(t.wxList,(function(e){return[i("a-select-option",{attrs:{value:e.wx_id}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.nick_name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2):t._e(),i("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"活动状态",allowClear:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[i("a-select-option",{attrs:{value:""}},[t._v("全部状态")]),i("a-select-option",{attrs:{value:1}},[t._v("未开始")]),i("a-select-option",{attrs:{value:2}},[t._v("进行中")]),i("a-select-option",{attrs:{value:3}},[t._v("已结束")])],1),i("a-input",{staticStyle:{width:"150px",margin:"0px 10px"},attrs:{placeholder:"搜索活动名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find(e)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("a-range-picker",{staticStyle:{width:"300px"},on:{change:t.changeTime},model:{value:t.activityTime,callback:function(e){t.activityTime=e},expression:"activityTime"}}),i("a-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("查找")]),i("a-button",{on:{click:t.clear}},[t._v("清空")])],1),i("a-col",{staticStyle:{float:"right"}},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-add":"wxWholeMarketFission-add",expression:"type == 1 ? 'wholeMarketFission-add' : 'wxWholeMarketFission-add'"}],staticClass:"btn-primary",attrs:{icon:"plus",type:"primary"},on:{click:t.addWelcomeText}},[t._v("\n\t\t\t\t\t\t\t\t\t新建活动\n\t\t\t\t\t\t\t\t")])],1)],1),t.wholeMarketFissionNum>0?i("div",{staticClass:"content-msg",staticStyle:{"margin-bottom":"20px"}},[t._v("当前套餐版本仅支持"),i("span",{staticStyle:{color:"red"}},[t._v("单场活动")]),t._v("用户参与人数上限"),i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.wholeMarketFissionNum))]),t._v("人，达到上限后活动将自动结束。更多套餐信息可联系平台了解哦！\n\t\t\t\t\t\t")]):t._e()]),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-list":"wxWholeMarketFission-list",expression:"type == 1 ? 'wholeMarketFission-list' : 'wxWholeMarketFission-list'"}],attrs:{columns:t.columns,dataSource:t.activityList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"new_user",fn:function(e,a,o){return i("span",{},["公众号"!=a.type?i("span",[t._v(t._s(e))]):i("span",[t._v("--")])])}},{key:"over_user",fn:function(e,a,o){return i("span",{},["公众号"!=a.type?i("span",[t._v(t._s(e))]):i("span",[t._v("--")])])}},{key:"qr_code",fn:function(e,a,o){return i("span",{},[i("div",{ref:"qrcode"+o,staticStyle:{width:"100px",margin:"0 auto"},attrs:{id:"qrcode"+o}}),"企业微信"!=a.type?i("img",{staticStyle:{width:"100px",margin:"0 auto"},attrs:{src:t.commonUrl+a.code_url}}):t._e(),i("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(a.type))])])}},{key:"level",fn:function(e,a){return i("span",{},t._l(a.level,(function(e,a){return i("p",[1==e.is_open?i("span",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t奖品"+t._s(a+1)+"：\n\t\t\t\t\t\t\t\t\t\t\t"),1==e.type?i("span",[t._v(t._s(e.prize_name))]):t._e(),2==e.type?i("span",[t._v(t._s(e.money_amount)+"元")]):t._e(),i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t（"),1==e.type&&e.num_old?i("span",[t._v(t._s(e.num)+" / "+t._s(e.num_old))]):t._e(),1!=e.type||e.num_old?t._e():i("span",[t._v("不限")]),2==e.type?i("span",[t._v(t._s(e.money_count)+" / "+t._s(e.money_count_old))]):t._e(),t._v("）\n\t\t\t\t\t\t\t\t\t\t\t")]),i("a-tag",{attrs:{color:"blue"}},[t._v("需邀请"+t._s(e.number)+"位好友")])],1):t._e()])})),0)}},{key:"word",fn:function(e,a){return i("span",{},[""!=a.keyword?i("span",[t._v(t._s(a.keyword))]):i("span",[t._v("--")])])}},{key:"time",fn:function(e,a){return i("span",{},[i("div",{staticStyle:{width:"125px"}},[t._v(t._s(a.start_time)+"至")]),i("div",[t._v(t._s(a.end_time))])])}},{key:"channel_user",fn:function(e,a){return i("span",{},[t._l(a.channel_user,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"==e.scopedSlots.title?i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"orange"}},[t._v(t._s(e.title))]):t._e()]})),t._l(a.channel_user,(function(e){return[e.scopedSlots&&e.scopedSlots.title&&"custom"!=e.scopedSlots.title?i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.title))]):t._e()]})),0==a.channel_user.length?i("span",[t._v("--")]):t._e()],2)}},{key:"is_over",fn:function(e,a){return i("span",{},[1==a.is_over?i("div",{staticStyle:{width:"128px"}},[t._v("未开始")]):t._e(),2==a.is_over?i("div",{staticStyle:{width:"128px"}},[t._v("时间结束")]):t._e(),3==a.is_over?i("div",{staticStyle:{width:"128px"}},[t._v("阶段结束")]):t._e(),4==a.is_over?i("div",{staticStyle:{width:"128px"}},[t._v("手动结束")]):t._e(),5==a.is_over?i("div",{staticStyle:{width:"128px"}},[t._v("进行中")]):t._e()])}},{key:"action",fn:function(e,a,o){return i("span",{},[i("div",{staticStyle:{width:"150px"}},[i("div",{staticStyle:{display:"inline-block"}},[5==a.is_over?i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-invalid":"wxWholeMarketFission-invalid",expression:"type == 1 ? 'wholeMarketFission-invalid' : 'wxWholeMarketFission-invalid'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.failure(a.id,a.activity_name)}}},[t._v("使失效")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[1==a.is_over||5==a.is_over?i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-edit":"wxWholeMarketFission-edit",expression:"type == 1 ? 'wholeMarketFission-edit' : 'wxWholeMarketFission-edit'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.edit(a.id,a.activity_name)}}},[t._v("编辑")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-info":"wxWholeMarketFission-info",expression:"type == 1 ? 'wholeMarketFission-info' : 'wxWholeMarketFission-info'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.participants(a.id,a.activity_name,a.type)}}},[t._v("参与者")])],1),i("div",{staticStyle:{display:"inline-block"}},[1!=a.status?i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-statistic":"wxWholeMarketFission-statistic",expression:"type == 1 ? 'wholeMarketFission-statistic' : 'wxWholeMarketFission-statistic'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.statistical(a.id,a.activity_name,a.type)}}},[t._v("统计")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[5!=a.is_over?i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-delete":"wxWholeMarketFission-delete",expression:"type == 1 ? 'wholeMarketFission-delete' : 'wxWholeMarketFission-delete'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.deleteActivity(a.id)}}},[t._v("删除")]):t._e()],1),i("div",{staticStyle:{display:"inline-block"}},[5==a.is_over?i("a-button",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-down":"wxWholeMarketFission-down",expression:"type == 1 ? 'wholeMarketFission-down' : 'wxWholeMarketFission-down'"}],staticClass:"actionBtn",on:{click:function(e){return t.downLoadWay(a.qr_code,a.activity_name,"qrcode"+o,a.code_url,a.type)}}},[t._v("下载")]):t._e()],1)])])}}])},[i("span",{attrs:{slot:"countFans"},slot:"countFans"},[t._v("\n\t\t\t\t\t\t\t\t\t总参与人\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("生成了自己的专属海报即算参与人")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"newtFans"},slot:"newtFans"},[t._v("\n\t\t\t\t\t\t\t\t\t新增粉丝\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("参加活动且首次新关注的粉丝（在活动前，关注再取关，然后在活动期间再关注，不计入）")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"newUser"},slot:"newUser"},[t._v("\n\t\t\t\t\t\t\t\t\t新增好友数\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("企业微信：添加员工企业微信的好友数量")]),i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("企业微信+公众号：通过公众号添加企业微信的好友数量")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"overUser"},slot:"overUser"},[t._v("\n\t\t\t\t\t\t\t\t\t流失好友数\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("通过该场活动，新客户添加引流成员后，客户又将引流成员删除/拉黑的流失人数。（不包含老客户，即之前通过别的方式添加引流成员）")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),t.total>0?i("div",{directives:[{name:"has",rawName:"v-has",value:1==t.type?"wholeMarketFission-list":"wxWholeMarketFission-list",expression:"type == 1 ? 'wholeMarketFission-list' : 'wxWholeMarketFission-list'"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:!1,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)]):t._e()],1)],1)])],1)],1)],1)])},o=[],n=(i("a481"),i("96cf"),i("3b8d")),s=(i("c5f6"),i("641c")),r=i("c1df"),l=i.n(r),c=i("d044"),p=i.n(c),d=[{title:"二维码",dataIndex:"qr_code",key:"qr_code",width:"140px",scopedSlots:{customRender:"qr_code"}},{title:"活动名称",dataIndex:"activity_name",key:"activity_name",width:"180px"},{title:"活动规则",dataIndex:"level",key:"level",scopedSlots:{customRender:"level"}},{title:"关键词",dataIndex:"word",key:"word",scopedSlots:{customRender:"word"}},{title:"活动时间",dataIndex:"time",key:"time",scopedSlots:{customRender:"time"}},{dataIndex:"countFans",key:"countFans",scopedSlots:{title:"countFans"}},{dataIndex:"newtFans",key:"newtFans",scopedSlots:{title:"newtFans"}},{dataIndex:"newUser",key:"newUser",scopedSlots:{title:"newUser",customRender:"new_user"}},{dataIndex:"overUser",key:"overUser",scopedSlots:{title:"overUser",customRender:"over_user"}},{title:"引流成员",dataIndex:"channel_user",width:"12.8%",key:"channel_user",scopedSlots:{customRender:"channel_user"}},{title:"状态",dataIndex:"is_over",key:"is_over",scopedSlots:{customRender:"is_over"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],h={name:1==localStorage.getItem("type")?"wholeMarketFissionList":"wxWholeMarketFission",components:{MyIcon:s["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",e=localStorage.getItem("wxNum")?localStorage.getItem("wxNum"):"";return{suite_id:1,wxId:e,wxList:[],commonUrl:this.$store.state.commonUrl,wxLen:JSON.parse(localStorage.getItem("wxArr")).length,corpId:t,corpInfo:[],status:"",title:"",activityTime:[],activityList:[],isLoading:!0,type:localStorage.getItem("type"),corpLen:JSON.parse(localStorage.getItem("corpArr")).length,columns:d,total:0,quickJumper:!1,page:1,page_size:15,pageSize:15,wholeMarketFissionNum:Number(this.$store.state.packageDetail.wholeMarketFissionNum)}},methods:{handleChange:function(t){this.corpId=t},handleChangeWx:function(t){this.wxId=t},rowClassName:function(t,e){var i="dark-row";return e%2===0&&(i="light-row"),i},changeTime:function(t,e){this.activityTime=t},find:function(){this.getActivityList()},clear:function(){this.status=[],this.title="",this.activityTime=[],this.page=1,this.pageSize=15,this.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",this.getActivityList()},addWelcomeText:function(){1==localStorage.getItem("type")?this.$router.push("/wholeMarket/fissionAdd"):this.$router.push("/wholeMarket/fissionAdd1")},getActivityList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,o,n,s,r=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,i=c.length>1&&void 0!==c[1]?c[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("work-activity-public/list",{corp_id:1==this.type?this.corpId:"",public_id:0==this.type?this.wxId:"",status:this.status,activity_name:this.title,start_time:this.activityTime.length>0?l()(this.activityTime[0]).format("YYYY-MM-DD"):"",end_time:this.activityTime.length>0?l()(this.activityTime[1]).format("YYYY-MM-DD"):"",page:e,pageSize:i});case 5:if(a=t.sent,o=a.data,0!=o.error)this.isLoading=!1,this.$message.error(o.error_msg);else{for(this.activityList=o.data.data,this.isLoading=!1,this.total=parseInt(o.data.count),this.page=e,this.pageSize=i,this.quickJumper=this.total>this.pageSize,n=this,s=0;s<this.activityList.length;s++)document.getElementById("qrcode"+s)&&(document.getElementById("qrcode"+s).innerHTML="");this.$nextTick((function(){for(var t=0;t<r.activityList.length;t++)"企业微信"==r.activityList[t].type&&n.qrcode(r.activityList[t].code_url,t)}))}case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),qrcode:function(t,e){new p.a("qrcode"+e,{width:100,height:100,text:t,colorDark:"#000",colorLight:"#FFF"})},failure:function(t,e){var i=this;i.$confirm({title:"确定结束活动【"+e+"】吗？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.isLoading=!0,i.changeStatus(t,4)}})},deleteActivity:function(t){var e=this;e.$confirm({title:"确定删除该活动？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){e.isLoading=!0,e.changeStatus(t,0)}})},changeStatus:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-activity-public/activity-stop",{activity_id:e,status:i});case 2:a=t.sent,o=a.data,0!=o.error?(this.isLoading=!1,this.$message.error(o.error_msg)):(this.selectedRowKeys=[],0==i&&1==this.activityList.length&&this.page>1?this.getActivityList(this.page-1,this.pageSize):this.getActivityList(this.page,this.pageSize));case 5:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),downLoadWay:function(t,e,i,a,o){var n=this,s=new Image;s.setAttribute("crossOrigin","anonymous");document.getElementById(i);s.src="企业微信"!=o?this.commonUrl+a:document.getElementById(i).getElementsByTagName("img")[0].getAttribute("src"),s.onload=function(){var t=document.createElement("canvas");t.width=200,t.height=200;var i=t.getContext("2d");i.drawImage(s,0,0,200,200),t.toBlob((function(t){var i=URL.createObjectURL(t);n.download(i,e),URL.revokeObjectURL(i)}))}},download:function(t,e){var i=document.createElement("a");i.download=e,i.href=t,i.click(),i.remove()},edit:function(t,e){1==localStorage.getItem("type")?this.$router.push("/wholeMarket/fissionAdd?id="+t+"&title="+encodeURIComponent(e)):this.$router.push("/wholeMarket/fissionAdd1?id="+t+"&title="+encodeURIComponent(e))},participants:function(t,e,i){var a=encodeURIComponent(t),o=encodeURIComponent(e.replace(/%/g,"%25"));1==localStorage.getItem("type")?this.$router.push("/wholeMarket/fissionParticipants?id="+a+"&title="+o):this.$router.push("/wholeMarket/fissionParticipants1?id="+a+"&title="+o)},statistical:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i,a){var o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=0,o="公众号"==a?0:"企业微信"==a?1:2,n=encodeURIComponent(e),s=encodeURIComponent(i.replace(/%/g,"%25")),1==localStorage.getItem("type")?this.$router.push("/wholeMarket/statistic?id="+n+"&title="+s+"&type="+o):this.$router.push("/wholeMarket/statistic1?id="+n+"&title="+s+"&type="+o);case 5:case"end":return t.stop()}}),t,this)})));function e(e,i,a){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getActivityList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,220)}))},showSizeChange:function(t,e){this.getActivityList(1,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,220)}))}},mounted:function(){var t=this;1==this.type?this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.getActivityList()})):this.$store.dispatch("getWx",(function(e){t.wxList=e,t.getActivityList()}))},beforeRouteEnter:function(t,e,i){("/wholeMarket/fissionAdd"!=e.path&&"/wholeMarket/fissionParticipants"!=e.path&&"/wholeMarket/statistic"!=e.path||"undefined"==typeof t.query.isRefresh||"1"!=t.query.isRefresh)&&("/wholeMarket/fissionAdd1"!=e.path&&"/wholeMarket/fissionParticipants1"!=e.path&&"/wholeMarket/statistic1"!=e.path||"undefined"==typeof t.query.isRefresh||"1"!=t.query.isRefresh)?i((function(t){t.status=[],t.title="",t.activityTime=[],t.page=1,t.pageSize=15,t.corpId=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",t.getActivityList()})):i((function(t){t.getActivityList(t.page,t.pageSize)}))}},u=h,m=(i("7860"),i("2877")),v=Object(m["a"])(u,a,o,!1,null,"2fb763e8",null);e["default"]=v.exports}}]);