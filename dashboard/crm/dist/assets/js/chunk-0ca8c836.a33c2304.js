(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ca8c836"],{"0094":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?i("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),i("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,r){return["scene"!=t.routeName&&"template"!=t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:a("de05"),alt:""}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},r=[],o=(a("7f7f"),a("28a5"),a("96cf"),a("3b8d")),n=(a("7514"),a("bc3a")),s=a.n(n),c=a("f64c"),l={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,r,o,n,l,d,p=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,a=e.data,0!=a.error){t.next=34;break}if(!(a.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(i=this.hasName.split(","),!(i.length>0)){t.next=22;break}r=!0,o=0;case 11:if(!(o<i.length)){t.next=19;break}if(-1!=a.data.indexOf(i[o])){t.next=16;break}return c["a"].error("该企业微信未配置相关功能权限，无法选择"),r=!1,t.abrupt("return",!1);case 16:o++,t.next=11;break;case 19:r&&(this.showModal=!1,n=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",n),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,n.corp_name)),t.next=23;break;case 22:-1==a.data.indexOf(this.hasName)?c["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,l=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",l),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,l.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name);case 29:t.next=32;break;case 31:c["a"].error("无权限");case 32:t.next=35;break;case 34:c["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},d=l,p=(a("ffd5"),a("2877")),h=Object(p["a"])(d,i,r,!1,null,"440e9184",null);e["a"]=h.exports},"14e8":function(t,e,a){"use strict";var i=a("63d1"),r=a.n(i);r.a},"156b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("medium-editor",{ref:"medium_editor",staticClass:"content-editable",attrs:{text:t.textAreaValueHeader,options:t.options,"custom-tag":"div"},on:{editorCreated:t.editorCreated,edit:t.changeContentInput}}),a("div",{staticStyle:{"margin-right":"15px",float:"right"}},[t._v("\n\t\t"+t._s(t.wordNum)+"/"+t._s(t.wordLimit)+"\n\t")]),t.isNickName||t.isEmoji?a("div",{staticStyle:{padding:"0 15px"}},[t._v("\n\t\t点击插入：\n\t\t"),t.isNickName?a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:function(e){return t.addTag("客户名称")}}},[t._v("客户名称\n\t\t")]):t._e(),t.isRanking?a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:function(e){return t.addTag("排行榜")}}},[t._v("排行榜\n\t\t")]):t._e(),t.isEmoji?a("a-popover",{attrs:{trigger:"click",destroyTooltipOnHide:!0},model:{value:t.emojiShow,callback:function(e){t.emojiShow=e},expression:"emojiShow"}},[a("VEmojiPicker",{attrs:{slot:"content",showSearch:!1},on:{select:t.onSelectEmoji},slot:"content"}),a("a-icon",{staticClass:"icon-btn",staticStyle:{cursor:"pointer"},attrs:{type:"smile"}})],1):t._e()],1):t._e(),a("div",{staticClass:"changeType-text"},[t._v("\n\t\t提示：火狐浏览器可能出现无法正确插入客户名称，请使用谷歌、360浏览器\n\t")])],1)},r=[],o=(a("6b54"),a("3b2b"),a("386d"),a("a481"),a("4884")),n=a.n(o),s=a("40cf"),c=a("79b5"),l={name:"index",components:{VEmojiPicker:c["a"],"medium-editor":n.a},watch:{text:{handler:function(t){this.textContent=t;var e=this.textContent.replace(/{nickname}/g," 客户名称 ").replace(/{ranking}/g," 排行榜 ").replace(/{success}/g," 已完成任务量 ").replace(/{error}/g," 未完成任务量 ").replace(/{oneLevel}/g," 一阶任务剩余库存 ").replace(/{twoLevel}/g," 二阶任务剩余库存 ").replace(/{threeLevel}/g," 三阶任务剩余库存 ").replace(/\n/g,"").replace(/(<\/?a.*?>)/g,"");this.wordNum=e.length},deep:!0},textValue:{handler:function(t){this.textAreaValueHeader=t},deep:!0}},props:{text:{type:String,default:""},textValue:{type:String,default:""},isNickName:{type:Boolean,default:!0},isRanking:{type:Boolean,default:!1},isEmoji:{type:Boolean,default:!0}},data:function(){return{textContent:"",textAreaValueHeader:"",emojiShow:!1,wordNum:0,wordLimit:1e3,mediumEditor:"",options:{toolbar:!1,placeholder:{text:""},anchorPreview:!1,paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanAttrs:["class","style","dir","align","width","height","face","title","code","name","id","type","span","border","open","action","method","cols","for","rel","label","icon","value","max","min","classid"]}},keydownNode:!1,keydownNodeIndex:0}},mounted:function(){var t=this;this.textContent=this.text;var e=this.textContent.replace(/{nickname}/g," 客户名称 ").replace(/{ranking}/g," 排行榜 ").replace(/\n/g,"").replace(/(<\/?a.*?>)/g,"");this.wordNum=e.length,this.textAreaValueHeader="<p>"+this.textValue+"</p>",document.addEventListener("selectionchange",(function(){t.getCursor(self)}))},methods:{initTextMsgContent:function(t){var e=this;return-1!==t.search(/[\/\[\]\(\)\|\$\*\?\+\-\_]/g)&&s["a"].wechatEmojiKey.map((function(a){var i=new RegExp(e.utils.addslashes(a),"g"),r=s["a"].getEmojiUrl(a);t=t.replace(i,'<img src="'+r+'" alt="'+a+'" height="21" width="21"/>')})),t.replace(/[\r\n|\n]/g,"<br/>")},toggleDialogEmoji:function(){this.emojiShow=!this.emojiShow},onSelectEmoji:function(t){var e=this.mediumEditor.options.ownerDocument;this.wordLimit-this.wordNum>=2&&this.insertHTMLCommand(e,t.data),this.toggleDialogEmoji()},getCursor:function(t){var e=getSelection();if(e){var a=e.anchorNode,i=!1;while(a&&a.nodeType!=a.DOCUMENT_NODE){var r=a.classList;if(r&&r.contains("content-editable")){i=!0;break}a=a.parentNode}i&&(t.lastRange=e.getRangeAt(0),t.lastNode=a)}},insertHTMLCommand:function(t,e){if("undefined"===typeof self.lastNode||!self.lastNode.classList.contains("content-editable"))return!1;var a,i,r,o,s,c,l=["insertHTML",!1,e];if(a=self.lastRange,i=a.commonAncestorContainer,n.a.MediumEditor.util.isMediumEditorElement(i)&&!i.firstChild)a.selectNode(i.appendChild(t.createTextNode("")));else if(3===i.nodeType&&0===a.startOffset&&a.endOffset===i.nodeValue.length||3!==i.nodeType&&i.innerHTML===a.toString()){while(!n.a.MediumEditor.util.isMediumEditorElement(i)&&i.parentNode&&1===i.parentNode.childNodes.length&&!n.a.MediumEditor.util.isMediumEditorElement(i.parentNode))i=i.parentNode;a.selectNode(i)}a.deleteContents(),r=t.createElement("div"),r.innerHTML=e,o=t.createDocumentFragment();while(r.firstChild)s=r.firstChild,c=o.appendChild(s);a.insertNode(o),c&&(a=a.cloneRange(),a.setStartAfter(c),a.collapse(!0),n.a.MediumEditor.selection.selectRange(t,a)),t.execCommand.callListeners&&t.execCommand.callListeners(l,!0),this.wordNum=self.lastNode.textContent.length,this.wordNum<=this.wordLimit&&(this.textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&")),this.mediumEditor.origElements.scrollTop=this.mediumEditor.origElements.scrollHeight;var d={currentTarget:this.mediumEditor.origElements};this.mediumEditor.events.updateInput(d.currentTarget,d),this.$emit("changeText",this.textContent,this.textAreaValueHeader)},editorCreated:function(t){this.mediumEditor=t,this.mediumEditor.subscribe("focus",this.editableFocus),this.mediumEditor.subscribe("editableKeydown",this.editableKeydown),this.mediumEditor.subscribe("editablePaste",this.editablePaste),delete self.lastRange,delete self.lastNode},editableFocus:function(t){""!==t.target.innerHTML&&"<br>"!=t.target.innerHTML&&"<p></p>"!=t.target.innerHTML||(t.target.innerHTML="<p><br/></p>")},editableKeydown:function(t){this.wordNum>=this.wordLimit&&8!=t.keyCode&&37!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&(65!=t.keyCode||!t.metaKey&&!t.ctrlKey)&&t.preventDefault(),86==t.keyCode&&(t.metaKey||t.ctrlKey),13==t.keyCode&&(this.keydownNodeIndex=0,this.getParentP4Label(self.lastRange.startContainer)),this.keydownNode=13==t.keyCode},getParentP4Label:function(t){"P"!=t.nodeName?this.getParentP4Label(t.parentNode):this.getPreviousSiblingIndex(t)},getPreviousSiblingIndex:function(t){t.previousSibling&&(this.keydownNodeIndex++,this.getPreviousSiblingIndex(t.previousSibling))},editablePaste:function(t,e){this.invlideText()},invlideText:function(){var t=this.mediumEditor.origElements,e=this.global.getRangeInfo(t,this.wordLimit),a=e.startNode,i=e.startOffset,r=e.endNode,o=e.endOffset;if("undefined"!==typeof a.nodeValue){var n=document.createRange();n.setStart(a,i),n.setEnd(r,o),n.deleteContents(),this.textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"),this.wordNum=this.wordLimit}this.$emit("changeText",this.textContent,this.textAreaValueHeader)},changeContentInput:function(t){""!=t.api.origElements.innerHTML&&"<br>"!=t.api.origElements.innerHTML||(t.api.origElements.innerHTML="<p><br/></p>");var e=/href="(?![a-zA-z]+:\/\/)[^"]*/g;if(e.test(t.api.origElements.innerHTML)&&(this.$message.error("请填写正确的链接"),this.mediumEditor.execAction("unlink")),self.lastNode&&(this.wordNum=self.lastNode.textContent.length,this.wordNum<=this.wordLimit?(this.textAreaValueHeader=t.api.origElements.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"),this.$emit("changeText",this.textContent,this.textAreaValueHeader)):this.invlideText(),this.keydownNode)){var a=self.lastNode.childNodes[this.keydownNodeIndex+1],i=document.createRange();i.setStart(a,0);var r=window.getSelection();r.removeAllRanges(),r.addRange(i),this.keydownNode=!1}},addTag:function(t){if("undefined"==typeof this.mediumEditor.options.ownerDocument)var e=this.mediumEditor.options.ownerDocument;else e=this.mediumEditor.options.ownerDocument;var a='<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">'+t+"</span>&nbsp;</span>";this.wordLimit-this.wordNum>=6&&this.insertHTMLCommand(e,a)}}},d=l,p=(a("b3dc"),a("2877")),h=Object(p["a"])(d,i,r,!1,null,"90612588",null);e["a"]=h.exports},"203a":function(t,e,a){var i=a("9d91");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("55f4c3c5",i,!0,{sourceMap:!1,shadowMode:!1})},"2c75":function(t,e,a){t.exports=a.p+"assets/img/token.e3f53cc5.png"},"467b":function(t,e,a){"use strict";var i=a("203a"),r=a.n(i);r.a},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"515d":function(t,e,a){"use strict";var i=a("8e34"),r=a.n(i);r.a},"59fe":function(t,e,a){var i=a("b6ee");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("2af37125",i,!0,{sourceMap:!1,shadowMode:!1})},"5de5":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".changeType-text[data-v-90612588]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.content-editable[data-v-90612588]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:155px;overflow:auto}.content-editable[data-v-90612588] p{margin:0;word-break:break-word}",""])},"63d1":function(t,e,a){var i=a("e1c6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("71a2582f",i,!0,{sourceMap:!1,shadowMode:!1})},"83fb":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".medium-toolbar-arrow-under:after{border-color:#242424 transparent transparent transparent;top:50px}.medium-toolbar-arrow-over:before{border-color:transparent transparent #242424 transparent;top:-8px}.medium-editor-toolbar{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.75)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.75));border:1px solid #000;border-radius:5px;-webkit-box-shadow:0 0 3px #000;box-shadow:0 0 3px #000}.medium-editor-toolbar li button{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.89)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.89));border:0;border-right:1px solid #000;border-left:1px solid #333;border-left:1px solid hsla(0,0%,100%,.1);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.3);box-shadow:0 2px 2px rgba(0,0,0,.3);color:#fff;height:50px;min-width:50px;-webkit-transition:background-color .2s ease-in;transition:background-color .2s ease-in}.medium-editor-toolbar li button:hover{background-color:#000;color:#ff0}.medium-editor-toolbar li .medium-editor-button-first{border-bottom-left-radius:5px;border-top-left-radius:5px}.medium-editor-toolbar li .medium-editor-button-last{border-bottom-right-radius:5px;border-top-right-radius:5px}.medium-editor-toolbar li .medium-editor-button-active{background-color:#000;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(0,0,0,.89)));background:linear-gradient(180deg,#242424,rgba(0,0,0,.89));color:#fff}.medium-editor-toolbar-form{background:#242424;border-radius:5px;color:#999}.medium-editor-toolbar-form .medium-editor-toolbar-input{background:#242424;-webkit-box-sizing:border-box;box-sizing:border-box;color:#ccc;height:50px}.medium-editor-toolbar-form a{color:#fff}.medium-editor-toolbar-anchor-preview{background:#242424;border-radius:5px;color:#fff}.medium-editor-placeholder:after{color:#b3b3b1}",""])},"8c10c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("a-input-search",{attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")]),a("div",{staticStyle:{width:"calc(100% - 100px)",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[t._v(t._s(e.member_num)+"/200")])],1)])],1)})),1),t.chatList.length<t.count?a("div",{staticClass:"noMore"},[t._v("正在加载")]):t._e(),t.chatList.length==t.count?a("div",{staticClass:"noMore"},[t._v("没有更多了")]):t._e()],1)],1)],1)},r=[],o=(a("96cf"),a("3b8d")),n=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),s=a.n(n),c=a("e306"),l=a.n(c),d=a("4bef"),p=a.n(d),h=s.a.CancelToken,u=h.source(),g={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){}},chatArr:{type:Array,default:function(){}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:l.a,img2:p.a,chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,count:0,chatData:[],chooseNum:0}},methods:{content:function(t,e){var a=!0,i=!1,r=void 0;try{for(var o,n=t[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;if(s==e)return!1}}catch(c){i=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(i)throw r}}return!0},getChatList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,r=this,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,this.cancelFlag=!0,t.next=4,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,is_list:this.is_list},{cancelToken:u.token});case 4:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):(this.count=i.data.count,this.cancelFlag=!1,this.page2=e,1==this.page2?(this.chatList=i.data.list,this.$nextTick((function(){var t=r,e=document.getElementsByClassName("msg-modal")[0].getElementsByClassName("ant-modal-body")[0];e.onscroll=function(){var a=e.scrollTop,i=e.clientHeight||document.body.clientHeight,r=e.scrollHeight||document.body.scrollHeight;a+i==r&&Math.ceil(t.count/15)>t.page2&&t.getChatList(t.page2+1)}}))):this.chatList=this.chatList.concat(i.data.list));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},handleCancle:function(){this.checkedKey++,this.cancelFlag&&u.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChatList())}},created:function(){}},m=g,f=(a("515d"),a("2877")),b=Object(f["a"])(m,i,r,!1,null,"53470dae",null);e["a"]=b.exports},"8e34":function(t,e,a){var i=a("e81db");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("9b59d6d6",i,!0,{sourceMap:!1,shadowMode:!1})},9249:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s ease-in-out infinite;animation:medium-editor-image-loading 1s ease-in-out infinite;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;position:absolute;left:0;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-editor-placeholder-relative{position:relative}.medium-editor-placeholder-relative:after{content:attr(data-placeholder)!important;font-style:italic;position:relative;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0 8px}.medium-toolbar-arrow-over:before{border-width:0 8px 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s linear forwards;animation:medium-editor-pop-upwards .16s linear forwards}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}.medium-editor-element{word-wrap:break-word;min-height:30px}.medium-editor-element img{max-width:100%}.medium-editor-element sub{vertical-align:sub}.medium-editor-element sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},"9d91":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-e8503c8c] .ant-tag-checkable-checked{background-color:#1890ff!important;border-color:#1890ff!important;color:#fff!important}[data-v-e8503c8c] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-e8503c8c] .ant-form-item-control{margin-left:15px;margin-bottom:10px}[data-v-e8503c8c] .ant-tree-checkbox{float:right}[data-v-e8503c8c] .ant-tree-iconEle{display:none!important}[data-v-e8503c8c] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-e8503c8c] .ant-list-item{border-bottom:0;padding:0}[data-v-e8503c8c] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-e8503c8c] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-e8503c8c]{color:red;margin:0 20px 12px 0}.group-name[data-v-e8503c8c]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-e8503c8c]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}",""])},a45c:function(t,e,a){var i=a("5de5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("499e").default;r("377c1870",i,!0,{sourceMap:!1,shadowMode:!1})},b3dc:function(t,e,a){"use strict";var i=a("a45c"),r=a.n(i);r.a},b6ee:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},c36f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-layout",[i("a-layout-header",[""==t.urlId?[t._v("群聊违规提醒设置")]:t._e(),""!=t.urlId?[t._v("群聊违规提醒修改")]:t._e(),i("a-button",{staticStyle:{"font-size":"14px",float:"right","margin-right":"15px","margin-top":"7px",height:"32px","line-height":"16px"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("\n\t\t\t\t\t\t返回列表\n\t\t\t\t\t")])],2),i("a-layout-content",[i("div",{staticClass:"content"},[t.$store.state.corpArr.length>1?i("div",{staticClass:"content-hd"},[i("a-form",[i("a-form-item",{attrs:{label:"选择企业微信","label-col":{span:4},"wrapper-col":{span:20}}},[[i("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.changeCorp}},[i("img",{staticStyle:{width:"24px",margin:"-3px 6px 0 0"},attrs:{src:a("de05")}}),i("span",[t._v(t._s(t.corpName))]),""==t.urlId?i("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}}):t._e()],1),i("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])]],2)],1)],1):t._e(),i("div",{staticClass:"content-bd",staticStyle:{"padding-top":"20px"}},[i("a-form",[i("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("规则名称\n\t\t\t\t\t\t\t\t\t")]),i("a-input",{staticStyle:{width:"375px"},attrs:{placeholder:"请填写规则名称，限20字符",maxLength:20,disabled:!!this.urlId},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("span",{staticStyle:{display:"inline-block",width:"200px","margin-left":"10px",color:"#F56C6C"}},[t._v(t._s(t.title.length)+" / 20（一旦发布，不可修改）")])],2),i("a-form-item",{attrs:{label:"选择应用","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-select",{staticStyle:{width:"170px","margin-bottom":"15px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择应用"},on:{change:t.changeAgentId},model:{value:t.agentId,callback:function(e){t.agentId=e},expression:"agentId"}},[t._l(t.agentList,(function(e){return[i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name))])]}))],2),i("div",{staticClass:"content-msg",staticStyle:{"font-size":"13px"}},[i("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),i("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/104790/faqs/63937"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t教程")])]),i("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t\t\t\t\t\t\t\t"),i("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[i("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])])],1),i("a-form-item",{attrs:{label:"选择适用客户群","label-col":{span:4},"wrapper-col":{span:20}}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChatVisible}},[t.chooseNum1>0?i("span",[t._v("已选择"+t._s(t.chooseNum1)+"个群")]):i("span",[t._v("选择群聊")])])],1)]),i("a-form-item",{attrs:{label:"设置提醒行为","label-col":{span:4},"wrapper-col":{span:20}}},[i("div",[i("a-checkbox",{model:{value:t.isImage,callback:function(e){t.isImage=e},expression:"isImage"}},[t._v("发送带二维码的图片")]),i("a-checkbox",{model:{value:t.isLink,callback:function(e){t.isLink=e},expression:"isLink"}},[t._v("发送链接分享")]),i("a-checkbox",{model:{value:t.isWeapp,callback:function(e){t.isWeapp=e},expression:"isWeapp"}},[t._v("发送小程序")]),i("a-checkbox",{model:{value:t.isCard,callback:function(e){t.isCard=e},expression:"isCard"}},[t._v("发送名片")]),i("a-checkbox",{model:{value:t.isRedpacket,callback:function(e){t.isRedpacket=e},expression:"isRedpacket"}},[t._v("发送红包")]),i("a-checkbox",{model:{value:t.isVoice,callback:function(e){t.isVoice=e},expression:"isVoice"}},[t._v("音频")]),i("a-checkbox",{model:{value:t.isVideo,callback:function(e){t.isVideo=e},expression:"isVideo"}},[t._v("视频")])],1),i("div",[i("a-checkbox",{model:{value:t.isText,callback:function(e){t.isText=e},expression:"isText"}},[t._v("聊天消息中包含以下关键词")]),t.isText?i("div",[i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showSensitiveWord}},[t.keyword.length>0?i("span",[t._v("已选择"+t._s(t.keyword.length)+"个敏感词")]):i("span",[t._v("选择敏感词")])])],1):t._e()],1)]),i("a-form-item",{attrs:{label:"通知人","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-checkbox",{attrs:{checked:!0,disabled:!0}},[t._v("\n\t\t\t\t\t\t\t\t\t\t群主\n\t\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("p",{staticStyle:{"margin-bottom":"5px"}},[t._v("1、若群主不在可见应用成员范围内，会接收不到提醒通知。")]),i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t2、若群成员为“外部非联系人”身份时，群主可以看到其违规行为，但不知是谁，用户昵称是“未知”。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("a-checkbox",{model:{value:t.isUser,callback:function(e){t.isUser=e},expression:"isUser"}},[t._v("选择成员")]),t.isUser?i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?i("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):i("span",[t._v("选择部门成员")])]):t._e()],1)],1)],1),i("div",{staticClass:"content-bd"},[i("a-form",[i("a-form-item",[i("div",{staticStyle:{"margin-top":"2px","margin-left":"17.25%"}},[i("a-button",{attrs:{type:"primary",disabled:t.createDisabled},on:{click:t.createNotice}},[[t._v("提交")]],2)],1)])],1)],1)]),i("a-modal",{attrs:{title:"开通会话存档流程图",width:"700px !important"},on:{cancel:t.cancleSetting},model:{value:t.settingVisible,callback:function(e){t.settingVisible=e},expression:"settingVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancleSetting}},[t._v("关闭")])],1),i("img",{staticStyle:{width:"600px"},attrs:{src:a("2c75")}})],2),i("WeChatModal",{attrs:{show:t.showModal2,callback:t.modalVisibleChange}}),i("groupChat",{ref:"user",attrs:{chatIds:t.chatIds,isDisable:1,show:t.chatVisible,chatArr:t.chatArr,callback:t.groupChatCallBack}}),i("chooseDepartment",{ref:"user",attrs:{agentid:t.agentId,noticeTitle:"只展示在企业微信官方后台创建自建应用时，所设置的可见成员，只有他们才拥有接收违规提醒的权限。",show:t.showModalDepartment,chooseNum:t.chooseNum,departmentDisabled:1,callback:t.modalVisibleChange3}}),i("a-modal",{attrs:{title:"选择敏感词",width:"888px!important"},on:{cancel:t.cancleSensitive},model:{value:t.sensitiveVisible,callback:function(e){t.sensitiveVisible=e},expression:"sensitiveVisible"}},[i("template",{slot:"footer"},[i("a-button",{on:{click:t.cancleSensitive}},[t._v("关闭")]),i("a-button",{attrs:{type:"primary"},on:{click:t.handleSensitive}},[t._v("确定")])],1),i("corpSensitiveWord",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.wordArr}})],2)],1)],1)],1)],1)])},r=[],o=(a("7514"),a("7618")),n=(a("96cf"),a("3b8d")),s=a("0094"),c=a("2afe"),l=a("c75b"),d=a("156b"),p=a("8c10c"),h=a("f34b"),u={components:{WeChatModal:s["a"],chooseMsg:c["a"],chooseDepartment:l["a"],editor:d["a"],groupChat:p["a"],corpSensitiveWord:h["a"]},data:function(){return{settingVisible:!1,commonUrl:this.$store.state.commonUrl,isLoading:!1,urlId:"",isAudit:"",suite_id:1,corpId:localStorage.getItem("corpId"),corpName:localStorage.getItem("corpName"),title:"",agentList:[],agentId:"",showModal2:!1,validity:1,createDisabled:!1,chatVisible:!1,chatArr:[],chatIds:[],chooseNum1:0,isImage:!1,isLink:!1,isWeapp:!1,isCard:!1,isRedpacket:!1,isVoice:!1,isVideo:!1,isText:!1,keyword:[],sensitiveVisible:!1,wordArr:[],isUser:!1,checkedList:[],chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,showModalDepartment:!1}},methods:{goBack:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId)},changeCorp:function(){this.$route.query.id||(this.showModal2=!0)},changeAgentId:function(){this.checkedList=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0},getAgentList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,agent_type:2,suite_id:this.suite_id});case 2:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.agentList=i.data,e&&this.$route.query.corpid==localStorage.getItem("corpId")?this.agentId=e:this.agentList.length>0&&(this.agentId=this.agentList[0].id));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showChatVisible:function(){if(1!=this.isAudit)return this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置群聊违规!",2),!1;this.chatVisible=!0},cancleSetting:function(){this.settingVisible=!1},groupChatCallBack:function(t,e,a){"ok"==t&&(this.chooseNum1=e,this.chatArr=a),this.chatVisible=!1},showSensitiveWord:function(){this.wordArr=JSON.parse(JSON.stringify(this.keyword)),this.sensitiveVisible=!0},handleSensitive:function(){this.keyword=JSON.parse(JSON.stringify(this.wordArr)),this.sensitiveVisible=!1},cancleSensitive:function(){this.wordArr=[],this.sensitiveVisible=!1},modalVisibleChange4:function(t,e){"ok"==t&&(this.wordArr=e)},showDepartmentList:function(){var t=[];this.checkedList.map((function(e){t.push(e.id)})),this.$refs.user.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.checkedList)),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,a,i,r){"ok"==t&&(this.chooseNum=parseInt(a)+parseInt(i),this.chooseUserNum=a,this.chooseDepartmentNum=i,this.chooseNum>0?this.checkedList=JSON.parse(JSON.stringify(r)):this.checkedList=[]),this.showModalDepartment=!1},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat-remind/chat-remind-detail",{corp_id:this.$route.query.corpid,remind_id:this.urlId});case 2:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):(this.agentId=a.data.agentid,this.getAgentList(this.agentId),this.title=a.data.title,this.chatArr=a.data.chat_ids,this.chatIds=JSON.parse(JSON.stringify(this.chatArr)),this.chooseNum1=this.chatArr.length,this.isUser=a.data.remind_user.length>0,this.checkedList=a.data.remind_user,this.chooseNum=this.checkedList.length,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.checkedList.map((function(t){"custom"==t.scopedSlots.title?i.chooseUserNum++:"title"==t.scopedSlots.title&&i.chooseDepartmentNum++})),this.isImage=1==a.data.is_image,this.isLink=1==a.data.is_link,this.isWeapp=1==a.data.is_weapp,this.isCard=1==a.data.is_card,this.isRedpacket=1==a.data.is_redpacket,this.isVoice=1==a.data.is_voice,this.isVideo=1==a.data.is_video,this.isText=1==a.data.is_text,this.keyword=a.data.keyword,this.isLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createNotice:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.createDisabled=!0,1==this.isAudit){t.next=6;break}return this.createDisabled=!1,this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置群聊违规!",2),t.abrupt("return",!1);case 6:if(""!=this.title){t.next=11;break}return this.$message.destroy(),this.$message.warning("请填写规则名称"),this.createDisabled=!1,t.abrupt("return",!1);case 11:if("object"!=Object(o["a"])(this.agentId)&&""!=this.agentList){t.next=16;break}return this.$message.destroy(),this.$message.warning("请选择应用"),this.createDisabled=!1,t.abrupt("return",!1);case 16:if(0!=this.chatArr.length){t.next=21;break}return this.$message.destroy(),this.$message.warning("请选择群聊"),this.createDisabled=!1,t.abrupt("return",!1);case 21:if(this.isImage||this.isLink||this.isWeapp||this.isCard||this.isRedpacket||this.isVoice||this.isVideo||this.isText){t.next=26;break}return this.$message.destroy(),this.$message.warning("请选择提醒行为"),this.createDisabled=!1,t.abrupt("return",!1);case 26:if(!this.isText){t.next=32;break}if(0!=this.keyword.length){t.next=32;break}return this.$message.destroy(),this.$message.warning("请选择敏感词"),this.createDisabled=!1,t.abrupt("return",!1);case 32:if(!this.isUser){t.next=40;break}if(0!=this.checkedList.length){t.next=38;break}return this.$message.destroy(),this.$message.warning("请填写通知人员"),this.createDisabled=!1,t.abrupt("return",!1);case 38:t.next=41;break;case 40:this.checkedList=[];case 41:return t.next=43,this.axios.post("work-chat-remind/chat-remind-post",{uid:localStorage.getItem("uid"),corp_id:this.corpId,agentid:this.agentId,remind_id:this.urlId,title:this.title,chat_ids:this.chatArr,remind_user:this.checkedList,is_image:this.isImage?1:0,is_link:this.isLink?1:0,is_weapp:this.isWeapp?1:0,is_card:this.isCard?1:0,is_redpacket:this.isRedpacket?1:0,is_voice:this.isVoice?1:0,is_video:this.isVideo?1:0,is_text:this.isText?1:0,keyword:this.keyword});case 43:e=t.sent,a=e.data,0!=a.error?(this.createDisabled=!1,this.$message.error(a.error_msg)):(localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),""==this.urlId?this.$router.push("/violations/notice?agentId="+this.agentId):this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId));case 46:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modalVisibleChange:function(t,e,a){var i=this;"ok"==t&&this.corpId!=e&&(this.corpId=e,this.corpName=a,this.chooseNum1=0,this.chatArr=[],this.$store.dispatch("changeCorp",this.$store.state.corpArr.find((function(t){return t.corpid==i.corpId})))),this.showModal2=!1}},mounted:function(){var t=this;this.$route.query.id&&(this.urlId=parseInt(this.$route.query.id)),this.corpId=localStorage.getItem("corpId"),this.corpName=this.$store.state.corpArr.find((function(e){return e.corpid==t.corpId})).corp_name,this.corpId==this.$route.query.corpid&&(this.$route.query.agentid?this.agentId=this.$route.query.agentid:this.agentId=""),this.isAudit=this.$store.state.corpArr.find((function(e){return e.corpid==t.corpId})).isAudit,""!=this.urlId?(this.isLoading=!0,localStorage.setItem("notAllow",1),localStorage.setItem("backUrl","/archive/violationsNotice"),this.getDetail()):this.getAgentList(this.$route.query.agentid)}},g=u,m=(a("14e8"),a("2877")),f=Object(m["a"])(g,i,r,!1,null,"ba9cf7c8",null);e["default"]=f.exports},e1c6:function(t,e,a){e=t.exports=a("2350")(!1),e.i(a("83fb"),""),e.i(a("9249"),""),e.push([t.i,"[data-v-ba9cf7c8] .ant-divider-horizontal{margin:5px 0 15px}.content-msg[data-v-ba9cf7c8]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:0 0 15px 0;text-align:left}.content-msg a[data-v-ba9cf7c8]:link,.content-msg a[data-v-ba9cf7c8]:visited{color:#1890ff;text-decoration:none}.item-info[data-v-ba9cf7c8] p{margin:0;word-break:break-word}.hide[data-v-ba9cf7c8]{display:none!important}#components-layout-demo-basic[data-v-ba9cf7c8]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-ba9cf7c8]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:760px;width:100%;line-height:50px}[data-v-ba9cf7c8] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-ba9cf7c8] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}[data-v-ba9cf7c8] .ant-col-15{margin-left:15px}[data-v-ba9cf7c8] .ant-card-meta-avatar{float:right;padding:0}#components-layout-demo-basic .ant-layout-content[data-v-ba9cf7c8]{min-width:760px;width:100%;position:relative}.content[data-v-ba9cf7c8]{border:1px solid #e2e2e2;min-width:760px;position:absolute;top:20px;left:20px;right:20px;background-color:#fafafa;margin-bottom:20px}#components-layout-demo-basic>.ant-layout[data-v-ba9cf7c8]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-ba9cf7c8]:last-child{margin:0;height:100%}.list[data-v-ba9cf7c8]{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;overflow-x:hidden;overflow-y:auto}.content-hd[data-v-ba9cf7c8]{height:80px;padding:20px 0;max-width:900px;border-bottom:1px solid #e2e2e2}.content-bd[data-v-ba9cf7c8]{background:#fafafa;max-width:900px}.msg_content_body[data-v-ba9cf7c8]{border-radius:4px;font-size:14px;color:#333;margin:20px}[data-v-ba9cf7c8] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;cursor:pointer}.pull-left[data-v-ba9cf7c8]{width:88px}.push-type-item[data-v-ba9cf7c8]{position:relative;margin-bottom:8px;border:1px solid #d8d8d8;border-right:0;z-index:1;cursor:pointer;line-height:38px}.active[data-v-ba9cf7c8]{background:#fff;margin-right:-1px}.type[data-v-ba9cf7c8]{display:inline-block;width:65px;border-right:1px solid transparent;text-align:center}.add-new[data-v-ba9cf7c8]{background:#f9f9f9;cursor:pointer}.add-icon[data-v-ba9cf7c8]{font-size:12px;width:30px}.add-btn[data-v-ba9cf7c8],.add-icon[data-v-ba9cf7c8]{float:left;height:38px;line-height:38px;text-align:center;border:1px dashed #d8d8d8;border-right:0}.add-btn[data-v-ba9cf7c8]{width:58px}.pull-right[data-v-ba9cf7c8]{width:560px;max-height:574px;height:360px;background:#fff;border:1px solid #d8d8d8;padding:24px;overflow:auto}.fl[data-v-ba9cf7c8]{float:left}.msg_content_txt[data-v-ba9cf7c8]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;float:left;word-break:break-word}.box[data-v-ba9cf7c8]{float:right;width:46px;height:46px;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;border:2px solid #1890ff}.mt[data-v-ba9cf7c8]{margin-bottom:15px;overflow:hidden}[data-v-ba9cf7c8] #components-layout-demo-basic .ant-layout-sider{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 24%!important;flex:0 0 24%!important;max-width:24%!important;min-width:24%!important;width:24%!important;border-right:1px solid #e2e2e2;padding:20px 20px}.wrap[data-v-ba9cf7c8]{border:1px solid #e2d6d6;margin:auto;width:100%;background:#f5f5f5;overflow-y:auto;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap[data-v-ba9cf7c8],[data-v-ba9cf7c8] .ant-layout,[data-v-ba9cf7c8] .ant-spin-container,[data-v-ba9cf7c8] .ant-spin-nested-loading{height:100%}.popover-menu[data-v-ba9cf7c8]{cursor:pointer;text-align:center;display:inline-block;width:80px;border:1px solid rgba(0,0,0,.2)}.popover-menu1[data-v-ba9cf7c8],.popover-menu2[data-v-ba9cf7c8]{margin-left:10px}.popover-menu p[data-v-ba9cf7c8]{margin-bottom:5px}.material[data-v-ba9cf7c8]{max-width:80px;max-height:80px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.material-div[data-v-ba9cf7c8]{display:inline-block;position:relative;width:100px;height:100px;border:1px dashed #d8d8d8}.clear-current-list[data-v-ba9cf7c8]{display:inline-block;cursor:pointer;margin-left:10px;color:#1890ff}[data-v-ba9cf7c8] .ant-form-item-control{margin-left:15px;margin-bottom:10px}.upload-wrap[data-v-ba9cf7c8]{width:96px;height:96px;text-align:center;border:1px dashed #d8d8d8;background:#fff;cursor:pointer;margin-bottom:10px;float:left}.upload-plus[data-v-ba9cf7c8]{font-size:32px;line-height:96px;font-weight:300;color:#686868}.url-title[data-v-ba9cf7c8]{white-space:nowrap;font-size:18px}.url-text[data-v-ba9cf7c8],.url-title[data-v-ba9cf7c8]{overflow:hidden;text-overflow:ellipsis}.url-text[data-v-ba9cf7c8]{float:left;max-width:calc(100% - 74px);word-break:break-word;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.url-img[data-v-ba9cf7c8]{float:right;width:64px;height:64px}.applet-title[data-v-ba9cf7c8]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}[data-v-ba9cf7c8] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:52px}.upload-border[data-v-ba9cf7c8]{background:#fff;border:1px dotted #d8d8d8;height:110px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;margin-bottom:10px}.changeType-text[data-v-ba9cf7c8]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.content-editable[data-v-ba9cf7c8]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:110px;overflow:auto}.content-editable[data-v-ba9cf7c8] p{margin:0;word-break:break-word}",""])},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"},e81db:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-53470dae] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-53470dae] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-53470dae] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-53470dae] .ant-checkbox{float:right;margin-top:12px}.noMore[data-v-53470dae]{text-align:center;padding:10px 0;font-size:12px;color:#999}",""])},f34b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.key,staticClass:"tabBox"},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t所有分组\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t所有分组\n\t\t\t\t")])],1),a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeAllWords(t.checkedAll)}},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("\n\t\t\t全部\n\t\t")])],1),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.title&&""!=e.title?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")]):t._e()],1),e.children.length>0?a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(a){return t.changeTeamWords(e.children,e.checkedAll)}},model:{value:e.checkedAll,callback:function(a){t.$set(e,"checkedAll",a)},expression:"item.checkedAll"}},[t._v("\n\t\t\t\t全部\n\t\t\t")]):t._e(),t._l(e.children,(function(r,o){return a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeWords(r.id,i)}},model:{value:e.checked[o],callback:function(a){t.$set(e.checked,o,a)},expression:"item.checked[wordIndex]"}},[t._v("\n\t\t\t\t"+t._s(r.title)+"\n\t\t\t")])})),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-add",expression:"'sensitive-words-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px"},attrs:{icon:"plus"},on:{click:function(a){return t.createWord(e.id)}}},[t._v("\n\t\t\t\t新建敏感词\n\t\t\t")])],2):t._e()]})),t.groupList.length>0?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-group-add",expression:"'sensitive-words-group-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px","margin-right":"10px","margin-left":"16.7%"},attrs:{icon:"plus"},on:{click:t.addWordGroup}},[t._v("\n\t\t新建敏感词分组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建敏感词",confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t敏感词名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px 0px 10px 0","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个敏感词名称最多6个字。同时新建多个敏感词时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入敏感词（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{attrs:{title:"新建敏感词分组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],1)],2)},r=[],o=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),n=(a("ac4d"),a("8a81"),a("ac6a"),{name:"corpSensitiveWord",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{key:0,checkedAll:!1,corpId:t,groupList:[],word_arr:[],group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newWordList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:""}},watch:{hasChoose:{handler:function(t){var e=this;if("undefined"!=typeof t&&this.groupList.length){this.word_arr=JSON.parse(JSON.stringify(t));var a=0;this.checkedAll=!1,this.hasChoose.length>0?(this.hasChoose.map((function(t){e.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,r=void 0;try{for(var o,n=e.checked[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;s||(e.checkedAll=!1)}}catch(c){i=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(i)throw r}}}))})),this.groupList.map((function(t){a+=t.children.length})),a==this.hasChoose.length&&0!=a&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.groupList=JSON.parse(JSON.stringify(this.groupList)),this.key++}},deep:!0}},methods:{getWords:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,i,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/word-group",{uid:localStorage.getItem("uid"),is_system:0});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checkedAll=!1,t.checked=[]})),this.checkedAll=!1,i=0,"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0?(this.word_arr=this.hasChoose,this.hasChoose.map((function(t){r.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,r=void 0;try{for(var o,n=e.checked[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;s||(e.checkedAll=!1)}}catch(c){i=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(i)throw r}}}))})),this.groupList.map((function(t){i+=t.children.length})),i==this.hasChoose.length&&0!=i&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.$forceUpdate());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAllWords:function(t){var e=this;t?(this.word_arr=[],this.groupList.map((function(t){t.children.map((function(t,a){e.word_arr.push(t.id)}))}))):this.word_arr=[],this.groupList=JSON.parse(JSON.stringify(this.groupList)),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeTeamWords:function(t,e){if(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e){var a=!0,i=!1,r=void 0;try{for(var o,n=t[Symbol.iterator]();!(a=(o=n.next()).done);a=!0){var s=o.value;-1==this.word_arr.indexOf(s.id)&&this.word_arr.push(s.id)}}catch(m){i=!0,r=m}finally{try{a||null==n.return||n.return()}finally{if(i)throw r}}}else{var c=!0,l=!1,d=void 0;try{for(var p,h=t[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var u=p.value,g=this.word_arr.indexOf(u.id);g>-1&&this.word_arr.splice(g,1)}}catch(m){l=!0,d=m}finally{try{c||null==h.return||h.return()}finally{if(l)throw d}}}null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeWords:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);this.word_arr.includes(a)?this.word_arr.remove(a):this.word_arr.push(a),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},createWord:function(t){this.group_id=t,this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>6)return e.$message.error("每个敏感词最多6个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newWordList.push(t.split(" ")[a])}e.addWords(),e.inputValue="",e.newWordList=[],e.confirmLoading3=!1},addWords:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/set",{uid:localStorage.getItem("uid"),group_id:this.group_id,title:this.newWordList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getWords(),this.checkedAll=!1,this.inputValue="",this.newWordList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addWordGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName=""},handleOk2:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:return this.confirmLoading=!0,t.next=8,this.axios.post("limit-word/group-add",{uid:localStorage.getItem("uid"),title:this.teamName});case 8:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.teamName="",this.groupVisible=!1,this.getWords()),this.confirmLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getWords()}}),s=n,c=(a("467b"),a("2877")),l=Object(c["a"])(s,i,r,!1,null,"e8503c8c",null);e["a"]=l.exports},ffd5:function(t,e,a){"use strict";var i=a("59fe"),r=a.n(i);r.a}}]);