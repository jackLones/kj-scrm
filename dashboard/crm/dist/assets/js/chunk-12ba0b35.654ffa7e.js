(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12ba0b35"],{"0681":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".guide-set[data-v-1c365cd1]{width:100%;height:100%}.ant-layout-header[data-v-1c365cd1]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px;padding:0 20px;font-size:16px;text-align:left}.ant-layout-content[data-v-1c365cd1]{margin:20px;min-width:885px;background-color:#fff}.content-msg[data-v-1c365cd1]{border:1px solid #ffdda6;background:#fff2db;padding:10px;text-align:left;margin-bottom:20px}.content-hd[data-v-1c365cd1]{margin-top:20px}.content-bd[data-v-1c365cd1],.content-hd[data-v-1c365cd1]{width:100%;min-width:885px}.content-bd[data-v-1c365cd1]{background:#fff;min-height:120px;text-align:center}.content-bd .ant-btn[data-v-1c365cd1]{margin-top:50px}.content-box[data-v-1c365cd1]{background:#f5f5f5;border:1px solid #e2e2e2;margin-bottom:20px;padding:10px}.content-box[data-v-1c365cd1]:last-child{margin-bottom:0}.content-box .role-title[data-v-1c365cd1]{font-size:16px;font-weight:600;margin:10px}",""])},"38f2":function(t,e,a){var o=a("0681");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=a("499e").default;r("02c70968",o,!0,{sourceMap:!1,shadowMode:!1})},8670:function(t,e,a){"use strict";var o=a("38f2"),r=a.n(o);r.a},e4fd:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guide-set"},[a("a-layout",{staticStyle:{position:"relative",height:"100%",overflow:"hidden"}},[a("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[a("a-layout-header",[t._v("导购设置")]),a("a-layout-content",[a("div",{staticStyle:{padding:"15px 20px",background:"#FFF"}},[a("div",{staticClass:"content-hd"},[t.roleArr.length>0?a("div",{staticClass:"content-box"},[a("div",{staticClass:"guide-role"},[a("div",{staticClass:"role-title"},[a("span",[t._v("导购包含角色")]),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("div",[t._v("企业部分角色可能需要排除掉，不作为导购显示和管理")])]),a("a-icon",{staticStyle:{"margin-left":"5px",color:"#000000"},attrs:{type:"question-circle",theme:"filled"}})],2)],1),a("div",{staticClass:"rfm-statis-list"},[a("a-form",[a("a-form-item",{attrs:{label:"勾选角色:","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-checkbox-group",{attrs:{"default-value":t.roleId},on:{change:t.onChangeRole},model:{value:t.roleId,callback:function(e){t.roleId=e},expression:"roleId"}},t._l(t.roleArr,(function(e,o){return a("a-checkbox",{key:o,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)],1)])]):t._e(),a("div",{staticClass:"content-box"},[a("div",{staticClass:"guide-set"},[a("div",{staticClass:"role-title"},[a("span",[t._v("导购关联设置")]),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("div",[t._v("设置在哪些情况下会将员工设置为该顾客的导购")])]),a("a-icon",{staticStyle:{"margin-left":"5px",color:"#000000"},attrs:{type:"question-circle",theme:"filled"}})],2)],1),a("div",{staticClass:"rfm-statis-list"},[a("a-form",[t._e(),a("a-form-item",{attrs:{label:"扫码添加时:","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[a("a-radio",{attrs:{value:1}},[t._v("每个门店首个添加的企微好友成为导购")]),a("a-radio",{attrs:{value:2}},[t._v("首个添加的企微好友成为导购")]),a("a-radio",{attrs:{value:3}},[t._v("所有添加的企微好友都成为导购")])],1)],1),a("a-form-item",{attrs:{label:"顾客消费时:","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":0},model:{value:t.is_consumption,callback:function(e){t.is_consumption=e},expression:"is_consumption"}},[a("a-radio",{attrs:{value:0}},[t._v("不做处理")]),a("a-radio",{attrs:{value:1}},[t._v("订单里若可关联员工则自动增加此员工为导购")])],1),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[a("div",[t._v("部分第三方支持导入订单会关联员工信息，具体联系客服了解。特殊情况：当此员工存在于多个门店中，订单同时需要有明确的门店信息，否则关联失败")])]),a("a-icon",{staticStyle:{color:"#000000"},attrs:{type:"question-circle",theme:"filled"}})],2)],1)],1)],1)])]),t._e()]),a("div",{staticClass:"content-bd"},[a("a-button",{attrs:{type:"primary"},on:{click:t.saveGuide}},[t._v("保存")])],1)])])],1)],1)],1)},r=[],i=(a("6b54"),a("96cf"),a("3b8d")),n={name:"guideSet",components:{},data:function(){return{loading:!1,roleId:[],roleArr:[],mode_type:1,priority:1,is_consumption:0,performance_related:1}},methods:{guideSet:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.isLoading=!0,t.next=4,e.axios.post("shop-customer-guide/get-config",{corp_id:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""});case 4:a=t.sent,o=a.data,0!=o.error?(e.isLoading=!1,e.$message.error(o.error_msg)):(e.isLoading=!1,e.roleArr=o.data.role,null!=o.data.config&&(e.roleId=o.data.config.role,e.mode_type=o.data.config.mode_type,e.priority=o.data.config.priority,e.is_consumption=o.data.config.is_consumption,e.performance_related=o.data.config.performance_related));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onChangeRole:function(t){this.roleId=t},saveGuide:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.loading=!0,a={corp_id:localStorage.getItem("corpId")?localStorage.getItem("corpId"):"",role:e.roleId.toString(),mode_type:e.mode_type,priority:e.priority,is_consumption:e.is_consumption,in_page_lock:1,add_friend_lock:1,consumption_amount_lock:1,performance_related:e.performance_related},t.next=5,e.axios.post("shop-customer-guide/update-attribution",a);case 5:o=t.sent,r=o.data,0!=r.error?(e.loading=!1,e.$message.error(r.error_msg)):(e.loading=!1,e.$message.success("保存成功"));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.guideSet()}))}},c=n,s=(a("8670"),a("2877")),l=Object(s["a"])(c,o,r,!1,null,"1c365cd1",null);e["default"]=l.exports}}]);