(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e070f29a"],{"088b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAWlBMVEUAAACA1Sp70yOA0yKA0R9+0yF90yF+0yGA0SR90yF+0yF+0yF+0yF+0yB90SF+0yF91CB+0iF+1CF91CF+1CB90SF+1CF+1CGA1R5+0yJ+0yGA0iJ+0yB+0yEXXW7jAAAAHnRSTlMABh00MnW//xyL+V3hfz3YWFXIXtRkquUqafZEb3ttmU18AAAAx0lEQVR42q2Tyw6EIAwAKwIFBF3Z9+v/f3MTWCwohotzIpk5NFDgYDrW96zbs1xIDEjBK1ppgwtGq7UfLBbYofQON7jcj1hhJK+mWjDRHBqr6OS5qQeG7054mos5/dqfAULho+8wckn+CgC3cIq3zjBwf/yL5+KRhaAP59cbYvEhj30W4AyhEMlTwDArvrlHloakgjwNCZKK0kuICKQi9yi2Vz3n3vDmYyWUrXmrsoWrBUNz5QrGqdTT2Fz7Ldz5qL3jja93LD8SHBIMULduvwAAAABJRU5ErkJggg=="},"216b":function(t,e,i){"use strict";var a=i("f402"),s=i.n(a);s.a},"83a8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{attrs:{title:"选择公众号",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{height:"270px"}},[t.wxInfo[0]?i("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.wxInfo,(function(e){return["unauthorized"!=e.authorizer_type&&"已认证"==e.verify_type?i("a-select-option",{attrs:{value:e.wx_id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.nick_name)+"\n\t\t\t\t\t")]):t._e()]}))],2):t._e(),i("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.wxInfo,(function(e,a){return["scene"!=t.routeName&&"template"!=t.routeName?["unauthorized"!=e.authorizer_type&&"已认证"==e.verify_type?i("a-radio-group",{on:{change:function(i){return t.changeWx2(e.wx_id,e.nick_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.wx_id}},[i("div",[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticClass:"text"},[t._v(t._s(e.nick_name))])],1),t.material_type?i("div",{staticStyle:{"font-size":"10px","line-height":"20px","margin-top":"5px"}},[i("span",[t._v("最后时间：")]),t._v(t._s(e.pull_time||"暂无")+"\n\t\t\t\t\t\t\t")]):t._e()])],1):t._e()]:t._e(),"scene"==t.routeName||"template"==t.routeName?["unauthorized"!=e.authorizer_type&&2==e.service_type?i("a-radio-group",{on:{change:function(i){return t.changeWx2(e.wx_id,e.nick_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.wx_id}},[i("div",[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticClass:"text"},[t._v(t._s(e.nick_name))])],1)])],1):t._e()]:t._e()]}))],2)],1)])],1)},s=[],r=(i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),i("28a5"),i("96cf"),i("3b8d")),o=i("bc3a"),n=i.n(o),l=i("f64c"),c={name:"wxModal",props:{material_type:{type:String,default:""},show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},source:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("wxNum")?localStorage.getItem("wxNum"):"";return{showModal:!1,wxInfo:[],changeBackground:t,wxNum:t,authorizer_type:"",wxNickName:this.$store.state.wxNickName,routeName:""}},methods:{handleOk:function(t,e){2==localStorage.getItem("isMasterAccount")?this.getPermissionButton():(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName))},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){var e=this;this.wxInfo.map((function(i){t==i.wx_id&&(e.wxNickName=i.nick_name)})),this.wxNum=t},changeWx2:function(t,e){this.wxNum=t,this.wxNickName=e},getPermissionButton:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.wxNum,type:""!=this.type?this.type:localStorage.getItem("type"),source:this.source,corp_id:2==this.type?this.corpId1:"",wx_id:2==this.type?this.wxNum:""});case 2:if(e=t.sent,i=e.data,0!=i.error){t.next=33;break}if(!(i.data.length>0)){t.next=30;break}if(""==this.hasName){t.next=25;break}if(a=this.hasName.split(","),s=!0,!(a.length>0)){t.next=22;break}r=0;case 11:if(!(r<a.length)){t.next=19;break}if(-1!=i.data.indexOf(a[r])){t.next=16;break}return l["a"].error("该公众号未配置相关功能权限，无法选择"),s=!1,t.abrupt("return",!1);case 16:r++,t.next=11;break;case 19:s&&(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName)),t.next=23;break;case 22:-1==i.data.indexOf(this.hasName)?l["a"].error("该公众号未配置相关功能权限，无法选择"):(this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),this.$store.commit("changeWxNickName",this.wxNickName),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName));case 23:t.next=28;break;case 25:this.showModal=!1,this.$store.dispatch("changeWxNum",this.wxNum),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.wxNum,this.wxNickName);case 28:t.next=31;break;case 30:l["a"].error("无权限");case 31:t.next=34;break;case 33:l["a"].error("获取权限按钮列表失败！");case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getWx:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,r,o,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=0,"/filingCabinet/list"==this.$route.path&&(e=1),t.next=4,n.a.post("wx-authorize-info/get-authrize-info",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),material_type:this.material_type,is_from_content:e});case 4:i=t.sent,a=i.data,this.wxInfo=a.data.info,s=!0,r=!1,o=void 0,t.prev=10,l=this.wxInfo[Symbol.iterator]();case 12:if(s=(c=l.next()).done){t.next=21;break}if(d=c.value,"已认证"!=d.verify_type){t.next=18;break}return this.wxNum=d.wx_id,this.changeBackground=d.wx_id,t.abrupt("return",!1);case 18:s=!0,t.next=12;break;case 21:t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](10),r=!0,o=t.t0;case 27:t.prev=27,t.prev=28,s||null==l.return||l.return();case 30:if(t.prev=30,!r){t.next=33;break}throw o;case 33:return t.finish(30);case 34:return t.finish(27);case 35:case"end":return t.stop()}}),t,this,[[10,23,27,35],[28,,30,34]])})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("wxNum"),this.material_type?this.getWx():this.$store.dispatch("getWx",(function(t){e.wxInfo=t,e.wxNum=e.$store.state.wxNum,!e.changeBackground&&e.wxInfo.length>0&&(e.changeBackground=e.$store.state.wxNum,e.wxNum=e.$store.state.wxNum,e.wxNickName=e.$store.state.wxNickName)})),this.routeName=this.$route.name}},created:function(){}},d=c,p=(i("adcd"),i("2877")),h=Object(p["a"])(d,a,s,!1,null,"2bf4494e",null);e["a"]=h.exports},"83fb":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".medium-toolbar-arrow-under:after{border-color:#242424 transparent transparent transparent;top:50px}.medium-toolbar-arrow-over:before{border-color:transparent transparent #242424 transparent;top:-8px}.medium-editor-toolbar{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.75)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.75));border:1px solid #000;border-radius:5px;-webkit-box-shadow:0 0 3px #000;box-shadow:0 0 3px #000}.medium-editor-toolbar li button{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.89)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.89));border:0;border-right:1px solid #000;border-left:1px solid #333;border-left:1px solid hsla(0,0%,100%,.1);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.3);box-shadow:0 2px 2px rgba(0,0,0,.3);color:#fff;height:50px;min-width:50px;-webkit-transition:background-color .2s ease-in;transition:background-color .2s ease-in}.medium-editor-toolbar li button:hover{background-color:#000;color:#ff0}.medium-editor-toolbar li .medium-editor-button-first{border-bottom-left-radius:5px;border-top-left-radius:5px}.medium-editor-toolbar li .medium-editor-button-last{border-bottom-right-radius:5px;border-top-right-radius:5px}.medium-editor-toolbar li .medium-editor-button-active{background-color:#000;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(0,0,0,.89)));background:linear-gradient(180deg,#242424,rgba(0,0,0,.89));color:#fff}.medium-editor-toolbar-form{background:#242424;border-radius:5px;color:#999}.medium-editor-toolbar-form .medium-editor-toolbar-input{background:#242424;-webkit-box-sizing:border-box;box-sizing:border-box;color:#ccc;height:50px}.medium-editor-toolbar-form a{color:#fff}.medium-editor-toolbar-anchor-preview{background:#242424;border-radius:5px;color:#fff}.medium-editor-placeholder:after{color:#b3b3b1}",""])},"8bb4":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-2bf4494e] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-2bf4494e] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-2bf4494e]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-2bf4494e] .ant-radio-group{vertical-align:top}",""])},9249:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s ease-in-out infinite;animation:medium-editor-image-loading 1s ease-in-out infinite;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;position:absolute;left:0;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-editor-placeholder-relative{position:relative}.medium-editor-placeholder-relative:after{content:attr(data-placeholder)!important;font-style:italic;position:relative;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0 8px}.medium-toolbar-arrow-over:before{border-width:0 8px 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s linear forwards;animation:medium-editor-pop-upwards .16s linear forwards}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}.medium-editor-element{word-wrap:break-word;min-height:30px}.medium-editor-element img{max-width:100%}.medium-editor-element sub{vertical-align:sub}.medium-editor-element sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},"9abe":function(t,e,i){e=t.exports=i("2350")(!1),e.i(i("83fb"),""),e.i(i("9249"),""),e.push([t.i,".item-info[data-v-bf16eaa0] p{margin:0;word-break:break-word}.content-editable[data-v-bf16eaa0]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:110px;overflow:auto}.content-editable[data-v-bf16eaa0] p{margin:0;word-break:break-word}.hide[data-v-bf16eaa0]{display:none!important}#components-layout-demo-basic[data-v-bf16eaa0]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-bf16eaa0]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:760px;width:100%;line-height:50px}[data-v-bf16eaa0] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-bf16eaa0] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}[data-v-bf16eaa0] .ant-col-15{margin-left:15px}[data-v-bf16eaa0] .ant-card-meta-avatar{float:right;padding:0}#components-layout-demo-basic .ant-layout-content[data-v-bf16eaa0]{min-width:760px;width:100%;position:relative}.content[data-v-bf16eaa0]{border:1px solid #e2e2e2;min-width:760px;position:absolute;top:20px;left:20px;right:20px;background-color:#fafafa;margin-bottom:20px}#components-layout-demo-basic>.ant-layout[data-v-bf16eaa0]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-bf16eaa0]:last-child{margin:0;height:100%}.list[data-v-bf16eaa0]{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;overflow-x:hidden;overflow-y:auto}.content-hd[data-v-bf16eaa0]{height:80px;padding:20px 0;border-bottom:1px solid #e2e2e2}.content-bd[data-v-bf16eaa0]{background:#f5f5f5}.msg_content_body[data-v-bf16eaa0]{border-radius:4px;font-size:14px;color:#333;margin:20px}[data-v-bf16eaa0] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px}[data-v-bf16eaa0] .ant-tag-checkable-checked{background-color:#1890ff}.pull-left[data-v-bf16eaa0]{width:88px}.push-type-item[data-v-bf16eaa0]{position:relative;margin-bottom:8px;border:1px solid #d8d8d8;border-right:0;z-index:1;cursor:pointer;line-height:38px}.active[data-v-bf16eaa0]{background:#fff;margin-right:-1px}.index[data-v-bf16eaa0]{float:left;width:30px;height:38px;line-height:38px;border-right:1px solid #d8d8d8}.index[data-v-bf16eaa0],.type[data-v-bf16eaa0]{text-align:center}.type[data-v-bf16eaa0]{display:inline-block;width:57px;border-right:1px solid transparent}.add-new[data-v-bf16eaa0]{background:#f9f9f9;cursor:pointer}.add-icon[data-v-bf16eaa0]{font-size:12px;width:30px}.add-btn[data-v-bf16eaa0],.add-icon[data-v-bf16eaa0]{float:left;height:38px;line-height:38px;text-align:center;border:1px dashed #d8d8d8;border-right:0}.add-btn[data-v-bf16eaa0]{width:58px}.pull-right[data-v-bf16eaa0]{width:560px;max-height:630px;height:630px;background:#fff;border:1px solid #d8d8d8;padding:24px;overflow:auto}.fl[data-v-bf16eaa0]{float:left}.msg_content_txt[data-v-bf16eaa0]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;float:left;word-break:break-word}.audio[data-v-bf16eaa0]{width:100%;height:150px;padding:50px 20px;background:#fff}.box[data-v-bf16eaa0]{float:right;width:46px;height:46px;border-radius:50%;position:relative;border:2px solid #1890ff}.box[data-v-bf16eaa0],.wifi-symbol[data-v-bf16eaa0]{-webkit-box-sizing:border-box;box-sizing:border-box}.wifi-symbol[data-v-bf16eaa0]{width:30px;height:30px;overflow:hidden;-webkit-transform:rotate(135deg);transform:rotate(135deg);position:absolute;left:13px;top:6px}.wifi-circle[data-v-bf16eaa0]{border:2px solid #1890ff;border-radius:50%;position:absolute}.first[data-v-bf16eaa0]{width:5px;height:5px;background:#1890ff;top:25px;left:25px}.second[data-v-bf16eaa0]{width:25px;height:25px;top:15px;left:15px}.third[data-v-bf16eaa0]{width:40px;height:40px;top:5px;left:5px}.second1[data-v-bf16eaa0]{width:25px;height:25px;top:15px;left:15px;-webkit-animation:fadeInOut-data-v-bf16eaa0 1s .2s infinite;animation:fadeInOut-data-v-bf16eaa0 1s .2s infinite}.third1[data-v-bf16eaa0]{width:40px;height:40px;top:5px;left:5px;-webkit-animation:fadeInOut-data-v-bf16eaa0 1s .4s infinite;animation:fadeInOut-data-v-bf16eaa0 1s .4s infinite}@-webkit-keyframes fadeInOut-data-v-bf16eaa0{0%{opacity:0}to{opacity:1}}@keyframes fadeInOut-data-v-bf16eaa0{0%{opacity:0}to{opacity:1}}.upload-wrap[data-v-bf16eaa0]{width:96px;height:96px;text-align:center;border:1px dashed #d8d8d8;background:#fff;cursor:pointer;margin-bottom:10px;position:relative}.upload-plus[data-v-bf16eaa0]{font-size:32px;line-height:96px;font-weight:300;color:#686868}[data-v-bf16eaa0] .ant-form-item-control{margin-left:15px;margin-bottom:10px}.changeType-text[data-v-bf16eaa0]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.upload-border[data-v-bf16eaa0]{background:#fff;border:1px dotted #d8d8d8;height:110px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;margin-bottom:10px}[data-v-bf16eaa0] .ant-form-item-children{display:block}.mt[data-v-bf16eaa0]{margin-bottom:15px;overflow:hidden}[data-v-bf16eaa0] .emoji{font-size:20px;height:40px!important;width:40px!important}.icon-btn[data-v-bf16eaa0]{margin-right:10px}[data-v-bf16eaa0] .inputTitle{height:30px;line-height:30px;background:#0f0f0f;opacity:.3;color:#fff;padding:0 10px;margin-top:-30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[data-v-bf16eaa0] .inputTitle p{display:inline-block}[data-v-bf16eaa0] .inputTitle2{background:#fff;height:104px;padding:20px}[data-v-bf16eaa0] .inputTitle2 p{display:inline-block;word-break:break-word;width:calc(100% - 74px);text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;float:left}.hideMask[data-v-bf16eaa0]{color:rgba(0,0,0,.25);background-color:#f5f5f5;cursor:not-allowed;opacity:.5;position:absolute;top:0;left:0;right:0;bottom:0}[data-v-bf16eaa0] .ant-tag{margin:5px;height:26px;line-height:25px}[data-v-bf16eaa0] #components-layout-demo-basic .ant-layout-sider{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 24%!important;flex:0 0 24%!important;max-width:24%!important;min-width:24%!important;width:24%!important;border-right:1px solid #e2e2e2;padding:20px 20px}.upload-wrap-pic[data-v-bf16eaa0]{max-width:80px;max-height:80px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.wrap[data-v-bf16eaa0]{border:1px solid #e2d6d6;margin:auto;height:100%;width:100%;background:#f5f5f5;overflow-y:auto;-webkit-box-sizing:content-box;box-sizing:content-box}[data-v-bf16eaa0] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:50px}[data-v-bf16eaa0] .ant-layout,[data-v-bf16eaa0] .ant-spin-container,[data-v-bf16eaa0] .ant-spin-nested-loading{height:100%}",""])},abd9:function(t,e,i){var a=i("8bb4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("499e").default;s("13e4dda0",a,!0,{sourceMap:!1,shadowMode:!1})},adcd:function(t,e,i){"use strict";var a=i("abd9"),s=i.n(a);s.a},eb7e:function(t,e){t.exports="data:image/png;base64,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"},f402:function(t,e,i){var a=i("9abe");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("499e").default;s("354815ac",a,!0,{sourceMap:!1,shadowMode:!1})},fb1a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{attrs:{id:"components-layout-demo-basic"}},[a("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[a("a-layout",[a("a-layout-header",["undefined"==typeof t.urlId?[t._v("新建")]:t._e(),"undefined"!=typeof t.urlId?[t._v("修改")]:t._e(),t._v("\n\t\t\t\t\t\t渠道二维码\n\t\t\t\t\t\t"),a("a-button",{staticStyle:{float:"right","margin-top":"9px"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("\n\t\t\t\t\t\t\t返回列表\n\t\t\t\t\t\t")])],2),a("a-layout",{staticClass:"fans-content"},[a("a-layout-sider",[a("div",{staticClass:"wrap"},[a("img",{staticStyle:{width:"100%","border-bottom":"1px solid #E2D6D6"},attrs:{src:i("eb7e"),alt:""}}),a("div",{staticClass:"msg_content_body"},[t._l(t.list,(function(e,s){return[a("div",{directives:[{name:"show",rawName:"v-show",value:5==e.typeValue,expression:"element.typeValue == 5"}],staticClass:"mt"},[e.closeShowModal3?[a("div",{staticStyle:{border:"1px solid #E8E8E8"}},[a("img",{staticStyle:{height:"145px",width:"100%","object-fit":"cover"},attrs:{src:e.sketchList[0].local_path.img}}),a("div",{staticClass:"inputTitle",domProps:{innerHTML:t._s(""==e.sketchList[0].inputTitle?"标题":e.sketchList[0].inputTitle)}}),t._l(e.sketchList.slice(1),(function(i,s){return[a("div",{staticClass:"inputTitle2"},[a("p",{domProps:{innerHTML:t._s(""==e.sketchList[s+1].inputTitle?"标题":e.sketchList[s+1].inputTitle)}}),a("img",{staticStyle:{width:"64px",height:"64px",float:"right","object-fit":"cover"},attrs:{src:e.sketchList[s+1].local_path.img,alt:""}})])]}))],2)]:t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.typeValue,expression:"element.typeValue == 2"}],staticClass:"mt"},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",size:36}}),0==e.closeShowModal3?[a("img",{staticStyle:{width:"150px","border-radius":"4px"},attrs:{src:i("7e77"),alt:""}})]:t._e(),e.closeShowModal3?[a("img",{staticStyle:{width:"150px","border-radius":"4px","object-fit":"cover"},attrs:{src:e.local_path.img,alt:""}})]:t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.typeValue,expression:"element.typeValue == 1"}],staticClass:"mt"},[a("a-avatar",{staticStyle:{"margin-right":"10px",float:"left"},attrs:{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",size:36}}),a("span",{staticClass:"item-info msg_content_txt",domProps:{innerHTML:t._s(e.textAreaValueHeader)}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.typeValue,expression:"element.typeValue == 3"}],staticClass:"mt"},[0==e.closeShowModal3?[a("div",{staticClass:"audio"},[a("div",{staticClass:"box"},[a("div",{staticClass:"wifi-symbol"},[a("div",{staticClass:"wifi-circle first"}),a("div",{staticClass:"wifi-circle second"}),a("div",{staticClass:"wifi-circle third"})])])])]:t._e(),e.closeShowModal3?[a("div",{staticClass:"audio"},[a("div",{staticStyle:{float:"left","font-size":"16px"}},[t._v(t._s(e.file_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"box"},[a("div",{staticClass:"wifi-symbol"},[a("div",{staticClass:"wifi-circle first"}),a("div",{staticClass:"wifi-circle second"}),a("div",{staticClass:"wifi-circle third"})])])])]:t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.typeValue,expression:"element.typeValue == 4"}],staticClass:"mt"},[0==e.closeShowModal3?[a("a-card",{staticStyle:{width:"100%"},attrs:{hoverable:""}},[a("img",{attrs:{slot:"cover",alt:"example",src:"http://s.weituibao.com/static/1545276720179/video.png"},slot:"cover"}),a("a-card-meta",{staticStyle:{height:"50px"}})],1)]:t._e(),e.closeShowModal3?[a("a-card",{staticStyle:{width:"100%"},attrs:{hoverable:""}},[a("video-player",{ref:"videoPlayer",refInFor:!0,staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}}),a("a-card-meta",{staticStyle:{height:"50px","line-height":"50px","text-align":"center"},attrs:{title:e.file_name}})],1)]:t._e()],2)]}))],2)])]),a("a-layout-content",[a("div",{staticClass:"content"},[t.$store.state.wxArr.length>1?a("div",{staticClass:"content-hd"},[a("a-form",[a("a-form-item",{attrs:{label:"选择公众号","label-col":{span:3},"wrapper-col":{span:21}}},[[a("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.add}},[a("a-avatar",{staticStyle:{margin:"0 15px"},attrs:{shape:"square",size:40,src:t.avatarImg}}),a("span",[t._v(t._s(t.$store.state.wxNickName))]),"undefined"==typeof t.urlId?a("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}}):t._e()],1),a("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])]],2)],1)],1):t._e(),a("div",{staticClass:"content-bd"},[a("a-form",[a("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{label:"二维码名称","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:"如：扫码送试用装01，限20字符",maxLength:20,disabled:"undefined"!=typeof t.urlId},model:{value:t.msg_title,callback:function(e){t.msg_title=e},expression:"msg_title"}}),a("span",{staticStyle:{display:"inline-block",width:"50px","margin-left":"10px",color:"#F56C6C"}},[t._v(t._s(t.msg_title.length)+" / 20")]),a("span",{staticStyle:{color:"#F56C6C","margin-left":"20px"}},[t._v("（一旦创建，不可修改）")])],1),a("a-form-item",{attrs:{label:"有效期","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{name:"radioGroup",disabled:"undefined"!=typeof t.urlId},model:{value:t.validity,callback:function(e){t.validity=e},expression:"validity"}},[a("a-radio",{attrs:{value:1}},[t._v("30天（临时码过期后失效）")]),a("a-radio",{attrs:{value:2}},[t._v("永久")])],1),a("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])],1),a("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t        粉丝标签 \n\t\t\t\t\t\t\t\t\t        "),a("a-tooltip",{attrs:{title:"通过该渠道二维码扫码关注公众号的粉丝，将会被自动打上选中的粉丝标签"}},[a("a-icon",{attrs:{type:"question-circle"}})],1)],1),a("span",[a("div",{directives:[{name:"show",rawName:"v-show",value:"undefined"!=typeof t.urlId,expression:"typeof urlId != 'undefined'"}],staticClass:"hideMask"}),t._l(t.tagsList,(function(e,i){return[a("a-checkable-tag",{on:{change:function(i){return t.changeTags(e.key)}},model:{value:t.checked[i],callback:function(e){t.$set(t.checked,i,e)},expression:"checked[index]"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])]}))],2),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"tag-add",expression:"'tag-add'"}],staticStyle:{"font-size":"13px",height:"26px"},attrs:{icon:"plus",disabled:"undefined"!=typeof t.urlId},on:{click:t.createTag}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t新建标签\n\t\t\t\t\t\t\t\t\t\t\t")]),a("a-modal",{attrs:{title:"新建标签",confirmLoading:t.confirmLoading3},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",{staticStyle:{margin:"0px 0px 10px 0","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t每个标签名称最多6个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)],1),a("a-form-item",{attrs:{label:"扫码推送","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-switch",{attrs:{checked:t.pushValue},on:{click:t.changeStatus}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t（关闭后，扫渠道码，新粉丝依然可以关注公众号，且可对该粉丝自动打标签，但仅收到【关注回复】消息）\n\t\t\t\t\t\t\t\t\t\t")],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.pushValue,expression:"pushValue == 1"}],attrs:{label:"推送内容","label-col":{span:3},"wrapper-col":{span:21}}},[a("p",{staticStyle:{color:"#F56C6C",margin:"0","line-height":"20px",padding:"10px 0px 2px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t1，只能添加1个图文，且最多只能添加8条\n\t\t\t\t\t\t\t\t\t\t\t")]),a("p",{staticStyle:{color:"#F56C6C",margin:"0","line-height":"20px",padding:"2px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t2、因接口限制，“全部推送”仅支持首条回复多图文\n\t\t\t\t\t\t\t\t\t\t\t")]),a("p",{staticStyle:{color:"#F56C6C",margin:"0","line-height":"20px",padding:"2px 0px 4px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t3、总添加内容上限10个\n\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"pull-left fl"},[a("vuedraggable",{attrs:{move:t.checkMove},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[a("transition-group",t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"push-type-list",class:{active:i==t.current},on:{click:function(e){return t.clickTab(i)}}},[a("div",{staticClass:"push-type-item"},[a("span",{staticClass:"index"},[t._v(t._s(i+1))]),a("span",{staticClass:"type"},[t._v(t._s(e.typeName[e.typeValue]))])])])})),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length<10,expression:"list.length < 10"}],staticClass:"add-new",attrs:{slot:"footer"},on:{click:t.createPullLeft},slot:"footer"},[a("span",{staticClass:"add-icon"},[a("a-icon",{attrs:{type:"plus"}})],1),a("span",{staticClass:"add-btn"},[t._v("新建")])])],1),t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"pull-right fl",class:{hide:s!=t.current}},[a("a-form",[a("a-form-item",{attrs:{label:"消息类型","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{name:"radioGroup"},on:{change:function(e){return t.changeTypeValue(s)}},model:{value:e.typeValue,callback:function(i){t.$set(e,"typeValue",i)},expression:"element.typeValue"}},[a("a-radio",{attrs:{value:5,disabled:e.disabled}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("a-radio",{attrs:{value:2}},[t._v("图片")]),a("a-radio",{attrs:{value:1}},[t._v("文字")]),a("a-radio",{attrs:{value:3}},[t._v("音频")]),a("a-radio",{attrs:{value:4}},[t._v("视频")])],1)],1),t._l(e.sketchList,(function(r,o){return 5==e.typeValue?[a("a-form-item",{attrs:{label:"添加方式","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{name:"radioGroup"},on:{change:function(e){return t.changeAddType(o)}},model:{value:r.addType,callback:function(e){t.$set(r,"addType",e)},expression:"sketch.addType"}},[a("a-radio",{attrs:{value:1}},[t._v("新建")]),a("a-radio",{attrs:{value:0}},[t._v("导入")])],1)],1),1==r.addType?[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==r.closeShowModal3,expression:"sketch.closeShowModal3==false"}],attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("图片封面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"upload-wrap",on:{click:function(e){return t.openShowModal(o)}}},[a("a-icon",{staticClass:"upload-plus",attrs:{type:"plus"}})],1)],2),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:r.closeShowModal3,expression:"sketch.closeShowModal3"}],attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("图片封面\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"upload-wrap",on:{click:function(e){return t.openShowModal(s,r.material_id)}}},[a("img",{staticClass:"upload-wrap-pic",attrs:{src:r.local_path.img,alt:""}})]),a("span",{staticStyle:{color:"blue",position:"absolute",bottom:"0",left:"110px",cursor:"pointer"},on:{click:function(e){return t.openShowModal(o,r.material_id)}}},[t._v("重新上传")])],2),a("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("填写标题\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("a-input",{attrs:{maxLength:32},model:{value:r.inputTitle,callback:function(e){t.$set(r,"inputTitle",e)},expression:"sketch.inputTitle"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(r.inputTitle.length))]),t._v("/32\n                  ")])])],2),a("a-form-item",{attrs:{label:"添加描述","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-textarea",{staticStyle:{resize:"none"},attrs:{placeholder:"填写图文描述",rows:4,maxLength:128},model:{value:r.digest,callback:function(e){t.$set(r,"digest",e)},expression:"sketch.digest"}}),a("div",{staticStyle:{float:"right"}},[a("span",[t._v(t._s(r.digest.length))]),t._v("/128\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),a("a-form-item",{attrs:{label:"素材同步","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-radio-group",{attrs:{disabled:1==r.disabledSync},on:{change:function(e){return t.changeMaterialSync(o)}},model:{value:r.materialSync,callback:function(e){t.$set(r,"materialSync",e)},expression:"sketch.materialSync"}},[a("a-radio",{attrs:{value:0}},[t._v("不同步")]),a("a-radio",{style:{display:1==r.materialSync?"block":""},attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t同步至【内容引擎】\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("div",{directives:[{name:"show",rawName:"v-show",value:1==r.materialSync,expression:"sketch.materialSync == 1"}],staticStyle:{"margin-top":"10px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t选择分组：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("a-tree-select",{staticStyle:{width:"225px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto"},treeData:t.groupList,placeholder:"Please select",treeDefaultExpandAll:""},model:{value:r.selectGroupId,callback:function(e){t.$set(r,"selectGroupId",e)},expression:"sketch.selectGroupId"}})],1)])],1)],1),a("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("点击跳转\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("a-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入跳转链接，且必须以http://或https://开头"},model:{value:r.content_source_url,callback:function(e){t.$set(r,"content_source_url",e)},expression:"sketch.content_source_url"}}),a("a-button",{directives:[{name:"show",rawName:"v-show",value:r.addSketchVisible,expression:"sketch.addSketchVisible"}],staticStyle:{"margin-right":"15px"},attrs:{type:"primary",ghost:""},on:{click:function(e){return t.addSketch(o)}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t添加图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1),a("a-button",{on:{click:function(e){return t.deleteSketch(o,s)}}},[t._v("删除该条\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],2)]:t._e(),0==r.addType?[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==r.closeShowModal3,expression:"sketch.closeShowModal3==false"}],attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"upload-border",on:{click:function(e){return t.openShowModal(o)}}},[a("a-icon",{staticClass:"upload-plus",attrs:{type:"plus"}}),a("span",[t._v("选择图文")])],1),a("a-button",{directives:[{name:"show",rawName:"v-show",value:r.addSketchVisible,expression:"sketch.addSketchVisible"}],staticStyle:{"margin-right":"15px"},attrs:{type:"primary",ghost:""},on:{click:function(e){return t.addSketch(o)}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t添加图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1),a("a-button",{on:{click:function(e){return t.deleteSketch(o,s)}}},[t._v("删除该条\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],2),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:r.closeShowModal3,expression:"sketch.closeShowModal3"}],attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"upload-border",on:{click:function(e){return t.openShowModal(o,r.material_id)}}},[a("img",{attrs:{src:i("088b"),alt:""}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t已选择1条图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("p",{staticStyle:{color:"blue",margin:"14px"},on:{click:function(e){return t.openShowModal(o,r.material_id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[修改]")])]),a("a-button",{directives:[{name:"show",rawName:"v-show",value:r.addSketchVisible,expression:"sketch.addSketchVisible"}],staticStyle:{"margin-right":"15px"},attrs:{type:"primary",ghost:""},on:{click:function(e){return t.addSketch(o)}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t添加图文\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1),a("a-button",{on:{click:function(e){return t.deleteSketch(o,s)}}},[t._v("删除该条\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],2)]:t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:o!=e.sketchList.length-1,expression:"sketchIndex != element.sketchList.length - 1"}],staticStyle:{height:"1px",border:"1px dashed #E2E2E2",margin:"5px 0px",width:"100%"}})]:t._e()})),2==e.typeValue?[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.closeShowModal3,expression:"element.closeShowModal3==false"}],attrs:{label:"上传图片","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-wrap",staticStyle:{display:"inline-block"},on:{click:t.openShowModal}},[a("a-icon",{staticClass:"upload-plus",attrs:{type:"plus"}})],1),a("span",{staticStyle:{"vertical-align":"bottom"}},[t._v("（图片大小不超过2M，支持JPG、JPEG及PNG格式）")]),a("div",[a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1)]),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.closeShowModal3,expression:"element.closeShowModal3"}],attrs:{label:"上传图片","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-wrap",on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[a("img",{staticClass:"upload-wrap-pic",attrs:{src:e.local_path.img,alt:""}})]),a("span",{staticStyle:{color:"blue",position:"absolute",bottom:"30px",left:"110px",cursor:"pointer"},on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[t._v("重新上传")]),a("a-button",{staticStyle:{display:"block","margin-top":"10px"},on:{click:function(i){return t.deleteMaterial(s,e.id)}}},[t._v("删除该条\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]:t._e(),1==e.typeValue?[a("a-form-item",{attrs:{label:"文字消息","label-col":{span:3},"wrapper-col":{span:21}}},[a("medium-editor",{ref:"medium_editor",refInFor:!0,staticClass:"content-editable",attrs:{"data-key":s,text:e.textAreaValueHeader,options:t.options,"custom-tag":"div"},on:{editorCreated:t.editorCreated,edit:t.changeContentInput}}),a("div",{staticStyle:{"margin-right":"15px",float:"right"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.wordNum)+"/"+t._s(e.wordLimit)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticStyle:{padding:"0 15px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t点击插入：\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:t.addTag}},[t._v("粉丝昵称\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("a-popover",{attrs:{trigger:"click",destroyTooltipOnHide:!0},model:{value:e.emojiShow,callback:function(i){t.$set(e,"emojiShow",i)},expression:"element.emojiShow"}},[a("VEmojiPicker",{attrs:{slot:"content",showSearch:!1},on:{select:t.onSelectEmoji},slot:"content"}),a("a-icon",{staticClass:"icon-btn",staticStyle:{cursor:"pointer"},attrs:{type:"smile"}})],1)],1),a("div",{staticClass:"changeType-text"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t如何设置链接：输入文案后， 鼠标选中想要插入链接的关键词，点击出现的“设置链接”，即可填入链接。\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t提示：火狐浏览器可能出现无法正确插入粉丝昵称，请使用谷歌、360浏览器\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]),a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1)]:t._e(),3==e.typeValue?[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.closeShowModal3,expression:"element.closeShowModal3==false"}],attrs:{label:"语音","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-border",on:{click:t.openShowModal}},[a("a-icon",{staticClass:"upload-plus",attrs:{type:"plus"}}),a("span",[t._v("选择音频消息")])],1),a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.closeShowModal3,expression:"element.closeShowModal3"}],attrs:{label:"语音","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-border",on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[a("img",{attrs:{src:i("088b"),alt:""}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t已选择1条语音\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("p",{staticStyle:{color:"blue",margin:"14px"},on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[修改]")])]),a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1)]:t._e(),4==e.typeValue?[a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.closeShowModal3,expression:"element.closeShowModal3==false"}],attrs:{label:"视频","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-border",on:{click:t.openShowModal}},[a("a-icon",{staticClass:"upload-plus",attrs:{type:"plus"}}),a("span",[t._v("选择视频消息")])],1),a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:e.closeShowModal3,expression:"element.closeShowModal3"}],attrs:{label:"视频","label-col":{span:3},"wrapper-col":{span:21}}},[a("div",{staticClass:"upload-border",on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[a("img",{attrs:{src:i("088b"),alt:""}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t已选择1条视频\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),a("p",{staticStyle:{color:"blue",margin:"14px"},on:{click:function(i){return t.openShowModal(s,e.material_id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[修改]")])]),a("a-button",{on:{click:function(e){return t.deleteMaterial(s)}}},[t._v("删除该条")])],1)]:t._e()],2)],1)}))],2),a("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.pushValue,expression:"pushValue == 1"}],attrs:{label:"推送方式","label-col":{span:3},"wrapper-col":{span:14}}},[a("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.pushType,callback:function(e){t.pushType=e},expression:"pushType"}},[a("a-radio",{attrs:{value:2}},[t._v("全部推送")]),a("a-radio",{attrs:{value:1}},[t._v("随机推送一条")])],1),a("div",{staticStyle:{height:"20px","border-bottom":"1px solid #E0E0E0"}})],1),a("a-form-item",[a("div",{staticStyle:{"margin-top":"2px","margin-left":"12.5%"}},[a("a-button",{attrs:{type:"primary",disabled:t.createDisabled},on:{click:t.createScene}},["undefined"==typeof t.urlId?[t._v("创建")]:t._e(),"undefined"!=typeof t.urlId?[t._v("修改")]:t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t渠道二维码\n\t\t\t\t\t\t\t\t\t\t\t\t")],2)],1)])],1)],1)]),a("wxModal",{attrs:{show:t.showModal2,callback:t.modalVisibleChange,hasName:"code-add"}}),a("chooseMsg",{attrs:{show:t.showModal3,type:t.typeValue2,news_type:t.news_type,callback:t.modalVisibleChange2,chooseId:t.chooseId}})],1)],1)],1)],1)],1)])},s=[],r=(i("c5f6"),i("28a5"),i("6762"),i("2fdb"),i("96cf"),i("3b8d")),o=(i("6b54"),i("a481"),i("3b2b"),i("386d"),i("bd86")),n=i("83a8"),l=i("b76a"),c=i.n(l),d=i("2afe"),p=i("d6d3"),h=(i("fda2"),i("79b5")),u=i("40cf"),m=(i("c1df"),i("4884")),g=i.n(m),f=i("f64c"),b={components:{wxModal:n["a"],vuedraggable:c.a,chooseMsg:d["a"],videoPlayer:p["videoPlayer"],VEmojiPicker:h["a"],"medium-editor":g.a},props:{defaultTypeName:{type:Object,default:function(){return{1:"文字",2:"图片",3:"音频",4:"视频",5:"图文"}}}},data:function(){var t,e=this.global,a=this.$store.state.wxNum.length>0?this.$store.state.wxNum:"",s=this,r=g.a.MediumEditor.Extension.extend({name:"miniProgram",init:function(t){this.button=this.document.createElement("button"),this.button.classList.add("medium-editor-action","medium-editor-miniprogram-action"),this.button.innerHTML="设置小程序",this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getInstance:function(){return this},handleClick:function(t){var i=s.mediumEditor[s.current];i.saveSelection();var a=t.path[1],r=a.parentElement.clientWidth,o=a.parentElement.clientHeight;this.addMiniProgramForm(t);var n=a.parentElement.nextSibling.nextSibling,l=336,c=n.clientHeight,d=(r-l)/2,p=o-c+2;n.style.cssText="display: block; visibility: visible; left: "+d+"px; top: "+p+"px; width: "+l+"px; position:absolute;",this.on(document.getElementById("miniSave"),"click",function(){var t=a.parentElement.nextSibling.nextSibling.firstChild.children[0].value,s=a.parentElement.nextSibling.nextSibling.firstChild.children[1].value,r=a.parentElement.nextSibling.nextSibling.firstChild.children[2].value,o=/href="(?![a-zA-z]+:\/\/)[^"]*/g;return""==t||""==s||""==r?(f["a"].error("请填写小程序相关信息"),!1):o.test(r)?(f["a"].error("备用网页错误或不存在"),!1):(i.restoreSelection(),i.execAction("unlink"),e.createMiniPLink({url:r,data:{miniprogramappid:t,miniprogrampath:s}},i),i.trigger("editableInput",{},i.origElements),void n.parentElement.removeChild(this.document.getElementById("medium-editor-toolbar-form-miniProgram")))}.bind(this)),this.on(this.document.getElementById("miniClose"),"click",function(t){n.parentElement.removeChild(this.document.getElementById("medium-editor-toolbar-form-miniProgram"))}.bind(this))},addMiniProgramForm:function(t){var e=this.document.createElement("div");e.classList.add("medium-editor-toolbar-miniProgram","medium-editor-toolbar-form","medium-editor-toolbar-form-active"),e.style.padding="10px",e.style.width="410px",e.id="medium-editor-toolbar-form-anchor-miniProgram",e.innerHTML=['<input type="text" class="medium-editor-toolbar-input miniProgram-appid-input miniProgram-inp1" placeholder="填写小程序AppID，跳转小程序需与当前公众号绑定关联关系" style="display: block;width: 400px;">','<input type="text" class="medium-editor-toolbar-input miniProgram-path-input miniProgram-inp2" placeholder="填写小程序路径，例如：pages/index" style="display: block;width: 400px;">','<input type="text" class="medium-editor-toolbar-input miniProgram-url-input miniProgram-inp3" placeholder="备用网页，以http://或https://开头" style="display: block;width: 400px;">','<div class="btn-wrap" style="overflow: hidden;"><div style="float: right;"><a href="#" id="miniSave" class="medium-editor-toolbar-save">✓</a><a href="#" id="miniClose" class="medium-editor-toolbar-close">×</a></div></div>'].join("");var i=this.document.createElement("div");i.classList.add("medium-editor-toolbar-miniProgram-wrap"),i.id="medium-editor-toolbar-form-miniProgram",i.appendChild(e);var a=t.path[1];a.parentElement.parentElement.appendChild(i)}});return t={groupList:[],isLoading:!1,wxInfo:[],avatarImg:"",showModal2:!1,changeBackground:a,wxNum:a,msg_title:"",validity:1,tagsList:[],tag_arr:[],tag_ids:"",checked:[],pushValue:!0,num:1,visible:!1,confirmLoading3:!1,inputValue:"",jumpVisible:!1,showModal3:!1,commonUrl:this.$store.state.commonUrl,playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},typeValue2:1,list:[{typeValue:2,typeName:this.defaultTypeName,id:0,closeShowModal3:!1,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300}],number:1,number2:1,current:0,currentSketch:0,news_type:null,isPlayMusic:!0,isPlayMusic2:!1,pushType:2,mediumEditor:[],options:{toolbar:{buttons:[{name:"anchor",contentDefault:"设置链接"},{name:"miniProgram"},{name:"removeFormat",action:"unlink",contentDefault:"移除链接"}]},anchor:{linkValidation:!0,placeholderText:"输入链接，以http://或https://开头"},placeholder:{text:""},anchorPreview:!1,extensions:{miniProgram:new r({})},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanAttrs:["class","style","dir","align","width","height","face","title","code","name","id","type","span","border","open","action","method","cols","for","rel","label","icon","value","max","min","classid"]}},urlId:"",replyList:[],newTagList:[],chooseId:0,createDisabled:!1},Object(o["a"])(t,"isLoading",!1),Object(o["a"])(t,"keydownNode",!1),Object(o["a"])(t,"keydownNodeIndex",0),t},methods:{goBack:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.push("/scene/list?isRefresh=1")},initTextMsgContent:function(t){var e=this;return-1!==t.search(/[\/\[\]\(\)\|\$\*\?\+\-\_]/g)&&u["a"].wechatEmojiKey.map((function(i){var a=new RegExp(e.utils.addslashes(i),"g"),s=u["a"].getEmojiUrl(i);t=t.replace(a,'<img src="'+s+'" alt="'+i+'" height="21" width="21"/>')})),t.replace(/[\r\n|\n]/g,"<br/>")},toggleDialogEmoji:function(){this.list[this.current].emojiShow=!this.list[this.current].emojiShow},onSelectEmoji:function(t){var e=this.mediumEditor[this.current].options.ownerDocument;this.list[this.current].wordLimit-this.list[this.current].wordNum>=2&&this.insertHTMLCommand(e,t.data),this.toggleDialogEmoji()},getCursor:function(t){var e=getSelection();if(e){var i=e.anchorNode,a=!1;while(i&&i.nodeType!=i.DOCUMENT_NODE){var s=i.classList;if(s&&s.contains("content-editable")){a=!0;break}i=i.parentNode}a&&(t.lastRange=e.getRangeAt(0),t.lastNode=i)}},insertHTMLCommand:function(t,e){if("undefined"===typeof self.lastNode||!self.lastNode.classList.contains("content-editable")||self.lastNode.dataset.key!=this.current)return!1;var i,a,s,r,o,n,l=["insertHTML",!1,e];if(i=self.lastRange,a=i.commonAncestorContainer,g.a.MediumEditor.util.isMediumEditorElement(a)&&!a.firstChild)i.selectNode(a.appendChild(t.createTextNode("")));else if(3===a.nodeType&&0===i.startOffset&&i.endOffset===a.nodeValue.length||3!==a.nodeType&&a.innerHTML===i.toString()){while(!g.a.MediumEditor.util.isMediumEditorElement(a)&&a.parentNode&&1===a.parentNode.childNodes.length&&!g.a.MediumEditor.util.isMediumEditorElement(a.parentNode))a=a.parentNode;i.selectNode(a)}i.deleteContents(),s=t.createElement("div"),s.innerHTML=e,r=t.createDocumentFragment();while(s.firstChild)o=s.firstChild,n=r.appendChild(o);i.insertNode(r),n&&(i=i.cloneRange(),i.setStartAfter(n),i.collapse(!0),g.a.MediumEditor.selection.selectRange(t,i)),t.execCommand.callListeners&&t.execCommand.callListeners(l,!0),this.list[this.current].wordNum=self.lastNode.textContent.length,this.list[this.current].wordNum<=this.list[this.current].wordLimit&&(this.list[this.current].textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.list[this.current].textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.list[this.current].textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>&nbsp;/g,"{nickname}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&")),this.mediumEditor[this.current].origElements.scrollTop=this.mediumEditor[this.current].origElements.scrollHeight;var c={currentTarget:this.mediumEditor[this.current].origElements};this.mediumEditor[this.current].events.updateInput(c.currentTarget,c)},editorCreated:function(t){if("undefined"==typeof this.urlId)this.$set(this.mediumEditor,this.current,t),this.mediumEditor[this.current].subscribe("focus",this.editableFocus),this.mediumEditor[this.current].subscribe("editableKeydown",this.editableKeydown),this.mediumEditor[this.current].subscribe("editablePaste",this.editablePaste);else{var e=t.origElements.dataset.key;this.$set(this.mediumEditor,e,t),this.mediumEditor[e].subscribe("focus",this.editableFocus),this.mediumEditor[e].subscribe("editableKeydown",this.editableKeydown),this.mediumEditor[e].subscribe("editablePaste",this.editablePaste)}delete self.lastRange,delete self.lastNode},editableFocus:function(t){""!==t.target.innerHTML&&"<br>"!=t.target.innerHTML&&"<p></p>"!=t.target.innerHTML||(t.target.innerHTML="<p><br/></p>")},editableKeydown:function(t){this.list[this.current].wordNum>=this.list[this.current].wordLimit&&8!=t.keyCode&&37!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&(65!=t.keyCode||!t.metaKey&&!t.ctrlKey)&&t.preventDefault(),86==t.keyCode&&(t.metaKey||t.ctrlKey)&&console.log(123),13==t.keyCode&&(this.keydownNodeIndex=0,this.getParentP4Label(self.lastRange.startContainer)),this.keydownNode=13==t.keyCode},getParentP4Label:function(t){"P"!=t.nodeName?this.getParentP4Label(t.parentNode):this.getPreviousSiblingIndex(t)},getPreviousSiblingIndex:function(t){t.previousSibling&&(this.keydownNodeIndex++,this.getPreviousSiblingIndex(t.previousSibling))},editablePaste:function(t,e){this.invlideText()},invlideText:function(){var t=this.mediumEditor[this.current].origElements,e=this.global.getRangeInfo(t,this.list[this.current].wordLimit),i=e.startNode,a=e.startOffset,s=e.endNode,r=e.endOffset;if("undefined"!==typeof i.nodeValue){var o=document.createRange();o.setStart(i,a),o.setEnd(s,r),o.deleteContents(),this.list[this.current].textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.list[this.current].textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.list[this.current].textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"),this.list[this.current].wordNum=this.list[this.current].wordLimit}var n=this.mediumEditor[this.current].origElements;n.scrollTop=n.clientHeight},changeContentInput:function(t){""!=t.api.origElements.innerHTML&&"<br>"!=t.api.origElements.innerHTML||(t.api.origElements.innerHTML="<p><br/></p>");var e=/href="(?![a-zA-z]+:\/\/)[^"]*/g;if(e.test(t.api.origElements.innerHTML))return this.$message.error("请填写正确的链接"),this.mediumEditor[this.current].execAction("unlink"),!1;if(this.list[this.current].wordNum=self.lastNode.textContent.length,this.list[this.current].wordNum<=this.list[this.current].wordLimit?(this.list[this.current].textAreaValueHeader=t.api.origElements.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.list[this.current].textContent=t.api.origElements.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&"):this.list[this.current].textContent=t.api.origElements.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&")):this.invlideText(),this.keydownNode){var i=self.lastNode.childNodes[this.keydownNodeIndex+1],a=document.createRange();a.setStart(i,0);var s=window.getSelection();s.removeAllRanges(),s.addRange(a),this.keydownNode=!1}},addTag:function(){var t=this.mediumEditor[this.current].options.ownerDocument,e='<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称</span>&nbsp;</span>';this.list[this.current].wordLimit-this.list[this.current].wordNum>=6&&this.insertHTMLCommand(t,e)},add:function(){this.$route.query.id||(this.showModal2=!0,this.isLoading=!0)},modalVisibleChange:function(t,e,a){"ok"==t?(this.isLoading=!1,this.showModal2=!1,this.$store.dispatch("changeWxNum",e),this.$store.commit("changeWxNickName",a),this.avatarImg=this.wxInfo[this.$store.state.wxNumIndex].head_img,this.getTags(),this.msg_title="",this.validity=1,this.tag_arr=[],this.tag_ids="",this.checked=[],this.pushValue=!0,this.pushType=2,this.current=0,this.list=[{typeValue:2,typeName:this.defaultTypeName,id:0,closeShowModal3:!1,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300}]):(this.isLoading=!1,this.showModal2=!1)},changeTypeValue:function(t){this.list[t].closeShowModal3=!1,this.list[t].sketchList=this.list[t].sketchList.slice(0,1),this.list[t].sketchList[0].closeShowModal3=!1,this.list[t].sketchList[0].local_path.img=i("7e77"),this.list[t].sketchList[0].local_path.audio="",this.list[t].sketchList[0].inputTitle="",this.list[t].sketchList[0].digest="",this.list[t].sketchList[0].content_source_url="",this.list[t].local_path.img="",this.list[t].local_path.audio="",this.list[t].closeShowModal3=!1,this.list[t].material_id="",this.list[t].sketchList[0].material_id=0,this.list[t].textAreaValueHeader="",this.list[t].textContent="",this.list[t].sketchList[0].materialSync=0,this.list[t].sketchList[0].selectGroupId="",delete self.lastRange,delete self.lastNode},changeAddType:function(t){this.list[this.current].sketchList[t].closeShowModal3=!1,this.list[this.current].sketchList[t].closeShowModal3=!1,this.list[this.current].sketchList[t].local_path.img=i("7e77"),this.list[this.current].sketchList[t].local_path.audio="",this.list[this.current].sketchList[t].inputTitle="",this.list[this.current].sketchList[t].digest="",this.list[this.current].sketchList[t].content_source_url="",this.list[this.current].sketchList[t].material_id="",this.list[this.current].sketchList[t].materialSync=0,this.list[this.current].sketchList[t].selectGroupId=""},getTags:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,a,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("tags/tags-get-all",{wx_id:localStorage.getItem("wxNum"),type:1});case 2:if(e=t.sent,i=e.data,0!=i.error)this.isLoading=!1,this.$message.error(i.error_msg);else{for(this.isLoading=!1,this.tagsList=i.data.info,a=0;a<this.tagsList.length;a++)s=!1,this.checked.push(s);if(this.tag_arr.length>0)for(r=0;r<this.tag_arr.length;r++)for(o=0;o<this.tagsList.length;o++)this.tag_arr[r]==this.tagsList[o].key&&(this.checked[o]=!0)}case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t){if(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},this.tag_arr.includes(t))this.tag_arr.remove(t);else if(this.tag_arr.length+1>20){this.$message.warning("不可选中，粉丝标签数量上限20个");for(var e=0;e<this.tagsList.length;e++)this.tagsList[e].key==t&&(this.checked[e]=!1)}else this.tag_arr.push(t);this.tag_ids=this.tag_arr.join()},createTag:function(){if(this.tagsList.length>=100)return this.$message.warning("标签数量已超过上限100个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var i=0;i<t.split(" ").length;i++){if(t.split(" ")[i].length>6)return e.$message.error("每个标签最多6个字"),e.confirmLoading3=!1,!1;t.split(" ")[i].length>0&&e.newTagList.push(t.split(" ")[i])}e.addTags(),e.inputValue="",e.newTagList=[]},addTags:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("tags/tags-create",{wx_id:localStorage.getItem("wxNum"),tag_name:this.newTagList});case 2:e=t.sent,i=e.data,0!=i.error?(this.$message.error(i.error_msg),this.confirmLoading3=!1):(this.isLoading=!0,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},changeStatus:function(t){this.pushValue=t},createPullLeft:function(){this.current=this.list.length,this.list.push({typeValue:2,id:this.number++,typeName:this.defaultTypeName,closeShowModal3:!1,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300});for(var t=!1,e=0;e<this.list.length;e++)5==this.list[e].typeValue&&(t=!0);for(var a=0;a<this.list.length;a++)t?5==this.list[a].typeValue?this.list[a].disabled=!1:this.list[a].disabled=!0:this.list[a].disabled=!1},clickTab:function(t){this.current=t;for(var e=!1,i=0;i<this.list.length;i++)5==this.list[i].typeValue&&(e=!0);for(var a=0;a<this.list.length;a++)e?5==this.list[a].typeValue?this.list[a].disabled=!1:this.list[a].disabled=!0:this.list[a].disabled=!1},checkMove:function(t){console.log(t.draggedContext.futureIndex)},openShowModal:function(t,e){this.chooseId="undefined"==typeof e?0:Number(e),this.currentSketch=t,this.showModal3=!0,5==this.list[this.current].typeValue&&1==this.list[this.current].sketchList[t].addType?this.typeValue2=2:5==this.list[this.current].typeValue?(this.typeValue2=1,this.news_type=1):this.typeValue2=this.list[this.current].typeValue},modalVisibleChange2:function(t,e,i){"ok"==t?isNaN(i)||""==i?(this.$message.error("请选择素材"),this.showModal3=!1):(this.list[this.current].closeShowModal3=!0,this.showModal3=!1,5==this.list[this.current].typeValue?this.list[this.current].sketchList[this.currentSketch].material_id=i:this.list[this.current].material_id=i,this.getOneMaterial()):this.showModal3=!1},getOneMaterial:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=0,e=5==this.list[this.current].typeValue?this.list[this.current].sketchList[this.currentSketch].material_id:this.list[this.current].material_id,t.next=4,this.axios.post("material/upload-media",{wx_id:localStorage.getItem("wxNum"),attachment_id:e});case 4:i=t.sent,a=i.data,0==a.error?(this.materialList=a.data[e],5==this.list[this.current].typeValue&&1==this.list[this.current].sketchList[this.currentSketch].addType?(this.list[this.current].sketchList[this.currentSketch].local_path.img=this.commonUrl+this.materialList.local_path,this.list[this.current].sketchList[this.currentSketch].closeShowModal3=!0):5==this.list[this.current].typeValue&&0==this.list[this.current].sketchList[this.currentSketch].addType?(this.list[this.current].sketchList[this.currentSketch].material_id=this.materialList.id,this.list[this.current].sketchList[this.currentSketch].closeShowModal3=!0,this.list[this.current].sketchList[this.currentSketch].local_path.img=this.commonUrl+this.materialList.artList[0].local_path,this.list[this.current].sketchList[this.currentSketch].inputTitle=this.materialList.artList[0].title,this.list[this.current].sketchList[this.currentSketch].digest=this.materialList.artList[0].digest,this.list[this.current].sketchList[this.currentSketch].content_source_url=this.materialList.artList[0].content_source_url,this.list[this.current].sketchList[this.currentSketch].materialSync=this.materialList.artList[0].is_sync,this.list[this.current].sketchList[this.currentSketch].selectGroupId=this.materialList.artList[0].group_id):4==this.list[this.current].typeValue?(this.list[this.current].file_name=this.materialList.file_name,this.list[this.current].closeShowModal3=!0):3==this.list[this.current].typeValue?(this.list[this.current].local_path.audio=this.commonUrl+this.materialList.local_path,this.list[this.current].file_name=this.materialList.file_name,this.list[this.current].closeShowModal3=!0):(this.list[this.current].local_path.img=this.commonUrl+this.materialList.local_path,this.list[this.current].file_name=this.materialList.file_name,this.list[this.current].closeShowModal3=!0)):this.$message.error(a.error_msg);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addSketch:function(t){this.list[this.current].sketchList.length>=8?this.$message.error("最多添加8条图文"):(this.list[this.current].sketchList[t].addSketchVisible=!1,this.list[this.current].sketchList.push({id:this.number2++,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",addSketchVisible:!0,local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}))},playMusic:function(){var t=this;this.isPlayMusic=!1,this.isPlayMusic2=!0,this.$nextTick((function(){t.$refs.audio[0].play();var e=setInterval((function(){t.$refs.audio[0].paused&&(clearInterval(e),t.isPlayMusic=!0,t.isPlayMusic2=!1)}),1e3)}))},deleteMaterial:function(t){this.list.length>2?(this.current-1>=0?this.current=this.current-1:this.current=this.current+1,this.list.splice(t,1)):2==this.list.length?(this.current>0&&(this.current=0),this.list.splice(t,1)):this.list=[{typeValue:2,typeName:this.defaultTypeName,id:0,closeShowModal3:!1,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300}]},deleteSketch:function(t,e){this.list.length>1?this.list[this.current].sketchList.length>1?(t==this.list[this.current].sketchList.length-1&&(this.list[this.current].sketchList[t-1].addSketchVisible=!0),this.list[this.current].sketchList.splice(t,1)):(this.list.splice(e,1),this.current-1>=0?this.current=this.current-1:this.current=0,this.list[this.current].disabled=!1):this.list[this.current].sketchList.length>1?(t==this.list[this.current].sketchList.length-1&&(this.list[this.current].sketchList[t-1].addSketchVisible=!0),this.list[this.current].sketchList.splice(t,1)):this.list=[{typeValue:2,typeName:this.defaultTypeName,id:0,closeShowModal3:!1,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!1,materialSync:0,selectGroupId:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300}]},createScene:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,o,n,l,c,d,p,h,u,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.createDisabled=!0,e=[],a={type:"",content:"",material_id:"",newsList:[]},s={is_use:"",material_id:"",title:"",digest:"",cover_url:"",content_url:"",is_sync:0,group_id:"",attach_id:""},r=0;case 5:if(!(r<this.list.length)){t.next=25;break}if(o=JSON.parse(JSON.stringify(a)),o.type=this.list[r].typeValue,1!=this.list[r].typeValue){t.next=12;break}"\n"==this.list[r].textContent?this.list[r].textContent="":o.content=this.list[r].textContent,t.next=21;break;case 12:if(5!=this.list[r].typeValue){t.next=20;break}if(!(this.list[r].sketchList.length>1&&2==this.pushType&&0!=r)){t.next=17;break}return this.$message.error("因接口限制，“全部推送”仅支持首条回复多图文"),this.createDisabled=!1,t.abrupt("return",!1);case 17:for(n=0;n<this.list[r].sketchList.length;n++)l=JSON.parse(JSON.stringify(s)),l.is_use=this.list[r].sketchList[n].addType,0==l.is_use?(l.material_id=this.list[r].sketchList[n].material_id,o.newsList.push(l)):(l.title=this.list[r].sketchList[n].inputTitle,"undefined"==typeof this.list[r].sketchList[n].digest?l.digest="":l.digest=this.list[r].sketchList[n].digest,l.cover_url=this.list[r].sketchList[n].local_path.img,l.content_url=this.list[r].sketchList[n].content_source_url,l.material_id=this.list[r].sketchList[n].material_id,l.is_sync=this.list[r].sketchList[n].materialSync,l.group_id=this.list[r].sketchList[n].selectGroupId,l.attach_id=this.list[r].sketchList[n].attach_id,o.newsList.push(l));t.next=21;break;case 20:this.list[r].typeValue,o.material_id=this.list[r].material_id;case 21:e.push(o);case 22:r++,t.next=5;break;case 25:if(c=1,0==this.pushValue&&(c=0),d="scene/add","undefined"!=typeof this.urlId&&(d="scene/update"),""!=this.msg_title){t.next=34;break}this.$message.error("请填写二维码名称"),this.createDisabled=!1,t.next=61;break;case 34:if(!this.pushValue){t.next=56;break}p=0;case 36:if(!(p<e.length)){t.next=56;break}h=0;case 38:if(!(h<e[p].newsList.length)){t.next=53;break}if(0!=e[p].newsList[h].is_use){t.next=46;break}if(""!=e[p].newsList[h].material_id){t.next=44;break}return this.$message.error("请检查内容和设置是否填写完整，跳转链接格式是否正确，文字消息是否在 300 字符内"),this.createDisabled=!1,t.abrupt("return",!1);case 44:t.next=50;break;case 46:if(e[p].newsList[h].cover_url!=i("7e77")&&""!=e[p].newsList[h].title&&""!=e[p].newsList[h].content_url){t.next=50;break}return this.$message.error("请检查内容和设置是否填写完整，跳转链接格式是否正确，文字消息是否在 300 字符内"),this.createDisabled=!1,t.abrupt("return",!1);case 50:h++,t.next=38;break;case 53:p++,t.next=36;break;case 56:return t.next=58,this.axios.post(d,{wx_id:localStorage.getItem("wxNum"),title:this.msg_title,time_type:this.validity,status:c,push_type:this.pushType,tagIds:this.tag_ids,msgData:e,scene_id:this.urlId});case 58:u=t.sent,m=u.data,0!=m.error?(this.$message.error(m.error_msg),this.createDisabled=!1):(this.$message.success("操作成功"),localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.createDisabled=!1,"undefined"==typeof this.urlId?this.$router.push("/scene/list"):this.$router.push("/scene/list?isRefresh=1"));case 61:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDetail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("scene/info",{scene_id:this.urlId});case 2:if(e=t.sent,a=e.data,0!=a.error)this.isLoading=!1,this.$message.error(a.error_msg);else{if(this.isLoading=!1,this.msg_title=a.data.title,this.validity=a.data.time_type,this.tag_ids=a.data.tagIds,this.tag_arr=this.tag_ids.split(","),0==a.data.status?this.pushValue=!1:this.pushValue=!0,this.pushType=a.data.push_type,this.replyList=a.data.replyList,this.replyList.length>0)for(this.list=[],s=0;s<this.replyList.length;s++)if(this.list.push({typeValue:2,typeName:this.defaultTypeName,id:0,closeShowModal3:!0,disabled:!1,file_name:"",material_id:"",local_path:{img:"",audio:""},sketchList:[{id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!0,materialSync:0,selectGroupId:"",attach_id:""}],textAreaValueHeader:"",emojiShow:!1,textContent:"",wordNum:0,wordLimit:300}),this.list[s].typeValue=this.replyList[s].typeValue,5==this.list[s].typeValue&&this.replyList[s].sketchList.length>0){for(r=0;r<this.replyList[s].sketchList.length;r++)this.list[s].sketchList.push({id:0,addSketchVisible:!0,addType:1,inputTitle:"",digest:"",content_source_url:"",material_id:"",local_path:{img:i("7e77"),audio:""},closeShowModal3:!0,materialSync:0,selectGroupId:"",disabledSync:0,attach_id:""}),this.list[s].sketchList[r].id=this.replyList[s].sketchList[r].id,this.list[s].sketchList[r].addType=this.replyList[s].sketchList[r].addType,this.list[s].sketchList[r].inputTitle=this.replyList[s].sketchList[r].inputTitle,null!==this.replyList[s].sketchList[r].digest&&(this.list[s].sketchList[r].digest=this.replyList[s].sketchList[r].digest),this.list[s].sketchList[r].content_source_url=this.replyList[s].sketchList[r].content_source_url,this.list[s].sketchList[r].material_id=this.replyList[s].sketchList[r].material_id,this.list[s].sketchList[r].local_path.img=this.replyList[s].sketchList[r].local_path.img,this.list[s].sketchList[r].local_path.audio=this.replyList[s].sketchList[r].local_path.audio,this.list[s].sketchList[r].materialSync=this.replyList[s].sketchList[r].is_sync,this.list[s].sketchList[r].disabledSync=this.replyList[s].sketchList[r].is_sync,this.list[s].sketchList[r].selectGroupId=this.replyList[s].sketchList[r].group_id,this.list[s].sketchList[r].attach_id=this.replyList[s].sketchList[r].attach_id;for(o=0;o<this.list.length;o++)5==this.list[o].typeValue&&this.list[o].sketchList.splice(this.list[o].sketchList.length-1,1)}else this.list[s].id=this.replyList[s].id,this.list[s].file_name=this.replyList[s].file_name,this.list[s].material_id=this.replyList[s].material_id,this.list[s].local_path.img=this.replyList[s].local_path.img,this.list[s].local_path.audio=this.replyList[s].local_path.audio,this.list[s].textContent=this.replyList[s].textAreaValueHeader,this.list[s].textAreaValueHeader=this.replyList[s].textAreaValueHeader.replace(/{nickname}/g,'<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称</span>&nbsp;</span>').replace(/\n/g,"<br>"),this.list[s].textAreaValueHeader="<p>"+this.list[s].textAreaValueHeader+"</p>",n=this.list[s].textContent.replace(/{nickname}/g," 粉丝昵称 ").replace(/\n/g,"").replace(/(<\/?a.*?>)/g,""),this.list[s].wordNum=n.length;this.list.map((function(t){5==t.typeValue?t.sketchList.map((function(t){""==t.cover_url&&(t.closeShowModal3=!1)})):null===t.material_id&&(t.closeShowModal3=!1)})),this.getTags()}case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeMaterialSync:function(t){1==this.list[this.current].sketchList[t].materialSync&&this.getGroupList(t)},getGroupList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=function(t){return null===t||void 0===t},t.next=3,this.axios.post("attachment/group",{uid:localStorage.getItem("uid"),is_channel:1});case 3:a=t.sent,s=a.data,0!=s.error?this.$message.error(s.error_msg):(this.groupList=s.data.group,i(e)||(this.list[this.current].sketchList[e].selectGroupId=this.groupList[0].key));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},beforeCreate:function(){this.$store.state.wxNum||this.$router.back()},created:function(){this.urlId=this.$route.query.id,"undefined"!=typeof this.urlId&&(this.isLoading=!0,localStorage.setItem("notAllow",1),localStorage.setItem("backUrl","/scene/list"),this.getGroupList(),this.getDetail()),this.getTags();var t=this;this.$store.dispatch("getWx",(function(e){t.wxInfo=e,t.avatarImg||(t.avatarImg=t.wxInfo[t.$store.state.wxNumIndex].head_img)})),document.addEventListener("selectionchange",(function(){t.getCursor(self)}))}},x=b,w=(i("216b"),i("2877")),v=Object(w["a"])(x,a,s,!1,null,"bf16eaa0",null);e["default"]=v.exports}}]);