(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f572fcd"],{"15db":function(t,e,a){"use strict";var n=a("d2e0"),s=a.n(n);s.a},"3da4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[n("div",[n("a-card",{staticStyle:{"margin-bottom":"20px",padding:"10px 20px","font-size":"16px"}},[n("label",{staticClass:"tpl-title"},[t._v("消息互通")]),n("help-icon",{attrs:{"help-url":"https://support.qq.com/products/312071/faqs/90062"}})],1),n("div",{staticClass:"content-bd"},[n("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[n("div",{staticClass:"spin-content"},[n("a-row",[n("div",{staticClass:"content-msg"},[n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t\t用于将公众号的粉丝消息和小程序的用户消息自动通过自建应用提醒到相应的企业微信成员。")])])]),n("a-row",{staticStyle:{"margin-bottom":"20px",padding:"0 20px"}},[t.corpInfo.length>1?n("a-col",{staticStyle:{float:"left"}},[n("a-select",{staticStyle:{width:"200px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.corpId,callback:function(e){t.corpId=e},expression:"corpId"}},[t._l(t.corpInfo,(function(e){return[n("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.corp_full_name||e.corp_name)+"\n\t\t\t\t\t\t\t\t\t")])]}))],2)],1):t._e(),n("a-col",{staticStyle:{float:"right"}},[n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},on:{click:t.add},slot:"overlay"},[n("a-menu-item",{key:"1"},[t._v("公众号")]),n("a-menu-item",{key:"2"},[t._v("小程序")])],1),n("a-button",{directives:[{name:"has",rawName:"v-has",value:"redirect-add",expression:"'redirect-add'"}],staticStyle:{width:"150px","font-size":"14px"},attrs:{type:"primary",icon:"plus"}},[t._v("\n\t\t\t\t\t\t\t\t\t新建\n\t\t\t\t\t\t\t\t\t"),n("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1),n("a-row",{staticStyle:{"margin-bottom":"20px",padding:"0 20px"}},[n("a-col",[n("div",{staticClass:"content-bd"},[n("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isTabLoading}},[n("a-table",{directives:[{name:"has",rawName:"v-has",value:"redirect-list",expression:"'redirect-list'"}],attrs:{columns:t.columns,dataSource:t.relationList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"name",fn:function(e,s,i){return[s.user.thumb_avatar?n("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",src:s.user.thumb_avatar}}):t._e(),s.user.thumb_avatar?t._e():n("img",{staticStyle:{width:"32px",height:"32px",float:"left"},attrs:{src:a("4bef")}}),n("div",{staticStyle:{float:"left","max-width":"270px","word-wrap":"break-word"}},[n("div",{staticStyle:{display:"inline-block","margin-left":"10px","max-width":"140px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(t._s(s.user.name))]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==s.user.position,expression:"record.user.position !== ''"}],staticStyle:{display:"inline-block","margin-left":"10px","max-width":"140px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t（"+t._s(s.user.position)+"）\n\t\t\t\t\t\t\t\t\t\t\t\t")])]),n("span",{staticStyle:{"vertical-align":"sub"}},[1==s.user.gender?n("a-icon",{staticStyle:{"margin-left":"10px",color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),2==s.user.gender?n("a-icon",{staticStyle:{"margin-left":"10px",color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1)]}},{key:"department_name",fn:function(e,a,s){return n("span",{},[t._v(t._s(a.user.department_name))])}},{key:"author_name",fn:function(e,s,i){return[s.author.head_img?n("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",src:s.author.head_img}}):t._e(),s.author.head_img?t._e():n("img",{staticStyle:{width:"32px",height:"32px",float:"left"},attrs:{src:a("4bef")}}),n("div",{staticStyle:{float:"left","max-width":"230px","word-wrap":"break-word","line-height":"32px",height:"32px"}},[n("p",{staticStyle:{"margin-left":"10px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.author.nick_name)+"(\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(0==s.author.auth_type?"公众号":"小程序")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)")])])]}},{key:"agent_name",fn:function(e,s,i){return[s.agent.square_logo_url?n("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",src:s.agent.square_logo_url}}):t._e(),s.agent.square_logo_url?t._e():n("img",{staticStyle:{width:"32px",height:"32px",float:"left"},attrs:{src:a("4bef")}}),n("div",{staticStyle:{float:"left","max-width":"230px","word-wrap":"break-word","line-height":"32px",height:"32px"}},[n("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(s.agent.name))])])]}},{key:"status",fn:function(e,a,s){return[0==a.status?n("span",[t._v("已关闭")]):t._e(),1==a.status?n("span",[t._v("已开启")]):t._e()]}},{key:"action",fn:function(e,a,s){return[n("a-popconfirm",{attrs:{title:"确定开启吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.changeRelation(a.key,1,s)}}},[0==a.status?n("a-button",{directives:[{name:"has",rawName:"v-has",value:"redirect-close",expression:"'redirect-close'"}],staticStyle:{margin:"0px 5px 5px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t开启\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1),n("a-popconfirm",{attrs:{title:"确定关闭吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.changeRelation(a.key,0,s)}}},[1==a.status?n("a-button",{directives:[{name:"has",rawName:"v-has",value:"redirect-close",expression:"'redirect-close'"}],staticStyle:{margin:"0px 5px 5px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t关闭\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1),n("a-popconfirm",{attrs:{title:"确定删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.delRelation(a.key,s)}}},[n("a-button",{directives:[{name:"has",rawName:"v-has",value:"redirect-delete",expression:"'redirect-delete'"}],staticStyle:{margin:"0px 5px 5px 0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1)]}}])})],1)],1),n("a-modal",{attrs:{title:"新建转发关系",width:"750px"},on:{cancel:t.handleCancel,ok:t.handleOk},model:{value:t.showRedirectModal,callback:function(e){t.showRedirectModal=e},expression:"showRedirectModal"}},[n("div",{staticStyle:{padding:"30px 10px","min-height":"300px",overflow:"auto"}},[n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("企业成员\n\t\t\t\t\t\t\t\t\t\t")]),n("chooseStaffSelect",{staticStyle:{width:"60%"},attrs:{index:0,index2:0,callback:t.selectStaffCallback}})],1),1==t.addType?n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("公众号\n\t\t\t\t\t\t\t\t\t\t")]),n("a-select",{staticStyle:{width:"60%"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择公众号"},model:{value:t.wxNum,callback:function(e){t.wxNum=e},expression:"wxNum"}},t._l(t.wxInfo,(function(e,a){return n("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.nick_name)+"\n\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1):t._e(),2==t.addType?n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("小程序\n\t\t\t\t\t\t\t\t\t\t")]),n("a-select",{staticStyle:{width:"60%"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择小程序"},model:{value:t.miniNum,callback:function(e){t.miniNum=e},expression:"miniNum"}},t._l(t.miniInfo,(function(e,a){return n("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.nick_name)+"\n\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1):t._e(),n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("发送应用\n\t\t\t\t\t\t\t\t\t\t")]),n("a-select",{staticStyle:{width:"60%"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择发送应用"},model:{value:t.agentId,callback:function(e){t.agentId=e},expression:"agentId"}},t._l(t.agentList,(function(e,a){return n("a-select-option",{key:e.id},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t")])})),1),n("div",[n("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),n("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),n("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t教程")])]),n("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("2、选择此应用，请确认已设置过应用的可信域名。"),n("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[n("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])])],1),""!=t.agentId?[n("a-form-item",[n("a-alert",{attrs:{banner:""}},[n("span",{attrs:{slot:"message"},slot:"message"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t请务必保证该应用已开启 "),n("b",[t._v("接收消息")]),t._v(" 并且已经将下边的信息配置到 "),n("b",[t._v("API接收消息")])])])],1),n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("应用接收消息URL")]),n("a-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{disabled:""},model:{value:t.$store.state.commonUrl+"/work/event/agent/"+t.agentId,callback:function(e){t.$set(t.$store.state,"commonUrl + '/work/event/agent/' + agentId",e)},expression:"$store.state.commonUrl + '/work/event/agent/' + agentId"}}),n("a-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.copyText(t.$store.state.commonUrl+"/work/event/agent/"+t.agentId)}}},[t._v("复制")])],1),n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("Token")]),n("a-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{disabled:""},model:{value:t.agentToken,callback:function(e){t.agentToken=e},expression:"agentToken"}}),n("a-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.copyText(t.agentToken)}}},[t._v("复制")])],1),n("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{"label-col":{span:6},"wrapper-col":{span:18}}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("EncodingAESKey")]),n("a-input",{staticStyle:{width:"calc(100% - 100px)"},attrs:{disabled:""},model:{value:t.agentEncodingAESKey,callback:function(e){t.agentEncodingAESKey=e},expression:"agentEncodingAESKey"}}),n("a-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.copyText(t.agentEncodingAESKey)}}},[t._v("复制")])],1)]:t._e()],2)])],1)],1)],1)])],1)],1)])},s=[],i=(a("96cf"),a("3b8d")),r=(a("ac6a"),a("5df3"),a("f0eb")),o=a("95204"),l=[{title:"企业成员",dataIndex:"name",width:270,key:"name",scopedSlots:{customRender:"name"}},{title:"所属部门",dataIndex:"department_name",key:"department_name",scopedSlots:{customRender:"department_name"}},{title:"公众号/小程序",dataIndex:"author_name",key:"author_name",scopedSlots:{customRender:"author_name"}},{title:"发送应用",dataIndex:"agent_name",key:"agent_name",scopedSlots:{customRender:"agent_name"}},{title:"状态",dataIndex:"status",width:80,key:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",width:"18%",key:"action",scopedSlots:{customRender:"action"}}],c={name:"list",components:{helpIcon:r["a"],chooseStaffSelect:o["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{isLoading:!0,isTabLoading:!1,wxIndex:"",wxNum:[],wxInfo:[],miniNum:[],miniInfo:[],corpId:t,corpInfo:[],agentId:[],agentList:[],agentToken:"",agentEncodingAESKey:"",userId:[],columns:l,relationList:[],showRedirectModal:!1,addType:1}},methods:{handleChange:function(t){var e=this;this.corpInfo.map((function(a){t==a.corpid&&(e.$store.commit("changeCorpAuthType",a.auth_type),e.$store.commit("changeCorpName",a.corp_name))})),this.$store.commit("changeCorpId",t),this.isTabLoading=!0,this.getList(),2==localStorage.getItem("isMasterAccount")&&this.$store.dispatch("getPermissionButton")},add:function(t){var e=this;this.isLoading=!0,Promise.all([this.$store.dispatch("getWx",(function(t){e.wxInfo=t})),this.$store.dispatch("getMini",(function(t){e.miniInfo=t}))]).then((function(a){e.$nextTick((function(){e.addType=t.key,e.addFunction()}))})).catch((function(t){e.isLoading=!1}))},addFunction:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-agent/list",{corp_id:this.corpId});case 2:if(e=t.sent,a=e.data,0==a.error){t.next=8;break}this.$message.error(a.error_msg),t.next=18;break;case 8:if(this.isLoading=!1,!(a.data.normal.custom.length>0)){t.next=15;break}this.agentList=a.data.normal.custom,this.agentToken=a.data.normal.token,this.agentEncodingAESKey=a.data.normal.encoding_AES_key,t.next=18;break;case 15:return n=this,this.$confirm({title:"无法创建",content:"你还没有创建可用的自建应用，前往【自建应用】创建",onOk:function(){n.$router.push("/agent/list")},onCancel:function(){console.log("cancel")},class:"choose-confirm-modal"}),t.abrupt("return",!1);case 18:this.showRedirectModal=!0;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectStaffCallback:function(t,e){"ok"==t&&(this.userId=e)},handleCancel:function(){this.showRedirectModal=!1,this.wxIndex="",this.wxNum=[],this.miniNum=[],this.userId=[],this.agentId=[],this.addType=1},handleOk:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-author/set",{corp_id:this.corpId,user_id:this.userId,author_id:1==this.addType?this.wxNum:this.miniNum,agent_id:this.agentId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.$message.success("添加成功"),this.relationList.push(a.data),this.handleCancel());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),copyText:function(t){var e=this,a=document.createElement("input");document.body.appendChild(a),a.setAttribute("value",t),a.select(),document.execCommand("copy")&&(document.execCommand("copy"),e.$message.success("复制成功！")),document.body.removeChild(a)},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-author/list",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.relationList=a.data,this.isLoading=!1,this.isTabLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeRelation:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,n){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-author/change",{corp_id:this.corpId,relation_id:e,status:a});case 2:s=t.sent,i=s.data,0!=i.error?this.$message.error(i.error_msg):this.relationList[n].status=a;case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),delRelation:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-author/del",{corp_id:this.corpId,relation_id:e});case 2:n=t.sent,s=n.data,0!=s.error?this.$message.error(s.error_msg):this.relationList.splice(a,1);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},created:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,t.$emit("changeCorpId",t.corpId),t.getList()}))}},p=c,d=(a("ef08"),a("2877")),u=Object(d["a"])(p,n,s,!1,null,"4b2b0bac",null);e["default"]=u.exports},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},95204:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:2==t.type?"请选择导购":"请选择企业成员",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}},t._l(t.userList,(function(e,n){return a("a-select-option",{key:2==t.type?n:e.id},[t._v("\n\t\t\t"+t._s(e.name)),2==t.type&&e.group_name?a("span",[t._v("("+t._s(e.group_name)+")")]):t._e()])})),1)],1)},s=[],i=(a("96cf"),a("3b8d")),r=(a("c5f6"),{props:{callback:{type:Function,default:null},index:{type:Number,default:-1},index2:{type:Number,default:-1},disabled:{type:Boolean,default:!1},getFisrstStaff:{type:Boolean,default:!1},type:{type:Number,default:0},ignore_dialout:{type:Number,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,userList:[],userId:[],userName:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,this.isLoading=!0,2==this.type?(a={corp_id:this.corpId,guide_keyword:this.userName,operator:0,page:e,page_size:10},n="shop-customer-guide/list"):(a={corp_id:this.corpId,name:this.userName,user_id:this.userId,is_all:0,page:e,ignore_dialout:this.ignore_dialout},1==this.type&&(a.sub_id=localStorage.getItem("sub_id"),a.isMasterAccount=localStorage.getItem("isMasterAccount")),n="work-user/get-all-user"),t.next=5,this.axios.post(n,a);case 5:s=t.sent,i=s.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.isLoading=!1,this.count=i.data.count,this.getFisrstStaff&&(this.userId=i.data.info[0].id,null!==this.callback&&"function"===typeof this.callback&&(-1===this.index&&-1===this.index2?this.callback("ok",i.data.info[0].id):this.callback("ok",i.data.info[0].id,this.index,this.index2,i.data.info[0]))),1==e?2==this.type?this.userList=i.data.result:this.userList=i.data.info:2==this.type?this.userList=this.userList.concat(i.data.result):this.userList=this.userList.concat(i.data.info),this.page=e);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSelect:function(t){null!==this.callback&&"function"===typeof this.callback&&(2==this.type?-1===this.index&&-1===this.index2?this.callback("ok",this.userList[t].id):this.callback("ok",this.userList[t].id,this.index,this.index2,this.userList[t]):-1===this.index&&-1===this.index2?this.callback("ok",t):this.callback("ok",t,this.index,this.index2))},focusSelect:function(){""!=this.userName&&(this.page=1,this.userList=[],this.userName="",this.getAllStaffList())},searchName:function(t){this.userName=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}},watch:{userId:{handler:function(t){this.getAllStaffList()},deep:!0},getFisrstStaff:{handler:function(t){this.getAllStaffList()},deep:!0}}}),o=r,l=a("2877"),c=Object(l["a"])(o,n,s,!1,null,"2fbfc039",null);e["a"]=c.exports},be91:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-4b2b0bac] .dark-row{background:#fafafa}[data-v-4b2b0bac] .light-row{background:#fff}.content-msg[data-v-4b2b0bac]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:0 20px 20px 20px}",""])},d2e0:function(t,e,a){var n=a("d875");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("2aaebe52",n,!0,{sourceMap:!1,shadowMode:!1})},d875:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".help[data-v-4b0dbc7c]{display:inline-block;margin-left:5px}.help a[data-v-4b0dbc7c]{font-size:14px}.help a[data-v-4b0dbc7c]:link,.help a[data-v-4b0dbc7c]:visited{color:#1890ff;text-decoration:none}.help-icon[data-v-4b0dbc7c]{margin-right:5px;font-size:14px;margin-top:4px}.help-transition[data-v-4b0dbc7c]{-webkit-animation:help-data-v-4b0dbc7c 1s infinite;animation:help-data-v-4b0dbc7c 1s infinite}.help-transition1[data-v-4b0dbc7c]{-webkit-animation:help1-data-v-4b0dbc7c 1s infinite;animation:help1-data-v-4b0dbc7c 1s infinite}@-webkit-keyframes help-data-v-4b0dbc7c{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@keyframes help-data-v-4b0dbc7c{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@-webkit-keyframes help1-data-v-4b0dbc7c{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes help1-data-v-4b0dbc7c{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}",""])},ef08:function(t,e,a){"use strict";var n=a("ff61"),s=a.n(n);s.a},f0eb:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"help",class:0==t.showTransition?"help-transition":1==t.showTransition?"help-transition1":""},[a("a",{attrs:{href:t.helpUrl,target:"_blank"}},[a("a-icon",{staticClass:"help-icon",attrs:{type:"question-circle"}}),a("span",{staticStyle:{float:"right"}},[t._v("点我帮助")])],1)])},s=[],i={name:"helpIcon",props:{helpUrl:{type:String,default:"https://support.qq.com/products/104790"}},data:function(){return{showTransition:1}},methods:{initHelp:function(){var t=this;setInterval((function(){t.showTransition=(t.showTransition+1)%5}),1e3)}},created:function(){this.initHelp()},watch:{helpUrl:function(t,e){this.helpUrl!=t&&(this.helpUrl=t)}}},r=i,o=(a("15db"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"4b0dbc7c",null);e["a"]=l.exports},ff61:function(t,e,a){var n=a("be91");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("533fdc34",n,!0,{sourceMap:!1,shadowMode:!1})}}]);