(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60848a48"],{"04d5":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"scroll",staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[e("div",[e("a-card",{staticStyle:{padding:"0 20px","line-height":"50px","border-bottom":"1px solid #E2E2E2",height:"50px","min-width":"760px",width:"100%","margin-bottom":"12px"}},[e("div",{staticClass:"tpl-title"},[t._v("发送记录\n\t\t\t\t"),e("router-link",{staticStyle:{"font-size":"16px",float:"right","margin-right":"15px"},attrs:{to:"/smsSend/list"}},[e("a-button",{attrs:{type:"primary",icon:"rollback"}},[t._v("返回列表")])],1)],1)]),e("a-row",{staticStyle:{"margin-bottom":"20px",padding:"0 20px"}},[e("a-col",{staticStyle:{float:"left"}},[e("a-date-picker",{directives:[{name:"show",rawName:"v-show",value:""==t.urlId,expression:"urlId==''"}],staticStyle:{"margin-right":"15px"},on:{change:t.changeDate}}),e("a-input",{staticStyle:{width:"250px","margin-right":"15px"},attrs:{placeholder:"请填写手机号"},model:{value:t.phone,callback:function(a){t.phone=a},expression:"phone"}}),e("a-input",{directives:[{name:"show",rawName:"v-show",value:""==t.urlId,expression:"urlId==''"}],staticStyle:{width:"250px","margin-right":"15px"},attrs:{placeholder:"请填写消息名称"},model:{value:t.title,callback:function(a){t.title=a},expression:"title"}}),e("a-select",{staticStyle:{width:"150px","margin-right":"15px"},attrs:{defaultValue:"全部状态"},on:{change:t.handleChangeStatus}},[e("a-select-option",{attrs:{value:"-1"}},[t._v("全部状态")]),e("a-select-option",{attrs:{value:"0"}},[t._v("未发送")]),e("a-select-option",{attrs:{value:"1"}},[t._v("已发送")]),e("a-select-option",{attrs:{value:"2"}},[t._v("发送失败")]),e("a-select-option",{attrs:{value:"3"}},[t._v("发送中")]),e("a-select-option",{attrs:{value:"4"}},[t._v("未知")])],1),e("a-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("筛选")]),e("a-button",{staticStyle:{"margin-right":"15px"},on:{click:t.clear}},[t._v("清空")])],1)],1),e("div",{staticClass:"content-bd"},[e("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[e("div",{staticClass:"spin-content"},[e("a-table",{attrs:{columns:t.columns,dataSource:t.accountList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"status",fn:function(a,i,s){return[0==i.status?e("span",[t._v("未发送")]):t._e(),1==i.status?e("span",[t._v("已发送")]):t._e(),2==i.status?e("span",[t._v("发送失败")]):t._e(),3==i.status?e("span",[t._v("发送中")]):t._e(),4==i.status?e("span",[t._v("未知")]):t._e()]}}])},[e("span",{attrs:{slot:"customerTitle"},slot:"customerTitle"},[t._v("\n\t\t\t\t\t\t\t\t发送状态\n\t\t\t\t\t\t\t\t"),e("a-tooltip",{attrs:{placement:"bottom"}},[e("template",{slot:"title"},[e("p",{staticStyle:{"margin-bottom":"0","line-height":"20px"}},[t._v("1、正在发送：短信已提交成功，正在发送中，等待到达客户手机。")]),e("p",{staticStyle:{"margin-bottom":"0","line-height":"20px"}},[t._v("2、发送成功：短信已成功到达客户手机。")]),e("p",{staticStyle:{"margin-bottom":"0","line-height":"20px"}},[t._v("3、发送失败：短信未成功到达客户手机，已扣除的短信量将在发送失败后1小时内补回。")]),e("p",{staticStyle:{"margin-bottom":"0","line-height":"20px"}},[t._v("4、未知：提交发送72小时后，短信运营商未返回成功/失败状态，即未知，短信运营商规定，此类短信仍然会进行扣费。（未知状态跟客户手机相关，停机，关机或者没有信息，都会导致未知情况，建议客户检查下手机。）")])]),e("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px auto",height:"32px"}},[e("span",{staticStyle:{float:"left","margin-left":"20px"}},[t._v("共"+t._s(t.total)+"条")]),e("a-pagination",{staticStyle:{float:"right"},attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.page_size,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)],1)])],1)],1)])},s=[],n=(e("96cf"),e("3b8d")),o=[],r={data:function(){return{urlId:"",showTransition:1,accountList:[],flag:!1,phone:"",title:"",status:"-1",push_time:"",isLoading:!0,commonUrl:this.$store.state.commonUrl,columns:o,page:1,page_size:15,total:0,quickJumper:!1}},mounted:function(){this.initHelp()},methods:{rowClassName:function(t,a){var e="dark-row";return a%2===0&&(e="light-row"),e},initHelp:function(){var t=this;setInterval((function(){t.showTransition=(t.showTransition+1)%5}),1e3)},getAccount:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,e,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:1,e=n.length>1&&void 0!==n[1]?n[1]:this.page_size,t.next=4,this.axios.post("short-message/push-detail",{uid:localStorage.getItem("uid"),push_id:this.urlId,status:this.status,push_time:this.push_time,phone:this.phone,title:this.title,page:a,pageSize:e});case 4:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.message)):(this.accountList=s.data.detail,this.total=parseInt(s.data.count),this.page=a,this.page_size=e,this.quickJumper=this.total>this.page_size,this.isLoading=!1,"undefined"==typeof this.urlId?this.columns=[{title:"发送时间",dataIndex:"push_time",width:"10%",key:"push_time"},{title:"手机号",dataIndex:"phone",width:"8%",key:"phone"},{title:"消息名称",dataIndex:"title",width:"10%",key:"title"},{title:"短信类型",dataIndex:"type_name",width:"10%",key:"type_name"},{title:"短信内容",dataIndex:"content",width:"15%",key:"content"},{dataIndex:"status",width:"10%",key:"status",scopedSlots:{customRender:"status",title:"customerTitle"}}]:this.columns=[{title:"发送时间",dataIndex:"push_time",width:"10%",key:"push_time"},{title:"手机号",dataIndex:"phone",width:"8%",key:"phone"},{dataIndex:"status",width:"10%",key:"status",scopedSlots:{customRender:"status",title:"customerTitle"}}]),0==this.accountList.length&&(this.flag=!0);case 8:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),handleChangeStatus:function(t){this.status=t},changeDate:function(t,a){this.push_time=a},find:function(){this.isLoading=!0,this.getAccount()},clear:function(){this.isLoading=!0,location.reload()},changePage:function(t,a){this.getAccount(t,a),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange:function(t,a){this.getAccount(1,a)}},created:function(){this.urlId=this.$route.query.id,this.getAccount()}},c=r,l=(e("f35c"),e("2877")),p=Object(l["a"])(c,i,s,!1,null,"93afcccc",null);a["default"]=p.exports},1274:function(t,a,e){var i=e("8e26");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("403b3960",i,!0,{sourceMap:!1,shadowMode:!1})},"8e26":function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,"[data-v-93afcccc] .ant-card-bordered{border:0}.tpl-title[data-v-93afcccc]{float:left;font-size:16px;vertical-align:top;width:100%}.help[data-v-93afcccc]{float:left;margin-left:18px}.help-icon[data-v-93afcccc]{margin-right:5px;font-size:14px;margin-top:4px}.help-transition[data-v-93afcccc]{-webkit-animation:help-data-v-93afcccc 1s infinite;animation:help-data-v-93afcccc 1s infinite}.help a[data-v-93afcccc]{font-size:14px}.help a[data-v-93afcccc]:link,.help a[data-v-93afcccc]:visited{color:#1890ff;text-decoration:none}.help-transition1[data-v-93afcccc]{-webkit-animation:help1-data-v-93afcccc 1s infinite;animation:help1-data-v-93afcccc 1s infinite}@-webkit-keyframes help-data-v-93afcccc{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@keyframes help-data-v-93afcccc{0%{-webkit-transform:translate(0);transform:translate(0)}50%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}to{-webkit-transform:translateY(3px);transform:translateY(3px)}}@-webkit-keyframes help1-data-v-93afcccc{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes help1-data-v-93afcccc{0%{-webkit-transform:translateY(3px);transform:translateY(3px)}50%{-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translate(0);transform:translate(0)}}.content-bd[data-v-93afcccc]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;margin:0 20px}[data-v-93afcccc] .dark-row{background:#fafafa}[data-v-93afcccc] .light-row{background:#fff}",""])},f35c:function(t,a,e){"use strict";var i=e("1274"),s=e.n(i);s.a}}]);