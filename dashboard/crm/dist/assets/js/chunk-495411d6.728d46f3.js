(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-495411d6"],{"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},7664:function(t,e,a){var i=a("d9f8b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("68a97a9a",i,!0,{sourceMap:!1,shadowMode:!1})},ada9:function(t,e,a){"use strict";var i=a("7664"),s=a.n(i);s.a},d9b6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scroll",staticStyle:{width:"100%",height:"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[i("div",[i("div",{staticStyle:{height:"50px","line-height":"50px","background-color":"#FFFFFF"}},[i("label",{staticStyle:{"margin-left":"20px"}},[t._v("\n\t\t\t\t"+t._s(t.title)+"：\n\t\t\t")]),i("a-button",{staticStyle:{float:"right",margin:"9px 20px 0 0"},attrs:{type:"primary",icon:"rollback"},on:{click:t.rollback}},[t._v("\n\t\t\t\t返回列表\n\t\t\t")])],1)]),i("div",{staticClass:"participants"},[i("div",{staticStyle:{margin:"10px 0px",padding:"10px 20px 0 20px"}},[i("a-input-search",{staticStyle:{width:"170px"},attrs:{placeholder:"搜索参与者名称",enterButton:""},on:{search:t.searchFans},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("div",{staticStyle:{float:"right"}},[i("a-button",{on:{click:t.reloadParticipants}},[t._v("刷新")])],1)],1),i("div",{staticStyle:{padding:"0 20px 20px"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading1}},[0==t.participantsType?i("a-table",{attrs:{columns:t.columns1,dataSource:t.participantsList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"user",fn:function(e,s){return i("span",{},[s.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:s.avatar}}):t._e(),s.avatar?t._e():i("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticClass:"participant-name"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t")])],1)}},{key:"status",fn:function(e,a){return i("span",{},[0==a.status?i("span",[t._v("未完成")]):t._e(),1==a.status?i("span",[t._v("进行中")]):t._e(),2==a.status?i("span",[t._v("已完成")]):t._e()])}},{key:"complete_time",fn:function(e,a){return i("span",{},[2==a.status?i("span",[t._v(t._s(a.complete_time))]):t._e(),2!=a.status?i("span",[t._v("--")]):t._e()])}},{key:"help",fn:function(e,a){return i("span",{},[t._v("\n\t\t\t\t\t\t\t"+t._s(a.help_num)+"/"+t._s(a.fission_num)+"\n\t\t\t\t\t\t")])}},{key:"prize_status",fn:function(e,a){return i("span",{},[2==a.status&&0==a.prize_status?i("span",[t._v("未处理")]):t._e(),2==a.status&&1==a.prize_status?i("span",[t._v("已处理")]):t._e(),2!=a.status?i("span",[t._v("--")]):t._e()])}},{key:"action",fn:function(e,a){return i("span",{},[2==t.prize_send_type&&0==t.is_end||2!=a.status||0!=a.prize_status?t._e():i("a-button",{directives:[{name:"has",rawName:"v-has",value:"fission-reward",expression:"'fission-reward'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.prizeStatus(a.id)}}},[t._v("奖品处理")]),i("a-button",{staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.helpRecord(a.id,a.name)}}},[t._v("助力记录")])],1)}}],null,!1,1398564747)}):t._e(),1==t.participantsType?i("a-table",{attrs:{columns:t.columns2,dataSource:t.participantsList,pagination:!1,rowClassName:t.rowClassName,rowSelection:t.rowSelection},scopedSlots:t._u([{key:"user",fn:function(e,s){return i("span",{},[s.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:s.avatar}}):t._e(),s.avatar?t._e():i("img",{staticStyle:{width:"30px",height:"30px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticClass:"participant-name"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t")])],1)}},{key:"action",fn:function(e,a){return i("span",{},[i("a-button",{staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.blackOne(a.id)}}},[t._v("移出黑名单")])],1)}}],null,!1,3407265346)}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total2>0,expression:"total2 > 0"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"40px 0px 20px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t共\n\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total2))]),t._v("条\n\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total2,showSizeChanger:"",showQuickJumper:t.quickJumper2,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage2,showSizeChange:t.showSizeChange2}})],1)])],1)],1)])])},s=[],n=a("75fc"),r=(a("20d6"),a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),o=[{title:"参与人",dataIndex:"user",key:"user",width:"200px",scopedSlots:{customRender:"user"}},{title:"任务状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"有效助力人数",dataIndex:"help",key:"help",scopedSlots:{customRender:"help"}},{title:"参与时间",dataIndex:"join_time",key:"join_time"},{title:"任务完成时间",dataIndex:"complete_time",key:"complete_time",scopedSlots:{customRender:"complete_time"}},{title:"奖品处理状态",dataIndex:"prize_status",key:"prize_status",scopedSlots:{customRender:"prize_status"}},{title:"操作",dataIndex:"action",key:"action",width:"15%",scopedSlots:{customRender:"action"}}],c=[{title:"参与人",dataIndex:"user",key:"user",width:"200px",scopedSlots:{customRender:"user"}},{title:"参与时间",dataIndex:"join_time",key:"join_time"},{title:"拉入黑名单时间",dataIndex:"black_time",key:"black_time"},{title:"操作",dataIndex:"action",key:"action",width:"15%",scopedSlots:{customRender:"action"}}],p={name:"fissionParticipants",data:function(){return{title:"",columns1:o,columns2:c,participantsVisible:!1,participantsType:"0",name:"",isLoading1:!1,is_end:0,prize_send_type:1,participantsList:[],fid:"",total2:0,page2:1,pageSize2:15,quickJumper2:!1,selectedRowKeys:[],userKeys:[]}},methods:{rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},changeParticipantsType:function(t){this.participantsType=t,this.selectedRowKeys=[],this.name="",this.participants(1,15)},rollback:function(){this.$router.go(-1)},searchFans:function(){this.participants(1,15)},prizeStatus:function(t){var e=this;e.$confirm({title:"确定奖品发放吗？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){e.prizeStatusDeal(t)}})},prizeStatusDeal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("fission/prize-status",{uid:localStorage.getItem("uid"),jid:e});case 2:a=t.sent,i=a.data,0!=i.error?(this.isLoading1=!1,this.$message.error(i.error_msg)):(this.selectedRowKeys=[],this.participants(this.page2,this.pageSize2));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),blackOne:function(t){var e=this,a="确定移出黑名单吗？";0==this.participantsType&&(a="确定移入黑名单吗？"),e.$confirm({title:a,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){var a=[];a.push(t),e.black(a)}})},blackMore:function(){var t=this,e="确定移出黑名单吗？";0==this.participantsType&&(e="确定移入黑名单吗？"),t.$confirm({title:e,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){t.black(t.selectedRowKeys)}})},black:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading1=!0,t.next=3,this.axios.post("fission/change-black",{uid:localStorage.getItem("uid"),jid:e,is_black:this.participantsType});case 3:a=t.sent,i=a.data,0!=i.error?(this.isLoading1=!1,this.$message.error(i.error_msg)):(this.selectedRowKeys=[],this.participants(1,15));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),reloadParticipants:function(){this.name="",this.participants(1,15)},participants:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize2,this.isLoading1=!0,t.next=5,this.axios.post("fission/join-list",{uid:localStorage.getItem("uid"),fid:this.fid,is_black:this.participantsType,name:this.name,page:e,pageSize:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading1=!1,this.$message.error(s.error_msg)):(this.page2=e,this.pageSize2=a,this.participantsList=s.data.fission,this.is_end=s.data.is_end,this.prize_send_type=s.data.prize_send_type,this.userKeys=s.data.keys,this.total2=parseInt(s.data.count),this.isLoading1=!1,this.participantsVisible=!0);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage2:function(t,e){this.participants(t,this.pageSize2),document.getElementsByClassName("scroll")[0].scrollTo(0,0)},showSizeChange2:function(t,e){this.participants(1,e)},onSelectChange:function(t){this.selectedRowKeys=t},helpRecord:function(t,e){this.$router.push("/fission/helpRecord?jid="+t+"&name="+e)}},mounted:function(){this.title=decodeURIComponent(this.$route.query.title),this.fid=decodeURIComponent(this.$route.query.fid),this.participants()},beforeRouteEnter:function(t,e,a){"/fission/helpRecord"!=e.path&&a((function(t){t.title=decodeURIComponent(t.$route.query.title),t.fid=decodeURIComponent(t.$route.query.fid),t.page2=1,t.pageSize2=15,t.name="",t.participantsType="0",t.selectedRowKeys=[],t.userKeys=[],t.participants()})),a()},computed:{rowSelection:function(){var t=this,e=this,a=this.selectedRowKeys;return{selectedRowKeys:a,onChange:this.onSelectChange,hideDefaultSelections:!0,selections:[{key:"current-data",text:"当前页",onSelect:function(e){var a=t;t.participantsList.map((function(t){var e=a.selectedRowKeys.findIndex((function(e){return e===t.id}));e>=0&&a.selectedRowKeys.splice(e,1)}));for(var i=0;i<e.length;i++)a.selectedRowKeys.push(e[i])}},{key:"all-data",text:"选择所有项",onSelect:function(){e.selectedRowKeys=Object(n["a"])(e.userKeys.valueOf())}}]}}}},l=p,u=(a("ada9"),a("2877")),d=Object(u["a"])(l,i,s,!1,null,"13d70d5b",null);e["default"]=d.exports},d9f8b:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".participants[data-v-13d70d5b]{margin:10px 20px;background-color:#fff}[data-v-13d70d5b] .ant-tabs-card-content{padding-bottom:0!important}.participant-name[data-v-13d70d5b]{float:left;margin-left:10px;line-height:42px;max-width:100px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}",""])}}]);