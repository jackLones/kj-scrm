(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b3d7e1f"],{"55eb":function(t,e,a){"use strict";var i=a("cc9a"),s=a.n(i);s.a},"8cf5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("a-layout",{staticClass:"fans-content"},[i("a-layout",{staticClass:"scroll"},[i("a-layout-header",[1==t.type?i("span",[t._v("账户明细")]):t._e(),2==t.type?i("span",[t._v(t._s("【"+t.staticList.exten+"】")+"坐席明细")]):t._e(),3==t.type?i("span",[t._v(t._s("【"+t.staticList.user_name+"】")+"外呼明细")]):t._e(),i("a-button",{staticStyle:{margin:"9px 0","font-size":"14px",float:"right"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("返回列表\n\t\t\t\t")])],1),i("a-layout-content",[1==t.type?i("div",{staticClass:"header"},[i("div",{staticClass:"static"},[i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("账户余额")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t.staticList.balance>0?i("span",[t._v("￥"+t._s(t.staticList.balance))]):t._e(),t.staticList.balance<=0?i("span",[t._v("--")]):t._e()])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("累计充值金额")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t.staticList.recharge>0?i("span",[t._v("￥"+t._s(t.staticList.recharge))]):t._e(),t.staticList.recharge<=0?i("span",[t._v("--")]):t._e()])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("累计消耗金额")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t.staticList.consume>0?i("span",[t._v("￥"+t._s(t.staticList.consume))]):t._e(),t.staticList.consume<=0?i("span",[t._v("--")]):t._e()])])]),i("div",{staticClass:"search_card"},[i("div",{staticClass:"search_content",staticStyle:{width:"10%"}},[i("a-select",{attrs:{showSearch:"",allowClear:"",placeholder:"请选择状态",optionFilterProp:"children"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},[t._l(t.consumeType,(function(e){return[i("a-select-option",{attrs:{value:e.value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t")])]}))],2)],1),i("div",{staticClass:"search_content"},[i("a-range-picker",{staticStyle:{width:"96%",padding:"0"},on:{change:t.handleTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("div",{staticClass:"search_content",staticStyle:{width:"auto","text-align":"left"}},[i("a-button",{attrs:{type:"primary"},on:{click:t.searchDetail}},[t._v("查找\n\t\t\t\t\t\t\t")]),i("a-button",{staticStyle:{margin:"0 0.5rem"},on:{click:t.clear}},[t._v("清空")])],1)])]):t._e(),2==t.type?i("div",{staticClass:"header"},[i("div",{staticClass:"static"},[i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("累计消耗话费")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t￥"+t._s(t.staticList.money>0?t.staticList.money:"--")+"\n\t\t\t\t\t\t\t")])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("实际总通话时长")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.staticList.duration_turth?t.staticList.duration_turth:"--")+"\n\t\t\t\t\t\t\t")])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("计费总通话时长\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"right"}},[i("template",{slot:"title"},[i("div",[t._v("根据运营商要求，通话不满一分钟按一分钟计算。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.staticList.duration?t.staticList.duration:"--")+"\n\t\t\t\t\t\t\t")])])]),i("div",{staticClass:"search_card"},[i("div",{staticClass:"search_content"},[i("a-input",{attrs:{placeholder:"请输入成员名称进行查找"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getDetail(e)}},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),i("div",{staticClass:"search_content"},[i("a-range-picker",{staticStyle:{width:"96%",padding:"0"},on:{change:t.handleTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("div",{staticClass:"search_content",staticStyle:{width:"auto","text-align":"left"}},[i("a-button",{attrs:{type:"primary"},on:{click:t.searchDetail}},[t._v("查找\n\t\t\t\t\t\t\t")]),i("a-button",{staticStyle:{margin:"0 0.5rem"},on:{click:t.clear}},[t._v("清空")])],1)])]):t._e(),3==t.type?i("div",{staticClass:"header"},[i("div",{staticClass:"static"},[i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("累计消耗话费")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t￥"+t._s(t.staticList.money>0?t.staticList.money:"--")+"\n\t\t\t\t\t\t\t")])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("实际总通话时长")]),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.staticList.duration_turth?t.staticList.duration_turth:"--")+"\n\t\t\t\t\t\t\t")])]),i("div",{staticClass:"static_content"},[i("div",{staticStyle:{"font-size":"14px"}},[t._v("计费总通话时长\n\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"right"}},[i("template",{slot:"title"},[i("div",[t._v("根据运营商要求，通话不满一分钟按一分钟计算。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.staticList.duration?t.staticList.duration:"--")+"\n\t\t\t\t\t\t\t")])])]),i("div",{staticClass:"search_card"},[i("div",{staticClass:"search_content"},[i("a-range-picker",{staticStyle:{width:"96%",padding:"0"},on:{change:t.handleTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("div",{staticClass:"search_content",staticStyle:{width:"auto","text-align":"left"}},[i("a-button",{attrs:{type:"primary"},on:{click:t.searchDetail}},[t._v("查找\n\t\t\t\t\t\t\t")]),i("a-button",{staticStyle:{margin:"0 0.5rem"},on:{click:t.clear}},[t._v("清空")])],1)])]):t._e(),i("div",{staticClass:"content_table"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.listLoading}},[i("a-table",{attrs:{"data-source":t.recordList,pagination:!1,rowClassName:t.rowClassName}},[1==t.type?i("a-table-column",{key:"create_time",attrs:{title:"操作时间",align:"center","data-index":"create_time"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("div",{staticStyle:{"text-align":"center"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a.create_time)+"\n\t\t\t\t\t\t\t\t\t")])]}}],null,!1,1864322007)}):t._e(),1==t.type?i("a-table-column",{key:"type_text",attrs:{title:"消耗类型",align:"center","data-index":"type_text"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("span",[t._v(t._s(a.type_text))])]}}],null,!1,2867676489)}):t._e(),1==t.type?i("a-table-column",{key:"money",attrs:{title:"余额变动",align:"center","data-index":"money"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[2==a.type||4==a.type||5==a.type?i("span",[t._v("-￥"+t._s(a.money.substr(1)))]):i("span",[t._v("￥"+t._s(a.money))])]}}],null,!1,4199282144)}):t._e(),2==t.type?i("a-table-column",{key:"user_name",attrs:{title:"使用成员","data-index":"user_name"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a.user_name+"("+a.department+")")+"\n\t\t\t\t\t\t\t\t\t")]),i("view",[t._v(t._s(a.small_phone))])]}}],null,!1,1063215680)}):t._e(),i("a-table-column",{key:"custom_name",attrs:{title:"客户接听","data-index":"custom_name"},scopedSlots:t._u([{key:"default",fn:function(e,a){return 1!=t.type?[i("span",[t._v(t._s(a.custom_name))])]:void 0}}],null,!0)}),1!=t.type?i("a-table-column",{key:"money",attrs:{title:"话费消耗","data-index":"money"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("span",[t._v("￥"+t._s(a.money))])]}}],null,!1,1088950829)}):t._e(),1!=t.type?i("a-table-column",{key:"duration_turth",attrs:{title:"实际通话时长","data-index":"duration_turth"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("span",[t._v(t._s(a.duration_turth))])]}}],null,!1,4011548701)}):t._e(),1!=t.type?i("a-table-column",{key:"duration",attrs:{"data-index":"duration"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("span",[t._v(t._s(a.duration))])]}}],null,!1,2342674989)},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v("计费通话时长\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("根据运营商要求，通话不满一分钟按一分钟计算。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]):t._e(),3==t.type?i("a-table-column",{key:"ring",attrs:{title:"使用时间（开始拨打至挂机时间）","data-index":"ring"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.ring.split(" ")[0])+"\n\t\t\t\t\t\t\t\t\t\t\t")]),i("div",[t._v(" "+t._s(a.ring.split(" ")[1])+"\n\t\t\t\t\t\t\t\t\t\t\t")])]),i("div",{staticStyle:{margin:"0 5px"}},[t._v("至")]),i("div",[i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.end.split(" ")[0])+"\n\t\t\t\t\t\t\t\t\t\t\t")]),i("div",[t._v(" "+t._s(a.end.split(" ")[1])+"\n\t\t\t\t\t\t\t\t\t\t\t")])])])]}}],null,!1,4244247597)}):t._e(),2==t.type?i("a-table-column",{key:"create_time",attrs:{title:"操作时间","data-index":"create_time"},scopedSlots:t._u([{key:"default",fn:function(e,a){return[i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(a.create_time.split(" ")[0])+"\n\t\t\t\t\t\t\t\t\t")]),i("div",[t._v(" "+t._s(a.create_time.split(" ")[1])+"\n\t\t\t\t\t\t\t\t\t")])]}}],null,!1,542629809)}):t._e(),3==t.type?i("a-table-column",{key:"action",attrs:{"data-index":"tags"},scopedSlots:t._u([{key:"default",fn:function(e,a,s){return[i("a-button",{staticStyle:{"margin-right":"5px"},on:{click:function(e){return t.playAudio(a)}}},[t._v("播放\n\t\t\t\t\t\t\t\t\t")]),i("a-button",{staticStyle:{"margin-right":"5px"},on:{click:function(e){return t.downloadFile(e,a)}}},[t._v("下载\n\t\t\t\t\t\t\t\t\t")])]}}],null,!1,2914576241)},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v("操作\n\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("因运营商关系，播放时长与下载时长，可能会与实际通话时长略有差异。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1)]):t._e()],1)],1),t.recordList.length>0?i("div",{staticClass:"pagination",staticStyle:{display:"flex","justify-content":"space-between",margin:"20px 0"}},[i("div",{staticStyle:{height:"32px","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t共"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t")]),i("div",{staticStyle:{height:"32px"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:!1,current:1,pageSize:t.listQuery.page_size,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange},model:{value:t.listQuery.page,callback:function(e){t.$set(t.listQuery,"page",e)},expression:"listQuery.page"}})],1)]):t._e()],1)])],1)],1),i("a-modal",{attrs:{visible:t.showPlay,title:"通话录音",cancelText:"关闭"},on:{cancel:t.handleCancel}},[i("template",{slot:"footer"},[i("a-button",{on:{click:t.handleCancel}},[t._v("关闭")])],1),i("div",{staticStyle:{"font-size":"15px","font-weight":"700","line-height":"30px"}},[i("div",[i("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"text-bottom"},attrs:{src:a("df74")}}),t._v("\n\t\t\t\t"+t._s(t.selectedRecord.real_called)+"\n\t\t\t")]),i("div",[i("span",[t._v("开始时间：")]),t._v("\n\t\t\t\t"+t._s(t.selectedRecord.begin)+"\n\t\t\t")]),i("div",[i("span",[t._v("结束时间：")]),t._v("\n\t\t\t\t"+t._s(t.selectedRecord.end)+"\n\t\t\t")]),i("div",[i("span",[t._v("通话时长：")]),t._v("\n\t\t\t\t"+t._s(t.selectedRecord.duration_turth)+"\n\t\t\t")])]),i("audio-player",{ref:"audioPlayer",attrs:{"show-prev-button":!1,"show-next-button":!1,isLoop:!1,"audio-list":[t.selectedRecord.file],"theme-color":"#1890ff"},on:{loadedmetadata:t.loadedmetadata}})],2)],1)},s=[],n=(a("96cf"),a("3b8d")),r=a("ac8a"),l=a.n(r),o=(a("c610"),{page:1,page_size:15,corp_id:localStorage.getItem("corpId"),type:0}),c={components:{AudioPlayer:l.a},data:function(){return{total:0,listQuery:Object.assign({},o),type:this.$route.query.type,consumeType:[{value:0,title:"消耗类型"},{value:1,title:"话费充值"},{value:2,title:"话费消耗"},{value:3,title:"坐席充值"},{value:4,title:"开通坐席"},{value:5,title:"续费坐席"}],listLoading:!1,time:[],recordList:[],staticList:[],clickIndex:-1,flag:!1,playTime:[],t1:[],showPlay:!1,selectedRecord:{}}},mounted:function(){2==this.$route.query.type?(this.listQuery.id=this.$route.query.id,this.getDetail()):1==this.$route.query.type?this.getAccountDetail():3==this.$route.query.type&&(this.listQuery.id=this.$route.query.id,this.getStaffDetail())},methods:{loadedmetadata:function(t){console.log(111111111111,this.$refs.audioPlayer.duration),this.$refs.audioPlayer.duration=Math.floor(this.$refs.audioPlayer.duration)},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,this.axios.post("/dialout/exten-detail",this.listQuery);case 3:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.total=parseInt(a.data.count),this.recordList=a.data.list,this.staticList=a.data.statis),this.listLoading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAccountDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,this.axios.post("dialout/account-detail",this.listQuery);case 3:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.total=parseInt(a.data.count),this.recordList=a.data.list,this.staticList=a.data.statis),this.listLoading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getStaffDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.listLoading=!0,t.next=3,this.axios.post("dialout/dialout-detail",this.listQuery);case 3:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.total=parseInt(a.data.count),this.recordList=a.data.list,this.staticList=a.data.statis),this.listLoading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleTimeChange:function(t,e){this.listQuery.sdate=e[0],this.listQuery.edate=e[1]},searchDetail:function(){2==this.$route.query.type?(this.listQuery.id=this.$route.query.id,this.getDetail()):1==this.$route.query.type?this.getAccountDetail():3==this.$route.query.type&&(this.listQuery.id=this.$route.query.id,this.getStaffDetail())},downloadFile:function(t,e){var a=e.ring+".mp3";t.preventDefault();var i=document.createElement("a"),s=document.createEvent("MouseEvents");s.initEvent("click",!1,!1),i.setAttribute("target","_blank"),i.rel="noopener noreferrer",i.href=e.file,i.download=a,i.dispatchEvent(s)},playAudio:function(t){this.showPlay=!0,this.selectedRecord=t},handleCancel:function(t){this.showPlay=!1},clear:function(){this.listQuery=Object.assign({},o),this.time=[],2==this.$route.query.type?(this.listQuery.id=this.$route.query.id,this.getDetail()):1==this.$route.query.type?this.getAccountDetail():3==this.$route.query.type&&(this.listQuery.id=this.$route.query.id,this.getStaffDetail())},goBack:function(){var t="/call/"+this.$route.query.from;this.$router.push(t)},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},changePage:function(){2==this.$route.query.type?(this.listQuery.id=this.$route.query.id,this.getDetail()):1==this.$route.query.type?this.getAccountDetail():3==this.$route.query.type&&(this.listQuery.id=this.$route.query.id,this.getStaffDetail())},showSizeChange:function(t,e){this.listQuery.page_size=e,2==this.$route.query.type?(this.listQuery.id=this.$route.query.id,this.getDetail()):1==this.$route.query.type?this.getAccountDetail():3==this.$route.query.type&&(this.listQuery.id=this.$route.query.id,this.getStaffDetail())}}},d=c,u=(a("55eb"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,"3ad4c71d",null);e["default"]=p.exports},b2c8:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-3ad4c71d] .dark-row{background:#fafafa}[data-v-3ad4c71d] .light-row{background:#fff}.list[data-v-3ad4c71d]{overflow-y:hidden}.fans-content[data-v-3ad4c71d]{height:100%;position:absolute;top:0;left:0;bottom:0;right:0}.ant-layout-header[data-v-3ad4c71d]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px;font-size:16px;padding:0 20px}.header[data-v-3ad4c71d]{width:98%;background-color:#fff;padding:24px;margin:1rem auto}.search_card[data-v-3ad4c71d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.search_card .search_content[data-v-3ad4c71d]{width:17%}.search_card .search_content .ant-input[data-v-3ad4c71d],.search_card .search_content .ant-select[data-v-3ad4c71d]{width:96%}.search_card .search_content .ant-radio-button-wrapper[data-v-3ad4c71d]{width:4rem;text-align:center}.static[data-v-3ad4c71d]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1rem}.static .static_content[data-v-3ad4c71d]{background-color:#f8f8f8;width:12.213rem;height:5.76rem;padding:.64rem 1.067rem;margin-right:16px;line-height:31px}.content_table[data-v-3ad4c71d]{padding:16px;margin:1rem auto}",""])},cc9a:function(t,e,a){var i=a("b2c8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("08e37e07",i,!0,{sourceMap:!1,shadowMode:!1})}}]);