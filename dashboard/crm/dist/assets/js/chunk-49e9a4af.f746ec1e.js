(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49e9a4af"],{"0094":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?n("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[n("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),n("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,s){return["scene"!=t.routeName&&"template"!=t.routeName?[n("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[n("a-radio-button",{attrs:{value:e.corpid}},[n("div",[n("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:a("de05"),alt:""}}),n("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[n("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[n("a-radio-button",{attrs:{value:e.corpid}},[n("div",[n("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),n("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},s=[],i=(a("7f7f"),a("28a5"),a("96cf"),a("3b8d")),o=(a("7514"),a("bc3a")),r=a.n(o),c=a("f64c"),l={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s,i,o,l,d,h=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,a=e.data,0!=a.error){t.next=34;break}if(!(a.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(n=this.hasName.split(","),!(n.length>0)){t.next=22;break}s=!0,i=0;case 11:if(!(i<n.length)){t.next=19;break}if(-1!=a.data.indexOf(n[i])){t.next=16;break}return c["a"].error("该企业微信未配置相关功能权限，无法选择"),s=!1,t.abrupt("return",!1);case 16:i++,t.next=11;break;case 19:s&&(this.showModal=!1,o=this.corpInfo.find((function(t){return t.corpid==h.corpId})),this.$store.dispatch("changeCorp",o),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,o.corp_name)),t.next=23;break;case 22:-1==a.data.indexOf(this.hasName)?c["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,l=this.corpInfo.find((function(t){return t.corpid==h.corpId})),this.$store.dispatch("changeCorp",l),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,l.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==h.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name);case 29:t.next=32;break;case 31:c["a"].error("无权限");case 32:t.next=35;break;case 34:c["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},d=l,h=(a("ffd5"),a("2877")),p=Object(h["a"])(d,n,s,!1,null,"440e9184",null);e["a"]=p.exports},"1c4c":function(t,e,a){"use strict";var n=a("9b43"),s=a("5ca1"),i=a("4bf8"),o=a("1fa8"),r=a("33a4"),c=a("9def"),l=a("f1ae"),d=a("27ee");s(s.S+s.F*!a("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,a,s,h,p=i(t),u="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,f=void 0!==m,y=0,_=d(p);if(f&&(m=n(m,g>2?arguments[2]:void 0,2)),void 0==_||u==Array&&r(_))for(e=c(p.length),a=new u(e);e>y;y++)l(a,y,f?m(p[y],y):p[y]);else for(h=_.call(p),a=new u;!(s=h.next()).done;y++)l(a,y,f?o(h,m,[s.value,y],!0):s.value);return a.length=y,a}})},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"4f7f":function(t,e,a){"use strict";var n=a("c26b"),s=a("b39a"),i="Set";t.exports=a("e0b8")(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(s(this,i),t=0===t?0:t,t)}},n)},"56b6":function(t,e,a){"use strict";var n=a("b0fe"),s=a.n(n);s.a},5993:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",{attrs:{id:"components-layout-demo-basic"}},[n("a-layout",{staticStyle:{position:"relative"}},[t.isEWechat?n("a-layout-sider",[n("eWechat",{on:{changeWxId:t.handleWxId}})],1):t._e(),n("a-layout",{staticClass:"scroll",staticStyle:{position:"absolute",top:"0",bottom:"0",right:"0"},style:{left:t.isEWechat?"250px":"0px"}},[n("a-layout-header",[t._v("员工管理")]),n("a-layout-content",[n("div",{staticClass:"content-msg"},[n("p",{staticStyle:{"margin-bottom":"2px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t\t1、只展示在企业微信官方后台创建自建应用时，所设置的可见成员，只有他们才拥有发放零钱的权限。\n\t\t\t\t\t\t")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[n("span",{staticStyle:{color:"#FF562D"}},[t._v("2、若在本系统所填写的数值超过在【微信支付商户平台】配置的数值，执行规则依然以官方配置为准，请合理填写。")]),t._v("建议您先在【微信支付商户平台】---【产品中心】-【企业付款到零钱】--【产品设置】，将所有数值设置到官方最大值（如下），再到本系统里进行配置。\n\t\t\t\t\t\t")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("a、商户号单日出款额度：10万")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("b、单人单日付款额度：5000元")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("c、单笔付款最低额度：0.30元， 默认每天最多可向同一个用户付款10次")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t\t3、员工发送的限额和限次，及客户领取的额度和次数，均为客户+客户群的之和。\n\t\t\t\t\t\t")]),n("p",{staticStyle:{"margin-bottom":"0px",color:"#FF562D"}},[t._v("\n\t\t\t\t\t\t\t若红包已发送到客户/客户群里，但客户尚未领取，此时微信支付商户平台出现账户余额不足时，客户打开红包页面无法领取，请务必保证账户余额充足，避免客户投诉。\n\t\t\t\t\t\t")])]),n("div",{staticClass:"content-hd"},[n("a-button",{on:{click:function(e){return t.showDepartmentList(!0,0)}}},[t._v("\n\t\t\t\t\t\t\t选择部门成员\n\t\t\t\t\t\t")]),t.chooseNum>0?n("span",{staticStyle:{"margin-left":"10px"}},[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):t._e(),n("a-range-picker",{staticStyle:{"margin-left":"15px"},attrs:{value:t.dateValue,"disabled-date":t.disabledDate,format:"YYYY-MM-DD"},on:{change:t.changeTime}}),n("a-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:t.find}},[t._v("查找\n\t\t\t\t\t\t")]),n("a-button",{staticStyle:{"margin-left":"15px"},on:{click:t.clear}},[t._v("清空")]),1==t.canChangeAgent||0==t.have_agent?n("a-button",{staticStyle:{"margin-top":"14px",float:"right","margin-left":"15px",padding:"0 1rem"},attrs:{type:"primary"},on:{click:function(e){return t.openChangeApp()}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(0==t.have_agent?"设置自建应用":"更换自建应用")+"\n\t\t\t\t\t\t")]):t._e(),n("a-button",{staticStyle:{"margin-top":"14px",float:"right","margin-left":"15px",padding:"0 1rem"},on:{click:t.changeStaffLimit}},[t._v("发放员工\n\t\t\t\t\t\t")]),n("a-dropdown",{directives:[{name:"has",rawName:"v-has",value:"employee-export",expression:"'employee-export'"}]},[n("a-menu",{attrs:{slot:"overlay"},on:{click:t.chooseDownType},slot:"overlay"},[n("a-menu-item",{key:"0"},[t._v("当前页导出")]),n("a-menu-item",{key:"1"},[t._v("全部导出")])],1),n("a-button",{staticStyle:{float:"right","margin-top":"14px"},attrs:{icon:"download"}},[t._v("导出\n\t\t\t\t\t\t\t\t"),n("a-icon",{attrs:{type:"down"}})],1)],1)],1),n("div",{staticClass:"content-bd"},[n("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[n("a-table",{directives:[{name:"has",rawName:"v-has",value:"employee-list",expression:"'employee-list'"}],attrs:{rowSelection:t.rowSelection,columns:t.columns,dataSource:t.manageList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"user_name",fn:function(e,a,s){return n("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.user_name)+"\n\t\t\t\t\t\t\t\t\t"),1==a.sex?n("a-icon",{staticStyle:{color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),2==a.sex?n("a-icon",{staticStyle:{color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e(),2==a.user_status?n("div",[t._v("（已取消可见权限）")]):t._e()],1)}},{key:"day_smoney",fn:function(e,a,s){return n("div",{},[a.day_snum&&""!=a.day_snum?n("span",[t._v(t._s(a.day_snum)+"次/"+t._s(a.day_smoney)+"元")]):n("span",[t._v("--/"+t._s(a.day_smoney)+"元")])])}},{key:"day_money",fn:function(e,a,s){return n("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.day_money)+"元/"+t._s(a.day_hmoney)+"元\n\t\t\t\t\t\t\t\t")])}},{key:"day_num",fn:function(e,a,s){return n("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.day_num)+"次/"+t._s(a.day_hnum)+"次\n\t\t\t\t\t\t\t\t")])}},{key:"smoney",fn:function(e,a,s){return n("div",{},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.snum)+"次/"+t._s(a.smoney)+"元\n\t\t\t\t\t\t\t\t")])}},{key:"user_status",fn:function(e,a,s){return n("div",{},[1==a.user_status?n("span",[t._v("开启")]):t._e(),2==a.user_status||3==a.user_status?n("span",[t._v("关闭")]):t._e()])}},{key:"action",fn:function(e,a,s){return n("div",{},[n("a-button",{directives:[{name:"has",rawName:"v-has",value:"employee-detail",expression:"'employee-detail'"}],staticStyle:{margin:"0px 5px 5px 0px"},on:{click:function(e){return t.lookDetail(a.user_name,a.user_id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t发放明细\n\t\t\t\t\t\t\t\t\t")]),1==a.user_status?n("a-button",{directives:[{name:"has",rawName:"v-has",value:"employee-limit",expression:"'employee-limit'"}],staticStyle:{margin:"0px 5px 5px 0px"},on:{click:function(e){return t.bulkChangeLimit(0,1,a.user_id,a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t员工限额\n\t\t\t\t\t\t\t\t\t")]):t._e(),1!=a.user_status?n("a-button",{directives:[{name:"has",rawName:"v-has",value:"employee-detail",expression:"'employee-detail'"}],staticStyle:{margin:"0px 5px 5px 0px"},on:{click:function(e){return t.changeStatus([a.user_id],1)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t开启\n\t\t\t\t\t\t\t\t\t")]):t._e(),1==a.user_status?n("a-button",{directives:[{name:"has",rawName:"v-has",value:"employee-detail",expression:"'employee-detail'"}],staticStyle:{margin:"0px 5px 5px 0px"},on:{click:function(e){return t.changeStatus([a.user_id],0)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t关闭\n\t\t\t\t\t\t\t\t\t")]):t._e()],1)}}])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"employee-limit",expression:"'employee-limit'"}],staticStyle:{margin:"20px"}},[n("a-checkbox",{attrs:{disabled:t.batchTypeDisabled},on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),n("a-select",{staticStyle:{width:"150px",margin:"0 5px"},attrs:{optionFilterProp:"children"},on:{change:t.changeBatchType},model:{value:t.batchType,callback:function(e){t.batchType=e},expression:"batchType"}},[n("a-select-option",{attrs:{value:"0"}},[t._v("选择当前页")]),n("a-select-option",{attrs:{value:"1"}},[t._v("选择所有")])],1),n("a-button",{attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.bulkChangeLimit(1,t.selectedRowKeys.length,t.selectedRowKeys)}}},[t._v("批量零钱限额\n\t\t\t\t\t\t\t\t")]),n("a-button",{staticStyle:{margin:"0 1rem"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.changeStatus(t.selectedRowKeys,1)}}},[t._v("批量开启\n\t\t\t\t\t\t\t\t")]),n("a-button",{attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.changeStatus(t.selectedRowKeys,0)}}},[t._v("批量关闭\n\t\t\t\t\t\t\t\t")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"employee-list",expression:"'employee-list'"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[n("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),n("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t")]),n("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[n("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)],1),n("chooseDepartment",{ref:"user",attrs:{agentid:t.agent_id,show:t.showModalDepartment,chooseNum:t.chooseNum,id:t.corpId,callback:t.modalVisibleChange3,is_special:1}}),n("a-modal",{staticStyle:{height:"500px"},attrs:{title:"限额发放",confirmLoading:t.setConfirmLoading,width:"675px"},on:{ok:t.setHandleOk,cancel:t.setCancel},model:{value:t.setVisible,callback:function(e){t.setVisible=e},expression:"setVisible"}},[t.isSingle?t._e():n("a-row",{staticStyle:{"margin-bottom":"12px"}},[n("a-button",{on:{click:function(e){return t.showDepartmentList(!1,1)}}},[t._v("\n\t\t\t\t\t\t\t\t选择部门成员\n\t\t\t\t\t\t\t")]),t.people>0?n("span",{staticStyle:{"margin-left":"10px"}},[t._v("已选择"+t._s(t.chooseUserNum1)+"名成员，"+t._s(t.chooseDepartmentNum1)+"个部门")]):t._e()],1),t.isSingle?t._e():n("p",{staticStyle:{color:"#000000D9"}},[t._v("共给"),n("span",{staticStyle:{color:"red"}},[t._v(t._s(parseInt(t.chooseUserNum1)+parseInt(t.chooseDepartmentNum1)))]),t._v("位员工设置\n\t\t\t\t\t\t")]),n("div",{staticClass:"content-msg",staticStyle:{margin:"0 0 12px"}},[t._v("\n\t\t\t\t\t\t\t温馨提示：若在本系统所填写的数值超过在【微信支付商户平台】配置的数值，执行规则依然以官方配置为准，请合理填写。建议您先在【微信支付商户平台】---【产品中心】-【企业付款到零钱】--【产品设置】，将所有数值设置到官方最大值（如下），再到本系统里进行配置。\n\t\t\t\t\t\t\t"),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("a、商户号单日出款额度：10万")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("b、单人单日付款额度：5000元")]),n("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("c、单笔付款最低额度：0.30元， 默认每天最多可向同一个用户付款10次")])]),n("div",{staticClass:"model-label"},[n("div",{staticClass:"model-label-left"},[n("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("单日员工发放红包次数：\n\t\t\t\t\t\t\t")]),n("div",{staticClass:"model-label-right"},[n("a-input-number",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{step:0,precision:0,placeholder:"请输入单日员工发放红包次数"},model:{value:t.changeTimes,callback:function(e){t.changeTimes=e},expression:"changeTimes"}}),t._v("\n\t\t\t\t\t\t\t\t次\n\t\t\t\t\t\t\t\t"),n("p",{staticClass:"model-label-right-p"},[t._v("\n\t\t\t\t\t\t\t\t\t可输入1~999999正整数")])],1)]),n("div",{staticClass:"model-label"},[n("div",{staticClass:"model-label-left"},[n("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("单日员工发放红包金额：\n\t\t\t\t\t\t\t")]),n("div",{staticClass:"model-label-right"},[n("a-input-number",{staticStyle:{width:"320px","margin-right":"5px"},attrs:{step:0,precision:2,placeholder:"请输入单日员工发放红包金额"},model:{value:t.changeQuota,callback:function(e){t.changeQuota=e},expression:"changeQuota"}}),t._v("\n\t\t\t\t\t\t\t\t元\n\t\t\t\t\t\t\t\t"),n("p",{staticClass:"model-label-right-p"},[t._v("\n\t\t\t\t\t\t\t\t\t精确到小数点后两位，可输入0.30~5000.00")])],1)])],1),n("a-modal",{staticStyle:{height:"500px"},attrs:{title:"更换自建应用",confirmLoading:t.confirmLoading},on:{ok:t.changeAppOk,cancel:t.changeAppCancel},model:{value:t.changeAppVisible,callback:function(e){t.changeAppVisible=e},expression:"changeAppVisible"}},[t.showAddAgentModal?t._e():n("a-form-model",{ref:"ruleForm",attrs:{model:t.changeAppForm,rules:t.rules,"label-col":{span:6},"wrapper-col":{span:18}}},[n("a-form-model-item",{attrs:{label:"选择企业微信",prop:"corpId"}},[n("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.changeCorp}},[n("img",{staticStyle:{width:"24px",margin:"-3px 6px 0 0"},attrs:{src:a("ed13")}}),n("span",[t._v(t._s(t.changeAppForm.corpName))]),n("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}})],1)]),n("a-form-model-item",{attrs:{label:"选择应用",prop:"app"}},[n("a-select",{attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.changeAppForm.agent_id,callback:function(e){t.$set(t.changeAppForm,"agent_id",e)},expression:"changeAppForm.agent_id"}},[t._l(t.agentList,(function(e,a){return[n("a-select-option",{attrs:{value:parseInt(e.id)}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")])]}))],2)],1)],1)],1),n("linkAgent",{attrs:{corpId:t.corpId,showAddAgent:t.showAddAgentModal,agent_is_money:1},on:{addOk:t.addOk,linkOk:t.linkOk,addCancel:t.addCancel}}),n("WeChatModal",{attrs:{show:t.showCoropation,callback:t.coropationChange,hasName:"group-sending-add"}})],1)],1)],1)],1)])},s=[],i=a("75fc"),o=(a("ac6a"),a("4f7f"),a("5df3"),a("1c4c"),a("55dd"),a("6b54"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),r=a("d77d"),c=a("c75b"),l=a("c1df"),d=a.n(l),h=a("8ba3"),p=a("0094"),u=[{title:"员工姓名",dataIndex:"user_name",key:"user_name",width:"150px",scopedSlots:{customRender:"user_name"}},{title:"单日付款总笔数/总金额",dataIndex:"day_smoney",key:"day_smoney",scopedSlots:{customRender:"day_smoney"}},{title:"今日已发放金额/剩余金额",dataIndex:"day_money",key:"day_money",scopedSlots:{customRender:"day_money"}},{title:"今日已发放次数/剩余次数",dataIndex:"day_num",key:"day_num",scopedSlots:{customRender:"day_num"}},{title:"累计已发放笔数/金额",dataIndex:"smoney",key:"smoney",scopedSlots:{customRender:"smoney"}},{title:"状态",dataIndex:"user_status",key:"user_status",scopedSlots:{customRender:"user_status"}},{title:"操作",dataIndex:"action",key:"action",width:"10%",scopedSlots:{customRender:"action"}}],g={name:"redPacketEmployeeManagement",components:{WeChatModal:p["a"],linkAgent:h["a"],eWechat:r["a"],chooseDepartment:c["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{userSendMoney:1,isAuthClose:!1,isSingle:!1,isSearch:!1,isEWechat:!0,corpId:t,isLoading:!0,manageList:[],checkedList:[],user:[],user1:[],checkedList1:[],showModalDepartment:!1,chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,chooseUserNum1:0,chooseDepartmentNum1:0,columns:u,total:1,quickJumper:!1,page:1,pageSize:15,dateValue:[],startValue:"",endValue:"",moment:d.a,selectedRowKeys:[],keysArr:[],checkArr:[],batchType:"1",batchTypeValue:!1,batchTypeDisabled:!1,setVisible:!1,setConfirmLoading:!1,changeTimes:"",changeQuota:"",is_export:0,is_all:0,checkedList2:[],startValue2:"",endValue2:"",people:0,user_ids:[],user_ids1:[],agent_id:"",showAddAgentModal:!1,changeAppVisible:!1,confirmLoading:!1,showCoropation:!1,haveAgent:0,canChangeAgent:1,have_agent:1,agentList:[],changeAppForm:{agent_id:""},rules:{corpId:[{required:!0,message:"请选择企业",trigger:"blur"}],agent_id:[{required:!0,message:"请选择应用",trigger:"blur"}]}}},methods:{openChangeApp:function(){this.changeAppForm={},0==this.have_agent?this.showAddAgentModal=!0:(this.changeAppForm.agent_id=this.agent_id,this.changeAppVisible=!0,this.changeAppForm.corp_id=localStorage.getItem("corpId"),this.changeAppForm.corpName=localStorage.getItem("corpName"))},getAgentList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:localStorage.getItem("corpId")});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.agentList=a.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAppOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.changeAppForm.agent_is_money=1,t.next=3,this.axios.post("work-agent/update-agent-use",this.changeAppForm);case 3:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.changeAppVisible=!1,this.$message.success("提交成功"),this.getManageList());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAppCancel:function(){this.changeAppForm.agent_id=this.agent_id},changeCorp:function(){this.showCoropation=!0},handleChange:function(){this.$forceUpdate()},addOk:function(){this.showAddAgentModal=!1,this.getManageList(),1==this.addType?this.addFixedAmountVisible=!0:2==this.addType&&(this.setVisible=!0)},linkOk:function(){this.showAddAgentModal=!1,this.getManageList(),1==this.addType?this.addFixedAmountVisible=!0:2==this.addType&&this.setFixedAmount()},addCancel:function(){this.showAddAgentModal=!1},coropationChange:function(t,e,a){"ok"==t?(this.changeAppForm.corp_id=e,this.changeAppForm.corpName=a,this.rules.corpId=[],this.getAgentList()):this.rules.corpId=[{required:!0,message:"请选择企业",trigger:"blur"}],this.showCoropation=!1},handleWxId:function(t){this.isLoading=!0,this.corpId=t,this.getManageList()},rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},showDepartmentList:function(t,e){this.userSendMoney=e,this.isSearch=t;var a=this.checkedList1,n=this.user1;t&&(a=this.checkedList,n=this.user),this.$refs.user.rightIdList=JSON.parse(JSON.stringify(a)),this.$refs.user.rightList=JSON.parse(JSON.stringify(n)),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,a,n,s){"ok"==t&&(this.isSearch?(this.checkedList=e,this.chooseNum=parseInt(a)+parseInt(n),this.user=s,this.chooseUserNum=a,this.chooseDepartmentNum=n):(this.checkedList1=e,this.user1=s,this.chooseUserNum1=a,this.chooseDepartmentNum1=n)),this.showModalDepartment=!1},changeTime:function(t,e){this.dateValue=t,this.startValue=e[0],this.endValue=e[1]},disabledDate:function(t){return t&&t>d()().endOf("day")},find:function(){this.getManageList()},clear:function(){this.is_export=0,this.is_all=0,this.dateValue=[],this.startValue="",this.endValue="",this.batchTypeDisabled=!1,this.checkedList=[],this.user=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.getManageList()},chooseDownType:function(t){this.is_all=t.key,this.is_export=1,this.getManageList()},getManageList:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s,i,o,r,c,l=this,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:1,a=d.length>1&&void 0!==d[1]?d[1]:this.pageSize,this.isLoading=!0,n=[],s="",i="",0==this.is_export?(n=this.checkedList,s=this.startValue,i=this.endValue):1==this.is_export&&(n=this.checkedList2,s=this.startValue2,i=this.endValue2),t.next=9,this.axios.post("send-money-manage/user-send-money",{uid:localStorage.getItem("uid"),corp_id:this.corpId,user_ids:n,send_stime:s,send_etime:i,page:e,page_size:a,is_export:this.is_export,is_all:this.is_all});case 9:o=t.sent,r=o.data,0!=r.error?(this.isLoading=!1,this.$message.error(r.error_msg)):(this.isLoading=!1,this.agent_id=r.data.agentId,this.have_agent=r.data.have_agent,this.canChangeAgent=r.data.canChangeAgent,0==this.is_export?(this.manageList=r.data.money,this.keysArr=r.data.all_user,this.total=parseInt(r.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize):window.open(r.data.url),this.is_export=0,this.is_all=0,this.checkedList2=n,this.startValue2=s,this.endValue2=i,c=this.selectedRowKeys,this.checkArr=[],this.manageList.map((function(t){1==t.user_status&&l.checkArr.push(t.key)})),"0"==this.batchType?this.checkArr.length>0?this.batchTypeValue=this.checkArr.every((function(t){return c.includes(t)})):this.batchTypeDisabled=!0:"1"==this.batchType&&(this.keysArr.length>0?this.batchTypeValue=c.sort().toString()==this.keysArr.sort().toString():this.batchTypeDisabled=!0));case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeStaffLimit:function(){this.checkedList1=[],this.user1=[],this.selectedRowKeys=[],this.chooseUserNum1=0,this.chooseDepartmentNum1=0,this.isSingle=!1,this.setVisible=!0},changePage:function(t,e){this.is_export=0,this.is_all=0,this.getManageList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,180)}))},showSizeChange:function(t,e){this.is_export=0,this.is_all=0,this.getManageList(1,e)},onSelectChange:function(t){this.selectedRowKeys=t,"0"==this.batchType?this.batchTypeValue=this.checkArr.every((function(e){return t.includes(e)})):"1"==this.batchType&&(this.batchTypeValue=t.sort().toString()==this.keysArr.sort().toString())},batchTypeChange:function(){var t=this;this.batchTypeValue?this.selectedRowKeys=[]:"0"==this.batchType?(this.manageList.map((function(e){1==e.user_status&&t.selectedRowKeys.push(e.key)})),this.selectedRowKeys=Array.from(new Set(this.selectedRowKeys))):"1"==this.batchType&&(this.selectedRowKeys=this.keysArr)},changeBatchType:function(){var t=this;this.batchTypeDisabled||(this.batchTypeValue?"0"==this.batchType?(this.selectedRowKeys=[],this.manageList.map((function(e){1==e.user_status&&t.selectedRowKeys.push(e.key)})),this.selectedRowKeys=Array.from(new Set(this.selectedRowKeys))):"1"==this.batchType&&(this.selectedRowKeys=Object(i["a"])(this.keysArr.valueOf())):"0"==this.batchType?this.batchTypeValue=this.checkArr.every((function(e){return t.selectedRowKeys.includes(e)})):"1"==this.batchType&&(this.batchTypeValue=this.selectedRowKeys.sort().toString()==this.keysArr.sort().toString()))},changeStatus:function(t,e){var a=this,n=1==e?"开启":"关闭";this.$confirm({title:"确定"+n+"？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.axios.post("send-money-manage/user-send-money-status",{corp_id:a.corpId,user_ids:t,uid:localStorage.getItem("uid"),status:e});case 2:s=n.sent,i=s.data,0!=i.error?a.$message.error(i.error_msg):a.getManageList();case 5:case"end":return n.stop()}}),n)})));function s(){return n.apply(this,arguments)}return s}()})},bulkChangeLimit:function(t,e,a,n){this.isSingle=!0,this.checkedList1=1==t?a:[a],n&&(this.changeTimes=n.day_snum,this.changeQuota=n.day_smoney),this.setVisible=!0,this.people=e},setHandleOk:function(){return""===this.changeTimes||null==this.changeTimes?(this.$message.error("请输入单日每个员工付款给客户的总次数上限"),!1):this.changeTimes<1||this.changeTimes>999999?(this.$message.error("单日每个员工付款给客户的总次数上限必须为1~999999正整数"),!1):""===this.changeQuota||null==this.changeTimes?(this.$message.error("请输入单日每个员工付款给客户的总金额上限"),!1):this.changeQuota<.3||this.changeQuota>5e3?(this.$message.error("单日每个员工付款给客户的总金额上限必须在0.30~5000.00之间"),!1):void this.set()},set:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.setConfirmLoading=!0,t.next=3,this.axios.post("send-money-manage/user-send-money-limit",{uid:localStorage.getItem("uid"),corp_id:this.corpId,user_ids:this.checkedList1,day_user_num:this.changeTimes,day_user_money:this.changeQuota});case 3:e=t.sent,a=e.data,0!=a.error?(this.setConfirmLoading=!1,this.$message.error(a.error_msg)):(this.setConfirmLoading=!1,this.setVisible=!1,this.checkedList1=[],this.changeTimes="",this.changeQuota="",this.selectedRowKeys=[],this.people=0,this.getManageList());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setCancel:function(){this.setVisible=!1,this.changeTimes="",this.changeQuota="",this.people=0},lookDetail:function(t,e){this.$router.push("/redPacket/userDetailRecords?user_name="+t+"&user_id="+e)}},computed:{rowSelection:function(){var t=this.selectedRowKeys;return{selectedRowKeys:t,onChange:this.onSelectChange,hideDefaultSelections:!0,getCheckboxProps:function(t){return{props:{disabled:1!=t.user_status,name:t.user_status}}}}}},created:function(){1==JSON.parse(localStorage.getItem("corpArr")).length?this.isEWechat=!1:JSON.parse(localStorage.getItem("corpArr")).length>1&&(this.isEWechat=!0),this.getManageList(),this.getAgentList()},beforeRouteEnter:function(t,e,a){"/redPacket/userDetailRecords"!=e.path&&a((function(t){t.checkedList=[],t.user=[],t.chooseNum=0,t.chooseUserNum=0,t.chooseDepartmentNum=0,t.is_export=0,t.is_all=0,t.dateValue=[],t.startValue="",t.endValue="",t.batchTypeDisabled=!1,t.getManageList()})),a()}},m=g,f=(a("6cd0"),a("2877")),y=Object(f["a"])(m,n,s,!1,null,"20ddf409",null);e["default"]=y.exports},"59fe":function(t,e,a){var n=a("b6ee");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("2af37125",n,!0,{sourceMap:!1,shadowMode:!1})},"5d08":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"#components-layout-demo-basic[data-v-20ddf409]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-20ddf409]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:885px;width:100%;line-height:50px}[data-v-20ddf409] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}#components-layout-demo-basic .ant-layout-sider[data-v-20ddf409]{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 250px!important;flex:0 0 250px!important;max-width:250px!important;min-width:250px!important;width:250px!important;border-right:1px solid #e2e2e2}#components-layout-demo-basic .ant-layout-content[data-v-20ddf409]{margin:0 20px 20px;min-width:885px;width:100%;padding-right:40px}.content-hd[data-v-20ddf409]{height:60px;width:100%;min-width:885px;line-height:60px}.content-msg[data-v-20ddf409]{width:100%;border:1px solid #ffdda6;background:#fff2db;padding:10px;margin-top:12px}.content-bd[data-v-20ddf409]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;width:100%}#components-layout-demo-basic>.ant-layout[data-v-20ddf409]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-20ddf409]:last-child{margin:0}.ant-layout.ant-layout-has-sider[data-v-20ddf409],.list[data-v-20ddf409]{height:100%}[data-v-20ddf409] .dark-row{background:#fafafa}[data-v-20ddf409] .light-row{background:#fff}.model-label[data-v-20ddf409]{color:rgba(0,0,0,.85);overflow:hidden}.model-label-left[data-v-20ddf409]{float:left;width:160px;text-align:center;line-height:32px}.model-label-right[data-v-20ddf409]{float:left;margin-left:10px}.model-label-right-p[data-v-20ddf409]{font-size:13px;color:#909399;margin-bottom:0;line-height:30px}[data-v-20ddf409] .ant-input-number:hover .ant-input-number-handler-wrap{opacity:0}[data-v-20ddf409] .ant-table-thead>tr>th:first-child .ant-table-header-column{display:none}",""])},6705:function(t,e,a){var n=a("5d08");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("7e34b7fe",n,!0,{sourceMap:!1,shadowMode:!1})},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),s=a("0bfb"),i=a("9e1e"),o="toString",r=/./[o],c=function(t){a("2aba")(RegExp.prototype,o,t,!0)};a("79e5")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?c((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?s.call(t):void 0)})):r.name!=o&&c((function(){return r.call(this)}))},"6cd0":function(t,e,a){"use strict";var n=a("6705"),s=a.n(n);s.a},"8ba3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{title:"关联应用",width:"600px"},on:{ok:t.addAgentOk,cancel:t.addAgentCancel},model:{value:t.showAddAgentModal,callback:function(e){t.showAddAgentModal=e},expression:"showAddAgentModal"}},[a("div",{staticClass:"content-msg",staticStyle:{"margin-top":"0","margin-bottom":"15px"}},[a("p",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t请登录企业微信官方后台，在应用管理-应用-自建应用，找到您已建好应用的AgentId和Secret，并复制到下面的输入框。提交后将该应用添加到本系统里。\n\t\t\t")]),a("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),a("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),a("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t教程")])]),a("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t"),a("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[a("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])]),t.agentList.length>0?a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[t._v("选择应用\n\t\t\t")]),a("a-radio-group",{model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}},[a("a-radio",{attrs:{value:1}},[t._v("选择已有")]),a("a-radio",{attrs:{value:2}},[t._v("新建应用")])],1)],2):t._e(),1==t.agentType?[a("a-select",{staticStyle:{width:"200px","margin-left":"90px"},attrs:{showSearch:"",optionFilterProp:"children"},model:{value:t.agent_id,callback:function(e){t.agent_id=e},expression:"agent_id"}},[t._l(t.agentList,(function(e){return[a("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name)+"\n\t\t\t\t\t")])]}))],2)]:t._e(),2==t.agentType?[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("应用Id\n\t\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入自建应用的AgentId"},model:{value:t.addAgentId,callback:function(e){t.addAgentId=e},expression:"addAgentId"}})],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("应用Secret\n\t\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入自建应用的Secret"},model:{value:t.addAgentSecret,callback:function(e){t.addAgentSecret=e},expression:"addAgentSecret"}})],2)]:t._e()],2)],1)},s=[],i=(a("96cf"),a("3b8d")),o=(a("c5f6"),{props:{showAddAgent:{type:Boolean,default:!1},agent_is_money:{type:Number,default:1},corpId:{type:String,default:localStorage.getItem("corpId")}},name:"index",data:function(){return{addAgentId:"",addAgentSecret:"",agentList:[],agent_id:"",suite_id:1,agentType:1,showAddAgentModal:!1}},mounted:function(){this.showAddAgentModal=this.showAddAgent},methods:{getAgentList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,suite_id:this.suite_id,agent_type:2});case 2:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):a.data&&a.data.length>0?(this.agentList=a.data,this.agent_id=this.agentList[0].id,this.agentType=1):this.agentType=2;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgentOk:function(){if(1==this.agentType)this.linkAgent();else if(2==this.agentType){if(""==this.addAgentId)return this.$message.error("请输入应用Id！"),!1;if(""==this.addAgentSecret)return this.$message.error("请输入应用Secret！"),!1;this.addAgent()}},linkAgent:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-agent/update-agent-use",{corp_id:this.corpId,agent_id:this.agent_id,agent_is_money:this.agent_is_money});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error("关联失败，请检查是否正确！"):(this.$message.success("关联成功！"),this.$emit("linkOk"));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgent:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-agent/add",{corp_id:this.corpId,agent_id:this.addAgentId,agent_secret:this.addAgentSecret,agent_is_money:this.agent_is_money});case 2:if(e=t.sent,a=e.data,0==a.error){t.next=8;break}this.$message.error("添加失败，请检查是否正确！"),t.next=13;break;case 8:return t.next=10,this.axios.post("work-agent/get",{corp_id:this.corpId,agent_id:a.data.agent_id});case 10:n=t.sent,s=n.data,0!=s.error?this.$message.error("添加失败，请检查是否正确！错误描述："+s.error_msg):(this.addAgentId="",this.addAgentSecret="",this.$message.success("添加成功！"),this.$emit("addOk"));case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAgentCancel:function(){this.addAgentId="",this.addAgentSecret="",this.$emit("addCancel")}},watch:{showAddAgent:{handler:function(t){this.showAddAgentModal=t,this.getAgentList()},deep:!0}}}),r=o,c=a("2877"),l=Object(c["a"])(r,n,s,!1,null,"775cf187",null);e["a"]=l.exports},b0fe:function(t,e,a){var n=a("fe92");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("499e").default;s("1ee44db8",n,!0,{sourceMap:!1,shadowMode:!1})},b39a:function(t,e,a){var n=a("d3f4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b6ee:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},c26b:function(t,e,a){"use strict";var n=a("86cc").f,s=a("2aeb"),i=a("dcbc"),o=a("9b43"),r=a("f605"),c=a("4a59"),l=a("01f9"),d=a("d53b"),h=a("7a56"),p=a("9e1e"),u=a("67ab").fastKey,g=a("b39a"),m=p?"_s":"size",f=function(t,e){var a,n=u(e);if("F"!==n)return t._i[n];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,l){var d=t((function(t,n){r(t,d,e,"_i"),t._t=e,t._i=s(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=n&&c(n,a,t[l],t)}));return i(d.prototype,{clear:function(){for(var t=g(this,e),a=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var a=g(this,e),n=f(a,t);if(n){var s=n.n,i=n.p;delete a._i[n.i],n.r=!0,i&&(i.n=s),s&&(s.p=i),a._f==n&&(a._f=s),a._l==n&&(a._l=i),a[m]--}return!!n},forEach:function(t){g(this,e);var a,n=o(t,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(t){return!!f(g(this,e),t)}}),p&&n(d.prototype,"size",{get:function(){return g(this,e)[m]}}),d},def:function(t,e,a){var n,s,i=f(t,e);return i?i.v=a:(t._l=i={i:s=u(e,!0),k:e,v:a,p:n=t._l,n:void 0,r:!1},t._f||(t._f=i),n&&(n.n=i),t[m]++,"F"!==s&&(t._i[s]=i)),t},getEntry:f,setStrong:function(t,e,a){l(t,e,(function(t,a){this._t=g(t,e),this._k=a,this._l=void 0}),(function(){var t=this,e=t._k,a=t._l;while(a&&a.r)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?d(0,"keys"==e?a.k:"values"==e?a.v:[a.k,a.v]):(t._t=void 0,d(1))}),a?"entries":"values",!a,!0),h(e)}}},d77d:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sider-one"},[n("div",{staticClass:"sider-one-txt"},[t._v("选择企业微信")]),t.corpInfo[0]?n("a-select",{staticStyle:{width:"200px","margin-bottom":"20px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.handleChange},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[n("a-select-option",{attrs:{value:e.corpid}},[t._v(t._s(e.corp_name))])]}))],2):t._e(),n("div",{ref:"corpInfo",staticClass:"wx-info",staticStyle:{position:"absolute"},on:{mousemove:t.corpInfoMouseOver,mouseout:t.corpInfoMouseOut}},[t._l(t.corpInfo,(function(e,s){return[n("div",{staticClass:"selectWx",class:{active:t.changeBackground==e.corpid},on:{click:function(a){return t.selectWx(e.corpid)}}},[n("img",{staticStyle:{width:"32px","border-radius":"4px"},attrs:{src:a("de05"),alt:""}}),n("span",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden",float:"right",width:"calc(100% - 35px)"}},[t._v(t._s(e.corp_name))])])]}))],2)],1)},s=[],i={name:"eWechat",props:{callback:{type:Function,default:null}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpInfo:[],changeBackground:t}},created:function(){var t=this;this.$store.dispatch("getCorp",(function(e){t.corpInfo=e,null!==t.callback&&"function"===typeof t.callback&&t.callback(t.changeBackground)}))},methods:{handleChange:function(t){var e=this,a="";this.corpInfo.map((function(n){t==n.corpid&&(a=n.corp_name,e.$store.dispatch("changeCorp",n))})),this.changeBackground=t,this.$emit("changeWxId",t,a),2==localStorage.getItem("isMasterAccount")&&this.$store.dispatch("getPermissionButton")},selectWx:function(t){this.handleChange(t)},corpInfoMouseOver:function(){this.$refs.corpInfo.style.overflowY="auto"},corpInfoMouseOut:function(){this.$refs.corpInfo.style.overflowY="hidden"}}},o=i,r=(a("56b6"),a("2877")),c=Object(r["a"])(o,n,s,!1,null,"2e9ecca2",null);e["a"]=c.exports},e0b8:function(t,e,a){"use strict";var n=a("7726"),s=a("5ca1"),i=a("2aba"),o=a("dcbc"),r=a("67ab"),c=a("4a59"),l=a("f605"),d=a("d3f4"),h=a("79e5"),p=a("5cc5"),u=a("7f20"),g=a("5dbc");t.exports=function(t,e,a,m,f,y){var _=n[t],v=_,b=f?"set":"add",x=v&&v.prototype,k={},w=function(t){var e=x[t];i(x,t,"delete"==t?function(t){return!(y&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof v&&(y||x.forEach&&!h((function(){(new v).entries().next()})))){var S=new v,A=S[b](y?{}:-0,1)!=S,I=h((function(){S.has(1)})),C=p((function(t){new v(t)})),L=!y&&h((function(){var t=new v,e=5;while(e--)t[b](e,e);return!t.has(-0)}));C||(v=e((function(e,a){l(e,v,t);var n=g(new _,e,v);return void 0!=a&&c(a,f,n[b],n),n})),v.prototype=x,x.constructor=v),(I||L)&&(w("delete"),w("has"),f&&w("get")),(L||A)&&w(b),y&&x.clear&&delete x.clear}else v=m.getConstructor(e,t,f,b),o(v.prototype,a),r.NEED=!0;return u(v,t),k[t]=v,s(s.G+s.W+s.F*(v!=_),k),y||m.setStrong(v,t,f),v}},ed13:function(t,e,a){t.exports=a.p+"assets/img/WeChatLogo.3ad5225d.jpg"},fe92:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".sider-one[data-v-2e9ecca2]{padding:0 20px}.sider-one-txt[data-v-2e9ecca2]{height:60px;line-height:60px;text-align:left}.wx-info[data-v-2e9ecca2]{width:100%;position:absolute;left:0;top:100px;bottom:0;overflow:hidden}.wx-info[data-v-2e9ecca2]::-webkit-scrollbar{width:2px;height:100%}.wx-info[data-v-2e9ecca2]::-webkit-scrollbar-track-piece{background-color:#fff}.wx-info[data-v-2e9ecca2]::-webkit-scrollbar-thumb{background:#fff}.selectWx[data-v-2e9ecca2]{width:200px;margin-left:20px;height:50px;line-height:50px;cursor:pointer;padding-left:10px}.active[data-v-2e9ecca2]{background:#1e90ff;color:#fff}",""])},ffd5:function(t,e,a){"use strict";var n=a("59fe"),s=a.n(n);s.a}}]);