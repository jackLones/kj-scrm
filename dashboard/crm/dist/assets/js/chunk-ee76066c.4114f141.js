(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee76066c"],{"0b78":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'[data-v-e9e2608a] .ant-card-bordered{border:0}.tpl-title[data-v-e9e2608a]{float:left;font-size:16px;vertical-align:top}.content-bd[data-v-e9e2608a]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;margin:0 20px}.custom-info[data-v-e9e2608a]{padding:20px}.custom-info-text[data-v-e9e2608a]{width:calc(100% - 132px);display:inline-block;height:132px;padding:0 15px}.col[data-v-e9e2608a]{margin-bottom:5px}.custom-info-box[data-v-e9e2608a]{margin-top:20px;overflow:hidden;text-align:center}.box[data-v-e9e2608a]{padding:20px 20px 0;height:115px;width:25%;border:1px solid #e9e9e9;background-color:#f9f9f9;float:left;overflow:auto}.box[data-v-e9e2608a]:first-child,.box[data-v-e9e2608a]:nth-child(2),.box[data-v-e9e2608a]:nth-child(3){border-right:0}.box-first[data-v-e9e2608a]{font-size:16px}.box-second[data-v-e9e2608a]{padding:0;margin:0;overflow:hidden}.custom-info-tab[data-v-e9e2608a]{margin-top:20px}.col2[data-v-e9e2608a]{overflow:hidden}.half[data-v-e9e2608a]{width:50%;float:left;line-height:40px;padding:0 20px;border-top:1px solid #e9e9e9}.half-text[data-v-e9e2608a]{float:right;word-break:break-all;max-width:calc(100% - 120px)}[data-v-e9e2608a] .ant-tabs-top-content{padding-bottom:0}.time[data-v-e9e2608a]{border:1px solid #e9e9e9;padding:20px 20px 0}.textArea-btn[data-v-e9e2608a]{padding:20px 0 10px;overflow:hidden}.upload-file[data-v-e9e2608a] .ant-upload-picture-card-wrapper{display:inline}.upload-file[data-v-e9e2608a] .ant-upload.ant-upload-select-picture-card{background-color:#fff;border:0;height:32px}[data-v-e9e2608a] .ant-upload.ant-upload-select-picture-card>.ant-upload{padding:0}.time-line-title[data-v-e9e2608a]{background:#f9f9f9;padding:10px;margin-top:5px}.preview-box[data-v-e9e2608a]{width:104px;height:104px;margin:0 8px 8px 0;padding:8px;border:1px solid #d9d9d9;border-radius:4px;position:relative;float:left}.preview-cover[data-v-e9e2608a],.preview-cover img[data-v-e9e2608a]{display:block;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;position:relative}.preview-cover[data-v-e9e2608a]:before{z-index:1;width:100%;height:100%;background-color:rgba(0,0,0,.5);content:" "}.preview-cover-icon[data-v-e9e2608a],.preview-cover[data-v-e9e2608a]:before{position:absolute;opacity:0;-webkit-transition:all .3s;transition:all .3s}.preview-cover-icon[data-v-e9e2608a]{top:50%;left:50%;z-index:10;white-space:nowrap;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);cursor:pointer;color:#fff;font-size:18px}.preview-box:hover .preview-cover-icon[data-v-e9e2608a],.preview-box:hover .preview-cover[data-v-e9e2608a]:before{opacity:1}[data-v-e9e2608a] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:58px}.upload-pic[data-v-e9e2608a] .ant-upload-list-picture-card-container,.upload-pic[data-v-e9e2608a] .ant-upload-list-picture-card .ant-upload-list-item,.upload-pic[data-v-e9e2608a] .ant-upload.ant-upload-select-picture-card{width:70px;height:70px}.upload-pic[data-v-e9e2608a] .ant-upload-select-picture-card i{font-size:32px;color:#999}.upload-pic[data-v-e9e2608a] .ant-upload-select-picture-card .ant-upload-text{margin-top:8px;color:#666}[data-v-e9e2608a] .ant-input-group-addon{padding:0}.custom-info-project[data-v-e9e2608a]{border:1px solid #e9e9e9;background-color:#f9f9f9;margin-top:20px;padding:20px;overflow-x:auto}.ant-steps-dot.ant-steps-small .ant-steps-item-process .ant-steps-item-icon[data-v-e9e2608a],[data-v-e9e2608a] .ant-steps-dot .ant-steps-item-process .ant-steps-item-icon{width:8px;height:8px}.ant-steps-dot.ant-steps-small .ant-steps-item-content[data-v-e9e2608a],[data-v-e9e2608a] .ant-steps-dot .ant-steps-item-content{width:200px}.ant-steps-dot.ant-steps-small .ant-steps-item-icon[data-v-e9e2608a],[data-v-e9e2608a] .ant-steps-dot .ant-steps-item-icon{margin-left:97px}.ant-steps-dot.ant-steps-small .ant-steps-item-tail[data-v-e9e2608a],[data-v-e9e2608a] .ant-steps-dot .ant-steps-item-tail{margin:0 0 0 100px}.single-accout-card[data-v-e9e2608a]::-webkit-scrollbar{width:10px;height:10px}[data-v-e9e2608a] .ant-steps-item-finish>.ant-steps-item-container>.ant-steps-item-content>.ant-steps-item-title{color:rgba(0,0,0,.85)}[data-v-e9e2608a] .ant-steps-item-finish>.ant-steps-item-container>.ant-steps-item-content>.ant-steps-item-description{color:rgba(0,0,0,.65)}',""])},"0cfc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabBox"},[a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.groupList.length&&1==t.isNotAdd,expression:"groupList.length == 0 && isNotAdd == 1"}]},[a("span",{attrs:{slot:"description"},slot:"description"},[t._v("\n\t\t\t尚未创建标签，无法选择标签\n\t\t")])]),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.name&&""!=e.name?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]):t._e()],1),t._l(e.data,(function(s,n){return a("span",[e.disabled[n]?t._e():a("a-checkable-tag",{on:{change:function(e){return t.changeTags(s.id,i)}},model:{value:e.checked[n],callback:function(a){t.$set(e.checked,n,a)},expression:"item.checked[tagIndex]"}},[t._v("\n\t\t\t\t\t"+t._s(s.tagname)+"\n\t\t\t\t")]),e.disabled[n]&&1==t.isDisabled?a("a-button",{staticStyle:{margin:"5px","line-height":"26px","font-size":"12px",height:"auto !important",padding:"0 7px"},attrs:{disabled:e.disabled[n]&&1==t.isDisabled}},[t._v("\n\t\t\t\t\t"+t._s(s.tagname)+"\n\t\t\t\t")]):t._e()],1)})),1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-add",expression:"'client-tag-add'"}],staticStyle:{"font-size":"13px",height:"26px"},attrs:{icon:"plus"},on:{click:function(a){return t.createTag(e.id)}}},[t._v("\n\t\t\t\t新建标签\n\t\t\t")]):t._e()],2):t._e()]})),t.groupList.length>0&&1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-group-add",expression:"'client-tag-group-add'"}],staticStyle:{"font-size":"13px",height:"26px","margin-right":"10px","margin-left":"16.7%"},attrs:{icon:"plus"},on:{click:t.addTagGroup}},[t._v("\n\t\t新建标签组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建标签",zIndex:99999,confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{staticClass:"add-tag-group",attrs:{zIndex:99999,title:"新建标签组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("分组名称\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],2),a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}})],2)],1)],2)},s=[],n=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),r=(a("c5f6"),{name:"chooseDepartment",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}},isDisabled:{type:Number,default:0},disabledTag:{type:Array,default:function(){}},isNotAdd:{type:Number,default:0},id:{type:String,default:""}},data:function(){return{corpId:"",groupList:[],tag_arr:[],tag_ids:"",group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newTagList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:"",inputValue2:"",newTagList2:[]}},watch:{hasChoose:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.tag_arr=t,this.tag_ids=t.join(),this.hasChoose.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),0==t.length&&this.groupList.map((function(t){t.checked=[]})),this.$forceUpdate())},deep:!0},id:{handler:function(t){""!=typeof t&&(this.corpId=t,this.getTags())},deep:!0},disabledTag:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.disabledTag.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),this.$forceUpdate())},deep:!0}},methods:{getTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/tag-group",{corp_id:this.corpId||localStorage.getItem("corpId"),is_not_add:this.isNotAdd});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checked=[],t.disabled=[]})),"undefined"!=typeof this.disabledTag&&this.disabledTag.length>0&&this.disabledTag.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0&&(this.tag_arr=this.hasChoose,this.tag_ids=this.hasChoose.join(),this.hasChoose.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);if(this.tag_arr.includes(a))this.tag_arr.remove(a);else if(this.tag_arr.length+1>9999){this.$message.warning("不可选中，客户标签数量上限9999个");for(var i=0;i<this.groupList[e].data.length;i++)this.groupList[e].data[i].id==a&&(this.groupList[e].checked[i]=!1)}else this.tag_arr.push(a);this.$forceUpdate(),this.tag_ids=this.tag_arr.join(),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.tag_ids)},createTag:function(t){this.group_id=t;var e=0;if(this.groupList.map((function(t){e+=t.data.length})),e>=9999)return this.$message.warning("标签数量已超过上限9999个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;e.newTagList=[];for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>15)return e.$message.error("每个标签最多15个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newTagList.push(t.split(" ")[a])}e.addTags(),e.inputValue="",e.newTagList=[],e.confirmLoading3=!1},addTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,type:0,group_id:this.group_id,name:this.newTagList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addTagGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName="",this.newTagList2=[],this.inputValue2=""},handleOk2:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:if(""!=this.inputValue2){t.next=10;break}return this.$message.warning("标签名称不能为空"),t.abrupt("return",!1);case 10:this.newTagList2=[],e=JSON.parse(JSON.stringify(this.inputValue2)).split(" "),a=0;case 13:if(!(a<e.length)){t.next=24;break}if(!(e[a].length>15)){t.next=20;break}return this.$message.error("每个标签最多15个字"),this.inputValue2="",t.abrupt("return",!1);case 20:e[a].length>0&&this.newTagList2.push(e[a]);case 21:a++,t.next=13;break;case 24:return this.confirmLoading=!0,t.next=27,this.axios.post("work-tag-group/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,name:this.teamName,type:0,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),tag_name:this.newTagList2});case 27:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.teamName="",this.newTagList2=[],this.inputValue2="",this.groupVisible=!1,this.getTags()),this.confirmLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.corpId=this.id||localStorage.getItem("corpId"),this.getTags()}}),o=r,l=(a("378c"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"049270fe",null);e["a"]=c.exports},"20d6":function(t,e,a){"use strict";var i=a("5ca1"),s=a("0a49")(6),n="findIndex",r=!0;n in[]&&Array(1)[n]((function(){r=!1})),i(i.P+i.F*r,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(n)},"2e86":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-049270fe] .ant-tree-checkbox{float:right}[data-v-049270fe] .ant-tree-iconEle{display:none!important}[data-v-049270fe] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-049270fe] .ant-list-item{border-bottom:0;padding:0}[data-v-049270fe] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-049270fe] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-049270fe]{color:red;margin:0 20px 12px 0}.group-name[data-v-049270fe]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-049270fe]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}[data-v-049270fe] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;height:26px;line-height:25px}[data-v-049270fe] .ant-tag-checkable-checked{background-color:#1890ff}[data-v-049270fe] .ant-col-20{margin-left:20px;width:calc(83.33333% - 20px)}.add-tag-group[data-v-049270fe] .ant-col-20{margin-left:0;width:83.33333333%}",""])},"378c":function(t,e,a){"use strict";var i=a("da1d"),s=a.n(i);s.a},"38a9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA90lEQVR4Ae2YIUhFMRSG1xHEINtrVoO9Pq32Lljt9WFHzxYMVjvY00A72IvJai/6+cK1PLzs7si5d/D2w5f3cTn7LztuanpCJC/JmBCLkHj5S+h9IIfEZhYi+ffc8S+U2LiZMkixJXehLrR/QkFYmxWhsNYKYYJWyKwQNUL26UJdyDiNCemLseoM4eq/QhSoE4p8b7l15eiLUSFESDzZzZBCaOA1CCdmQiFxXmJHCB/58MKFjVAELT5ybSH0NQF2WQlv/p6zFmYIH3k+fuCgjaFO3LV0y25aufafQbisKkbtU9oVcvTI4Uo4rf51aJcOza1j3Ezp+QEkrRqTcO4ICwAAAABJRU5ErkJggg=="},4553:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACJElEQVR4AexVA8xeUQz9g9m2bSuavWi2bVvBjIfZtm0Gs23b8aKz0+Wz7SZ9usV5p729SQlJSEISEk1ScB1S5tRROoeKFjlVjOF9aC4VjbPNRc6QAsm7EKlyahibQ8H7nAreEshJAppPXULdTQXXN2ZXUCvoYAxs3GHCg/LsyKaojhRcn0e7T7xPCxqYbEtQlAk+5NDQ0RN7KSdB3Q8aKAY/SlYU43t2HUUkGctWx8TgPKSh3Sh+b2YCxZ9gb7UKLBgmZaLPNgDPUSGgbOwga6ZvXKdeDCwgBmWpTsizpwxJL2XTUCyXgk7CEu3GUptnVZArEOU6J43qkfF0JKftaPq8MzT/cgNLa/jtCBUEOdNPhhhMwWF3dplWIAMT3qCeZv9Ud1L+plLCXBpO+b7dFfRkkr+cQZndMLmWutML1qf5U7Y93C0TXay3oR6z7Du+w/hORvry/RUZKijveRajON//iJ9PgDIqyEjn5wTVzwmg+WRyggWAKgLCZrD2svE5Ln4+syS7xrCt2zgsAXect7tX/Pw9PpaTiQ4MNFACyl/LoSqBhSEv2+AQ/Sf6OwIeMcgvmUsEMovPmwSMQY96ydCnXAtR1Z+JXfD/Sa6ivBOwR2iz1MMf20nbOUlBFNOBSl0ik9wVGDb8KotPQQd1mfqV5dxCHS/NzvJ2lmf2WQNZSwq1MHkNyx6Tu7zLLKL+NOzUyBAy1t3bEZGQhPzbQIBRMAoAq5eDxQL477cAAAAASUVORK5CYII="},"8f93":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABpElEQVR4Ae3BP2gTYRzH4e9klQ6Kk26FWIcbXBTF7QahWLNJBv8MYqGCg0u1tF1eJ9+8n9+ZQKFSkCo0uARdqq1WhYNOLg5CwUUoqKHSQXF0OiFIqCaeSbFbnkd9fbvn4d4kohhu2Y3yCIe0M5V9TPKZj7wkCXM8JrNFO61eUeQdSxTVMjuAsWlOvagcoWEX1SaJWDen7tlKqEoSBXM+liQbDBOMSklEg/Pqjo/DFzWRkpmTJB+TkUqSOdbUHXOsqomCOR9Lkg2GCUZnBxgOl2gwaeeqh/UvpJja3N7DTT6xxLw5FlgmC3eUj4XwTH8o7+ctr8NJtZTPssYr5eEqPyoH9Rt7QF1tSM0pjz1hRttQ4rkkmSOTJMbZ8EPS3aN8p6S/qx7gg11TC4lNS1JynHE12Zia7AWJ8jBMRkm/kPpYHZkjVT7muRCum7Ox8ghpmFZHPGVG+XjPN1bx1EhJbUUdsRlOKI8fskU7phaWuac21AnqTRKxHuYoaBvq3Ffvkog3YYtHTPnYLjNlZ8KWdspO4amRUsOzwVdK+h+44mP19e2Cny4lvKPoDswAAAAAAElFTkSuQmCC"},9826:function(t,e,a){"use strict";var i=a("b4a8"),s=a.n(i);s.a},af86:function(t,e){t.exports="data:image/png;base64,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"},b4a8:function(t,e,a){var i=a("0b78");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("e8226d50",i,!0,{sourceMap:!1,shadowMode:!1})},c943:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABAElEQVR42mNgGAXDFHTXd+3HAtP6BUg15j922BlAujGh7Q6oECTeXU+yMdhliDYI2Zhew57YzuIuHzIMQjam3aHrKzRk5pNoELIxPVpg9o+uO2C6jASDUMOmc3rX/64TXUYMDF1pXf+7LhJtEHoQd+1HaALJEGkQZkyR5SJsEd5p0vUJKYxSiDAIV7rp9Os6Ao21VdDgv9L1v7OA5OQHTgJKPcbtgghjuq70S2I3Rg+fMQgAM6ZHC4eCrhS80sQaAw6Jc4SUEGUMYWVEGkNIKQnG4FNOojG4tJBhDDZtZBqDrpUCY1CNosgYZKMoNAZq1AlQAUKhMdCs6jDaQKAWAAAIUUukSy7c4wAAAABJRU5ErkJggg=="},cc91:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAB4klEQVR4Ae2WNdDUUBSFX49rEqSjwXsanL7A3V37GazBI7j0DTUVWv0VXm6Ju3t1eN+wYd48HCLAnzNzZ+6ce86e3Zu3SczfigYNGvTfp9FRqk1hqpO2blH0cMxMlQgSLQ4zvQtTPbR1wdYhih6OGRpTBWxYy4YqSJV8S8MMDVpTJqJEZwjqd0hDfqRFgxZPOZtJtJCA4IAmeJdvUpRpOUXvztDiwVv8dlJ12NAT3uXb0g5sUfRwrgYPXlMkeibqSZitaTlH7/96+m/p+Iwi/1WsXn13qZsTdN3fBoBjRg/w4OUzTEHIQy64XHs743wtHDNPeyH/8oUgD+m1Uz2ckEvf2hAzeoDH+fLFIF97lGlezkWxVvqHmB6OWc7h8S53MWDtQarjHrc2THSTQIoeztXgwWsKBuF7w0x3+iaKXH5QrN5RojkUvTtDiwdv8Q/T/RodpvrwK4cTLR68pgSw/tjfkg9/O3hMWegX83zSk5/ZEhq0eMp+2m/nAA+INeVbGmZo0JqSwVO8a5CqwwZepv/anBmafF46+mcaY0NfhZn2+zM4ZmhMlYiyTzfGINPMnKOHY2bqgA0/EmZ6OmCfBlP0cKZOBJynRKcoelM3wv0axpmh6E39+PwSNs00aNDgH8BHA/CUaKU0oEYAAAAASUVORK5CYII="},cdaab:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[i("div",[i("a-card",{staticStyle:{"margin-bottom":"20px",padding:"10px 20px"}},[i("label",{staticClass:"tpl-title"},[t._v("客户详情")]),i("a-button",{staticStyle:{"font-size":"14px",float:"right"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("返回列表\n\t\t\t\t")])],1),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("div",{staticClass:"custom-info"},[i("a-avatar",{staticStyle:{"vertical-align":"top"},attrs:{shape:"square",size:132,src:t.avatar}}),i("div",{staticClass:"custom-info-text"},[i("div",{staticClass:"col"},[i("span",{staticStyle:{"font-size":"20px","font-weight":"700"}},[t._v(t._s(t.name)+"\n\t\t\t\t\t\t\t\t"),t.remarkVisible||""==t.nickname?t._e():i("span",[t._v("（"+t._s(t.nickname)+"）")]),"男性"==t.gender?i("a-icon",{staticStyle:{color:"#427EBA"},attrs:{slot:"prefix",type:"man"},slot:"prefix"}):t._e(),"女性"==t.gender?i("a-icon",{staticStyle:{color:"#ED4997"},attrs:{slot:"prefix",type:"woman"},slot:"prefix"}):t._e()],1),t.remarkVisible?t._e():i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.modifyRemark}}),t.remarkVisible?i("a-input-search",{staticStyle:{width:"260px","margin-left":"10px"},attrs:{placeholder:"输入用户的备注",maxLength:10},on:{search:t.setRemark},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.nickname.length))]),t._v("/10\n                                    ")]),i("a-button",{attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[i("a-icon",{attrs:{type:"check"}})],1)],1):t._e(),t.followTitle?i("a-tag",{staticStyle:{float:"right","margin-right":"0",height:"25px","line-height":"25px"},attrs:{color:"#67c23a"}},[t._v(t._s(t.followTitle)+"\n\t\t\t\t\t\t\t\t")]):t._e()],1),i("div",{staticClass:"col"},[i("label",[t._v("\n\t\t\t\t\t\t\t\t\t手机："),t.phone&&""!=t.phone?i("span",[t._v(t._s(t.phone))]):i("span",[t._v("暂无")])])]),i("div",{staticClass:"col"},[i("label",[t._v("\n\t\t\t\t\t\t\t\t\t所在地："),t.area&&""!=t.area?i("span",[t._v(t._s(t.area))]):i("span",[t._v("暂无")])])]),i("div",{staticClass:"col"},[i("span",[i("label",[t._v("标签：")]),i("span",{staticStyle:{display:"inline-block",width:"calc(100% - 45px)","vertical-align":"text-top"}},[t._l(t.hasTagsValue,(function(e){return t.hasTagsValue&&t.hasTagsValue.length>0?i("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"blue"}},[t._v(t._s(e))]):t._e()})),0==t.hasTagsValue.length?i("span",[t._v("暂无")]):t._e(),t.isShowTag?i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"edit"},on:{click:t.showModal}}):t._e()],2)])]),i("div",{staticClass:"col"},[i("span",[i("label",[t._v("描述：")]),t.des&&""!=t.des?i("span",[t._v(t._s(t.des))]):t._e(),""==t.des?i("span",[t._v("暂无")]):t._e(),t.file3?i("img",{staticStyle:{"max-width":"100px","max-height":"100px",margin:"0 0 10px 10px"},attrs:{src:this.commonUrl+t.file3,alt:"avatar"}}):t._e()]),i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.showDesVisible}}),i("a-modal",{attrs:{title:"修改描述",visible:t.desVisible},on:{cancel:t.desVisibleCancel,ok:t.setDetail}},[i("div",{staticClass:"textArea"},[i("a-textarea",{attrs:{placeholder:"请输入用户的描述，150字以内",autoSize:{minRows:4,maxRows:4},maxLength:150},on:{change:t.changeTextarea},model:{value:t.desText,callback:function(e){t.desText=e},expression:"desText"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.desText.length)+"/150\n\t\t\t\t\t\t\t\t\t\t")])],1)])],1)]),i("div",{staticClass:"custom-info-box"},[i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("预计成交率")]),i("p",{staticClass:"box-second"},[t.closeRateVisible||null===t.close_rate?t._e():i("span",[t._v(t._s(t.close_rate)+" %")]),t.closeRateVisible||null!==t.close_rate?t._e():i("span",[t._v("暂无")]),t.closeRateVisible?t._e():i("a-icon",{staticStyle:{"margin-left":"10px"},attrs:{type:"edit"},on:{click:t.modifyCloseRate}}),t.closeRateVisible?i("a-input-search",{staticStyle:{width:"200px"},attrs:{defaultValue:t.close_rate,placeholder:"输入预计成交率",maxLength:10},on:{search:t.setCloseRate}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")]),i("a-button",{attrs:{slot:"enterButton",type:"primary"},slot:"enterButton"},[i("a-icon",{attrs:{type:"check"}})],1)],1):t._e()],1)]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("上次联系")]),i("p",{staticClass:"box-second"},[t.follow_time&&""!=t.follow_time?i("span",[t._v(t._s(t.follow_time))]):i("span",[t._v("暂无")])])]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("联系次数")]),i("p",{staticClass:"box-second"},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("div",{staticStyle:{"max-height":"300px","overflow-y":"auto"}},t._l(t.follow_times,(function(e){return i("div",[t._v(t._s(e.name)+"："+t._s(e.follow_num)+"次\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),0)]),t.follow_num&&""!=t.follow_num?i("span",{staticStyle:{cursor:"pointer"}},[t._v(t._s(t.follow_num))]):t._e()],2),""==t.follow_num||null==t.follow_num?i("span",[t._v("暂无")]):t._e()],1)]),i("div",{staticClass:"box"},[i("p",{staticClass:"box-first"},[t._v("认领成员")]),t._l(t.memberInfo,(function(e){return t.memberInfo&&t.memberInfo.length>0?i("p",{staticClass:"box-second"},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t认领第"+t._s(e.num)+"次："+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.claim_time)+"\n\t\t\t\t\t\t\t\t\t\t")]),i("span",{staticStyle:{display:"inline-block","max-width":"250px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden",cursor:"pointer"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t认领第"+t._s(e.num)+"次："+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.claim_time)+"\n\t\t\t\t\t\t\t\t\t\t")])],2)],1):i("p",[t._v("暂无")])}))],2)]),t.projectList.length>0?i("div",{staticClass:"custom-info-project single-accout-card"},[i("a-steps",{attrs:{"progress-dot":"",current:t.projectList.length-1}},t._l(t.projectList,(function(e){return i("a-step",[i("template",{slot:"title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.project_name)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{attrs:{slot:"description"},slot:"description"},[3==e.status?i("div",[t._v("实际结束："+t._s(e.finish_time)+"\n\t\t\t\t\t\t\t\t\t\t\t"),1==e.is_finish?i("span",[t._v("（按时完成）")]):t._e(),2==e.is_finish?i("span",{staticStyle:{color:"red"}},[t._v("（逾期"+t._s(e.delay_days)+"天完成）")]):t._e(),3==e.is_finish?i("span",[t._v("（提前"+t._s(e.pre_days)+"天完成）")]):t._e()]):t._e(),1!=e.status?i("div",[t._v("开始时间："+t._s(e.start_time))]):t._e(),1!=e.status?i("div",[t._v("预计结束："+t._s(e.end_time))]):t._e(),1==e.status?i("div",[t._v("项目规则：接到任务起，需要在"+t._s(e.days)+"天内完成")]):t._e(),i("div",[t._v("项目完成人："+t._s(e.name))])])],2)})),1)],1):t._e(),i("div",{staticClass:"custom-info-tab"},[i("a-tabs",{attrs:{type:"card"},on:{change:t.changeTab},model:{value:t.tabKey,callback:function(e){t.tabKey=e},expression:"tabKey"}},[i("a-tab-pane",{key:"1",attrs:{tab:"跟进记录"}},[i("div",{staticClass:"time"},[i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t跟进状态：\n\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},model:{value:t.follow_id,callback:function(e){t.follow_id=e},expression:"follow_id"}},t._l(t.follows,(function(e){return i("a-select-option",{attrs:{value:e.id,disabled:1!=t.canEdit}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1),i("div",{staticClass:"textArea"},[i("a-textarea",{attrs:{placeholder:"添加跟进记录，1000字以内",autoSize:{minRows:5,maxRows:5},maxLength:1e3},on:{change:t.changeTextarea},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.msg.length)+"/1000\n\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"textArea-btn"},[i("a-upload",{staticClass:"upload-file",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",beforeUpload:t.beforeUpload,fileList:t.imageUrl},on:{preview:t.handlePreview,change:function(e){return t.changeMsg(e)}}},[t.imageUrl.length<9?i("div",[i("a-button",[i("a-icon",{attrs:{type:"link"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t附件 "+t._s(t.imgNum)+"/9\n\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)],1):t._e()]),i("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})]),i("a-button",{staticStyle:{left:"50%",width:"110px"},attrs:{type:"primary",disabled:t.submitDisabled},on:{click:t.submitFollowRecord}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t提交\n\t\t\t\t\t\t\t\t\t\t\t")])],1),i("a-timeline",{staticClass:"time-line"},t._l(t.followRecord,(function(e){return i("a-timeline-item",[i("div",{staticClass:"time-line-time"},[t._v(t._s(e.time))]),i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("ff27")},slot:"dot"}),i("div",{staticStyle:{margin:"10px 0"}},[i("span",{staticStyle:{color:"#1989FA"}},[t._v(t._s(e.name))]),t._v(" 发表：\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),""!=e.follow_status?i("span",{staticStyle:{color:"red"}},[t._v("【"+t._s(e.follow_status)+"】")]):t._e(),i("span",{staticStyle:{float:"right"}},[1==e.can_edit?i("a-icon",{attrs:{type:"edit"},on:{click:function(a){return t.editFollowRecord(e)}}}):t._e()],1)]),i("div",{staticClass:"time-line-title"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.record)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),e.file.length>0?i("div",{staticStyle:{"margin-top":"5px",overflow:"hidden"}},t._l(e.file,(function(e){return i("div",{staticClass:"preview-box"},[i("div",{staticClass:"preview-cover"},[i("img",{attrs:{src:t.commonUrl+e,alt:""}})]),i("span",{staticClass:"preview-cover-icon",on:{click:function(a){return t.previewHasImg(t.commonUrl+e)}}},[i("a-icon",{attrs:{type:"eye"}})],1)])})),0):t._e()])])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination",staticStyle:{margin:"20px 0","box-sizing":"border-box",overflow:"hidden"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("条\n\t\t\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)]),i("a-modal",{attrs:{title:"修改跟进记录",width:"800px"},on:{ok:t.submitFollowRecord,cancel:t.cancelFollowRecord},model:{value:t.editVisible,callback:function(e){t.editVisible=e},expression:"editVisible"}},[i("div",{staticStyle:{margin:"20px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t跟进状态：\n\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-select",{staticStyle:{width:"220px"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.follows,(function(e){return i("a-select-option",{attrs:{value:e.id,disabled:1!=t.canEdit}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1)],1),i("div",{staticClass:"textArea"},[i("a-textarea",{attrs:{placeholder:"添加跟进记录，1000字以内",autoSize:{minRows:5,maxRows:5},maxLength:1e3},model:{value:t.msg2,callback:function(e){t.msg2=e},expression:"msg2"}}),i("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[t._v(t._s(t.msg2.length)+"/1000\n\t\t\t\t\t\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"textArea-btn"},[i("a-upload",{staticClass:"upload-file",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",beforeUpload:t.beforeUpload2,fileList:t.imageUrl2},on:{preview:t.handlePreview2,change:function(e){return t.changeMsg2(e)}}},[t.imageUrl2.length<9?i("div",[i("a-button",[i("a-icon",{attrs:{type:"link"}}),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t附件 "+t._s(t.imgNum2)+"/9\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")],1)],1):t._e()]),i("a-modal",{attrs:{visible:t.previewVisible2,footer:null},on:{cancel:t.handleCancel2}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage2}})])],1)])],1)]),i("a-tab-pane",{key:"2",attrs:{tab:"互动轨迹"}},[i("a-timeline",{staticClass:"time-line",staticStyle:{margin:"20px"}},t._l(t.interactList,(function(e){return i("a-timeline-item",[1==e.icon?i("img",{staticStyle:{width:"22px"},attrs:{slot:"dot",src:a("cf8c")},slot:"dot"}):t._e(),2==e.icon?i("img",{staticStyle:{width:"22px"},attrs:{slot:"dot",src:a("c943")},slot:"dot"}):t._e(),3==e.icon?i("img",{staticStyle:{width:"22px"},attrs:{slot:"dot",src:a("cc91")},slot:"dot"}):t._e(),4==e.icon?i("img",{staticStyle:{width:"26px"},attrs:{slot:"dot",src:a("4553")},slot:"dot"}):t._e(),5==e.icon?i("img",{staticStyle:{width:"26px"},attrs:{slot:"dot",src:a("8f93")},slot:"dot"}):t._e(),6==e.icon?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("eacd")},slot:"dot"}):t._e(),8==e.icon?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("ff27")},slot:"dot"}):t._e(),10==e.icon?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("f180")},slot:"dot"}):t._e(),11==e.icon?i("img",{staticStyle:{width:"18px"},attrs:{slot:"dot",src:a("38a9")},slot:"dot"}):t._e(),12==e.icon?i("img",{staticStyle:{width:"16px"},attrs:{slot:"dot",src:a("fee6")},slot:"dot"}):t._e(),13==e.icon?i("a-icon",{attrs:{slot:"dot",type:"pay-circle"},slot:"dot"}):t._e(),i("div",{staticStyle:{"min-height":"40px"}},[i("div",{staticClass:"time-line-time"},[t._v(t._s(e.event_time))]),i("div",{staticClass:"time-line-title"},[t._v(t._s(e.content))])])],1)})),1),i("div",{staticStyle:{"text-align":"center"}},[1==t.btnFlag?i("a-button",{attrs:{type:"primary"},on:{click:t.loadMore}},[t._v("加载更多")]):t._e(),2==t.btnFlag?i("span",{attrs:{type:"primary"}},[t._v("没有更多数据了")]):t._e()],1)],1),i("a-tab-pane",{key:"3",attrs:{tab:"用户画像"}},[i("div",{staticStyle:{overflow:"hidden","margin-bottom":"10px"}},[i("div",{staticStyle:{float:"right"}},[t.badicInfoVisible?t._e():i("a-button",{attrs:{type:"primary"},on:{click:t.editBadicInfo}},[t._v("编辑\n\t\t\t\t\t\t\t\t\t\t\t")]),t.badicInfoVisible?i("a-button",{staticStyle:{"margin-right":"15px"},on:{click:t.cancleBadicInfo}},[t._v("取消\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),t.badicInfoVisible?i("a-button",{attrs:{type:"primary"},on:{click:t.submitBadicInfo}},[t._v("提交\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],1)]),i("div",{staticClass:"col2"},t._l(t.field_list,(function(e,a){return i("div",{staticClass:"half"},[i("a-tag",{attrs:{color:"#1890FF"}},[t._v(t._s(e.title))]),t.badicInfoVisible||""==e.value||8==e.type||"phone"==e.key||"company"==e.key?t._e():i("span",{staticClass:"half-text"},[t._v(t._s(e.value))]),t.badicInfoVisible||"phone"!=e.key?t._e():i("span",{staticClass:"half-text"},[""!=t.phone?i("span",[t._v(t._s(t.phone))]):t._e(),""==t.phone?i("span",[t._v("暂无")]):t._e()]),t.badicInfoVisible||"company"!=e.key?t._e():i("span",{staticClass:"half-text"},[""!=t.company?i("span",[t._v(t._s(t.company))]):t._e(),""==t.company?i("span",[t._v("暂无")]):t._e()]),t.badicInfoVisible||0==e.value.length||8!=e.type?t._e():i("span",{staticClass:"half-text"},t._l(e.value,(function(e){return i("img",{staticStyle:{"max-width":"70px","max-height":"70px",margin:"2px","line-height":"0px",cursor:"pointer"},attrs:{src:t.commonUrl+e.url},on:{click:function(a){return t.preview(t.commonUrl+e.url)}}})})),0),t.badicInfoVisible||""!=e.value&&0!=e.value.length||"phone"==e.key||"company"==e.key?t._e():i("span",{staticClass:"half-text"},[t._v("暂无")]),t.badicInfoVisible?[2==e.type?i("a-select",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:e.hasOption,placeholder:"请选择"+e.title,allowClear:""},on:{change:function(a){return t.handleChange(a,e.fieldid)}}},t._l(e.optionVal2,(function(e){return i("a-select-option",{attrs:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),3==e.type?i("a-select",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{mode:"multiple",defaultValue:e.hasOption,placeholder:"请选择"+e.title},on:{change:function(a){return t.handleChange2(a,e.fieldid)}}},t._l(e.optionVal2,(function(e){return i("a-select-option",{attrs:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),1):t._e(),8==e.type?i("span",{staticClass:"clearfix",staticStyle:{width:"35%",float:"right","margin-top":"4px","line-height":"0px"}},[i("a-upload",{staticClass:"upload-pic",attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card",fileList:e.picUrl||[],beforeUpload:t.beforeUploadPic},on:{preview:t.handlePreview,change:function(e){return t.handleChangePic(e,a)}}},[i("div",[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text",staticStyle:{"font-size":"12px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t上传图片\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)])],1):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"phone"!=e.key&&"company"!=e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:e.value,placeholder:"请输入"+e.title},on:{change:function(a){return t.changeInput(a.target.value,e.fieldid)}}}):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"phone"==e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:t.phone2,placeholder:"请输入手机号"},on:{change:function(a){return t.changeSpecialInput(a.target.value,e.key)}}}):t._e(),2!=e.type&&3!=e.type&&7!=e.type&&4!=e.type&&8!=e.type&&"company"==e.key?i("a-input",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{defaultValue:t.company2,placeholder:"请输入公司"},on:{change:function(a){return t.changeSpecialInput(a.target.value,e.key)}}}):t._e(),7==e.type?i("a-cascader",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{options:t.cityData,defaultValue:e.provice,placeholder:"请选择"+e.title},on:{change:function(a){return t.changeArea(a,e.fieldid)}}}):t._e(),4==e.type?[""==e.data?i("a-date-picker",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{placeholder:"请选择"+e.title,allowClear:!1},on:{change:function(a){return t.selectDate(a,e.fieldid)}}}):t._e(),""!=e.data?i("a-date-picker",{staticStyle:{width:"35%",float:"right","margin-top":"4px"},attrs:{placeholder:"请选择"+e.title,defaultValue:t.moment(e.data),allowClear:!1},on:{change:function(a){return t.selectDate(a,e.fieldid)}}}):t._e()]:t._e()]:t._e()],2)})),0)])],1)],1)],1)])],1)],1),i("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[i("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})]),i("a-modal",{attrs:{title:"打标签",confirmLoading:t.confirmLoading2,width:"800px"},on:{ok:t.handleOk,cancel:t.cancelVisible},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("corpChooseTag",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.tagCheckValue}})],1)],1)},s=[],n=(a("20d6"),a("75fc")),r=(a("a481"),a("ac4d"),a("8a81"),a("ac6a"),a("28a5"),a("7f7f"),a("96cf"),a("3b8d")),o=a("0f2e"),l=a("c1df"),c=a.n(l),d=(a("5c3a"),a("af86")),p=a.n(d),h=a("0cfc");function u(t){return new Promise((function(e,a){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)}}))}c.a.locale("zh-cn");var g={components:{corpChooseTag:h["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,isLoading:!1,commonUrl:this.$store.state.commonUrl,remarkVisible:!1,confirmLoading2:!1,id:"",avatar:p.a,name:"",corp_name:"",nickname:"",gender:"",followTitle:"",is_follow_del:"",phone:"",phone2:"",company:"",company2:"",area:"",des:"",visible:!1,hasTags:[],hasTagsValue:[],tagCheckValue:[],desVisible:!1,imageUrl3:"",file3:"",desImgLoading:!1,desText:"",follow_id:"",followStatus:"",follows:[],closeRateVisible:!1,close_rate:"",follow_time:"",follow_times:[],follow_num:"",memberInfo:"",chatName:[],field_list:[],fieldData:[],badicInfoVisible:!1,projectList:[],cityData:o["a"],moment:c.a,followRecord:[],imageUrl:[],file:[],imgNum:0,msg:"",previewVisible:!1,previewImage:"",isImg:!0,submitDisabled:!0,record_id:"",editVisible:!1,imageUrl2:[],file2:[],imgNum2:0,msg2:"",previewVisible2:!1,previewImage2:"",isImg2:!0,submitDisabled2:!0,total:1,quickJumper:!1,page:1,pageSize:15,status:[],interactList:[],picFile:{},isImg3:!0,page2:1,btnFlag:1,tabKey:"1",isMasterAccount:localStorage.getItem("isMasterAccount"),canEdit:1,isShowTag:!0}},methods:{goBack:function(){this.$router.go(-1)},getInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.axios.post("public-sea-customer/custom-detail",{uid:localStorage.getItem("uid"),cid:this.id,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id")});case 3:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.message)):(this.isLoading=!1,this.name=a.data.name,this.corp_name=a.data.corp_name,this.nickname=a.data.nickname,this.gender=a.data.gender,this.phone=a.data.phone,this.company=a.data.company,this.followTitle=a.data.follow_title,this.is_follow_del=a.data.is_follow_del,this.area=a.data.area,this.des=a.data.des,this.file3=a.data.path,this.hasTags=[],this.tagCheckValue=[],this.hasTagsValue=[],a.data.tag_name.map((function(t){i.hasTags.push(t.tid),i.tagCheckValue.push(t.tid),i.hasTagsValue.push(t.tname)})),this.follow_id=JSON.parse(JSON.stringify(a.data.follow_id)),""==this.follow_id&&(this.follow_id=this.follows[0]&&this.follows[0].id?this.follows[0].id:""),this.status=this.follow_id,this.followStatus=this.follow_id,this.close_rate=a.data.close_rate,this.follow_time=a.data.follow_time,this.follow_times=a.data.follow_times,this.follow_num=a.data.follow_num,this.memberInfo=a.data.memberInfo,this.chatName=a.data.chat_name,this.getFollowStatus(),this.field_list=a.data.field_list,this.field_list.map((function(t){2==t.type||3==t.type?(t.optionVal2=t.optionVal.split(","),2==t.type?""==t.value?t.hasOption=t.value.split(""):t.hasOption=t.value:3==t.type&&""!=t.value&&(t.hasOption=t.value.split(","))):7==t.type?""==t.value?t.provice=[]:t.provice=t.value.split("-"):4==t.type&&(t.data=t.value)})),this.fieldData=a.data.field_list,this.projectList=a.data.project);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modifyRemark:function(){this.remarkVisible=!this.remarkVisible},setRemark:function(t){var e=this;if(t.length>10)return e.$message.warning("备注不可超过10个字"),!1;this.editInfo(t,"nickname")},editInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("public-sea-customer/custom-update",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),cid:this.id,type:a,value:e,path:this.imageUrl3});case 2:i=t.sent,s=i.data,0==s.error?("nickname"==a?this.remarkVisible=!this.remarkVisible:"des"==a?this.desVisible=!1:"close_rate"==a&&(this.closeRateVisible=!this.closeRateVisible),this.getInfo(),2==this.tabKey&&this.getInteract()):this.$message.error(s.error_msg);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),showModal:function(){this.visible=!0,this.tagCheckValue=JSON.parse(JSON.stringify(this.hasTags))},modalVisibleChange4:function(t,e){"ok"==t&&(this.tagCheckValue=""==e?[]:e.split(","))},handleOk:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.confirmLoading2=!0,t.next=3,this.axios.post("public-sea-customer/give-user-tags",{tag_ids:this.tagCheckValue,user_ids:this.id,type:0,bitch_all:1});case 3:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading2=!1):(this.$message.success(a.error_msg),this.visible=!1,this.confirmLoading2=!1,this.getInfo());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelVisible:function(){this.visible=!1,this.tagCheckValue=[]},showDesVisible:function(){this.desText=this.des,this.imageUrl3=this.file3,this.desVisible=!0},desVisibleCancel:function(){this.desVisible=!1},setDetail:function(){if(this.desText.length>150)return this.$message.warning("描述不可超过150个字"),!1;this.editInfo(this.desText,"des")},uploadMaterial3:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),t.next=5,this.axios.post("sub-user/upload-image",a);case 5:i=t.sent,s=i.data,0==s.error?s.data&&(this.imageUrl3=s.data.local_path,this.desImgLoading=!1):(this.$message.error(s.error_msg),this.desImgLoading=!1);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload3:function(t){if(this.desImgLoading=!0,"image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.desImgLoading=!1,!1;var e=t.size/1024/1024<2;return e?t.size<5?(this.$message.error("上传文件大小不符！"),this.desImgLoading=!1,!1):(this.uploadMaterial3(t),e):(this.$message.error("图片不超过2M！"),this.desImgLoading=!1,!1)},modifyCloseRate:function(){this.closeRateVisible=!this.closeRateVisible},setCloseRate:function(t){var e=/^(?:0|[1-9][0-9]?|100)$/;return t>100?(this.$message.warning("成交率不可超过100"),!1):null==t||""==t||e.test(t)?void this.editInfo(t,"close_rate"):(this.$message.warning("成交率必须为0-100正整数"),!1)},editBadicInfo:function(){this.fieldData=JSON.parse(JSON.stringify(this.field_list));for(var t=0;t<this.field_list.length;t++){if(this.field_list[t]["picUrl"]=[],8==this.field_list[t].type&&this.field_list[t].value){var e=!0,a=!1,i=void 0;try{for(var s,n=this.field_list[t].value[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var r=s.value;this.field_list[t]["picUrl"].push({uid:r.uid,url:this.commonUrl+r.url,status:r.status,name:"image.png"})}}catch(l){a=!0,i=l}finally{try{e||null==n.return||n.return()}finally{if(a)throw i}}}if("phone"==this.field_list[t].key&&this.phone){var o=JSON.parse(JSON.stringify(this.phone));this.phone2=o.replace(/,/g," ")}"company"==this.field_list[t].key&&this.company&&(this.company2=JSON.parse(JSON.stringify(this.company)))}this.badicInfoVisible=!0},handleChange:function(t,e){var a=Object(n["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t,this.field_list=a)},handleChange2:function(t,e){var a=Object(n["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.join(","),this.field_list=a)},changeInput:function(t,e){var a=Object(n["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t,this.field_list=a)},changeSpecialInput:function(t,e){"phone"==e?this.phone2=t:"company"==e&&(this.company2=t)},changeArea:function(t,e){var a=Object(n["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.join("-"),this.field_list=a)},selectDate:function(t,e){var a=Object(n["a"])(this.field_list),i=a.filter((function(t){return e===t.fieldid}))[0];i&&(i.value=t.format("YYYY-MM-DD"),this.field_list=a)},disabledStartDate:function(t){return t.valueOf()>(new Date).getTime()},submitBadicInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r,o,l,c,d,p,h,u,g,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,/^0\d{2,3}-?\d{7,8}$/,e=/[^+|-|\d]/,a=/^\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}$/,i=JSON.parse(JSON.stringify(this.field_list)),s=!0,n=0;case 7:if(!(n<this.field_list.length)){t.next=59;break}if("phone"!=this.field_list[n].key){t.next=27;break}for(r=this.phone2.split(" "),o=r.length-1;o>=0;o--)""==r[o]&&r.splice(o,1);if(!(r.length>5)){t.next=15;break}return this.$message.error("手机号不能多于5个！"),s=!1,t.abrupt("return",!1);case 15:l=0;case 16:if(!(l<r.length)){t.next=24;break}if(!e.test(r[l])){t.next=21;break}return this.$message.error("手机号格式不正确！"),s=!1,t.abrupt("return",!1);case 21:l++,t.next=16;break;case 24:if(s){t.next=26;break}return t.abrupt("return",!1);case 26:i[n].value=r.join();case 27:if("company"==this.field_list[n].key&&(i[n].value=this.company2),6!=i[n].type||""==i[n].value){t.next=33;break}if(a.test(i[n].value)){t.next=33;break}return this.$message.error("邮箱格式不正确！"),s=!1,t.abrupt("return",!1);case 33:if(8!=i[n].type){t.next=55;break}for(c=!0,d=!1,p=void 0,t.prev=37,h=i[n].picUrl[Symbol.iterator]();!(c=(u=h.next()).done);c=!0)g=u.value,g.url=g.url.replace(this.commonUrl,""),delete g.response,delete g.xhr,delete g.percent;t.next=45;break;case 41:t.prev=41,t.t0=t["catch"](37),d=!0,p=t.t0;case 45:t.prev=45,t.prev=46,c||null==h.return||h.return();case 48:if(t.prev=48,!d){t.next=51;break}throw p;case 51:return t.finish(48);case 52:return t.finish(45);case 53:i[n].value=JSON.parse(JSON.stringify(i[n].picUrl)),delete i[n].picUrl;case 55:"undefined"==typeof i[n].value&&(i[n].value="");case 56:n++,t.next=7;break;case 59:if(s){t.next=61;break}return t.abrupt("return",!1);case 61:return t.next=63,this.axios.post("public-sea-customer/custom-field-update",{uid:localStorage.getItem("uid"),cid:this.id,fieldData:i});case 63:f=t.sent,m=f.data,0!=m.error?this.$message.error(m.error_msg):(this.badicInfoVisible=!1,this.getInfo());case 66:case"end":return t.stop()}}),t,this,[[37,41,45,53],[46,,48,52]])})));function e(){return t.apply(this,arguments)}return e}(),cancleBadicInfo:function(){this.badicInfoVisible=!1,this.field_list=JSON.parse(JSON.stringify(this.fieldData))},changeTab:function(t){2==t?(this.btnFlag=1,this.getInteract(1)):1==t&&this.getFollowRecord()},getFollowRecord:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize,this.isLoading=!0,t.next=5,this.axios.post("public-sea-customer/follow-record",{isMasterAccount:localStorage.getItem("isMasterAccount"),uid:localStorage.getItem("uid"),cid:this.id,sub_id:localStorage.getItem("sub_id"),page:e,page_size:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading=!1,this.$message.error(s.error_msg)):(this.isLoading=!1,this.total=parseInt(s.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize,this.followRecord=s.data.followRecord);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getFollowRecord(t,e)},showSizeChange:function(t,e){this.getFollowRecord(1,e)},changeTextarea:function(){""==this.msg&&0==this.file.length?this.submitDisabled=!0:this.submitDisabled=!1},handleCancel:function(){this.previewVisible=!1},beforeUploadPic:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("image/png"==e.type||"image/jpg"==e.type||"image/jpeg"==e.type){t.next=4;break}return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg3=!1,t.abrupt("return",!1);case 4:if(a=e.size/1024/1024<2,a){t.next=11;break}return this.$message.error("图片不超过2M！"),this.isImg3=!1,t.abrupt("return",!1);case 11:if(!(e.size<5)){t.next=15;break}return this.$message.error("上传文件大小不符！"),this.isImg3=!1,t.abrupt("return",!1);case 15:return this.isImg3=!0,i=new FormData,i.append("uid",localStorage.getItem("uid")),i.append("fileInfo",e),t.next=21,this.axios.post("sub-user/upload-image",i);case 21:if(s=t.sent,n=s.data,0!=n.error){t.next=29;break}if(!n.data){t.next=27;break}return this.picFile={uid:e.uid,url:this.commonUrl+n.data.local_path,status:"done"},t.abrupt("return",a);case 27:t.next=30;break;case 29:this.$message.error(n.error_msg);case 30:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleChangePic:function(t,e){if("removed"==t.file.status&&this.field_list[e]["picUrl"].splice(this.field_list[e]["picUrl"].findIndex((function(e){return e.url==t.file.url})),1),"done"==this.picFile.status){var a=this.field_list[e]["picUrl"].findIndex((function(e){return t.file==e}));-1!=a?this.field_list[e]["picUrl"].splice(a,1):this.field_list[e]["picUrl"].push(this.picFile)}var i=!0,s=!1,n=void 0;try{for(var r,o=this.field_list[e]["picUrl"][Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var l=r.value;"error"==l.status&&(l.status="done")}}catch(c){s=!0,n=c}finally{try{i||null==o.return||o.return()}finally{if(s)throw n}}this.picFile={}},preview:function(t){this.previewImage=t,this.previewVisible=!0},handlePreview:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,u(e.originFileObj);case 3:e.preview=t.sent;case 4:this.previewImage=e.url||e.preview,this.previewVisible=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeMsg:function(t){-1!=this.imageUrl.indexOf(t.file)&&this.file.splice(this.imageUrl.indexOf(t.file),1),this.isImg&&(this.imageUrl=t.fileList,this.imgNum=t.fileList.length);var e=!0,a=!1,i=void 0;try{for(var s,n=this.imageUrl[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var r=s.value;"error"==r.status&&(r.status="done")}}catch(o){a=!0,i=o}finally{try{e||null==n.return||n.return()}finally{if(a)throw i}}0==this.file.length&&""==this.msg&&(this.submitDisabled=!0)},uploadMaterial:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitDisabled=!0,a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),t.next=6,this.axios.post("sub-user/upload-image",a);case 6:i=t.sent,s=i.data,0==s.error?s.data&&(this.file.push(s.data.local_path),this.submitDisabled=!1):(this.$message.error(s.error_msg),this.submitDisabled=!1);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload:function(t){if("image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg=!1,!1;var e=t.size/1024/1024<2;return e?t.size<5?(this.$message.error("上传文件大小不符！"),this.isImg=!1,!1):(this.isImg=!0,this.uploadMaterial(t),e):(this.$message.error("图片不超过2M！"),this.isImg=!1,!1)},previewHasImg:function(t){this.previewImage=t,this.previewVisible=!0},submitFollowRecord:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="",a=[],""!=this.record_id){t.next=10;break}if(e=this.msg,a=this.file,""!=e.trim()||0!=a.length){t.next=8;break}return this.$message.error("跟进内容和附件至少要填写一个！"),t.abrupt("return",!1);case 8:t.next=15;break;case 10:if(e=this.msg2,a=this.file2,""!=e.trim()||0!=a.length){t.next=15;break}return this.$message.error("跟进内容和附件至少要填写一个！"),t.abrupt("return",!1);case 15:if(i=0,i=this.editVisible?this.status:this.follow_id,""!=i){t.next=20;break}return this.$message.warning("请选择跟进状态！"),t.abrupt("return",!1);case 20:s=0;case 21:if(!(s<this.follows.length)){t.next=32;break}if(this.follows[s].id!=i){t.next=29;break}if(0!=this.follows[s].status){t.next=28;break}return this.$message.warning("跟进状态已被删除，请更换！"),t.abrupt("return",!1);case 28:return t.abrupt("break",32);case 29:s++,t.next=21;break;case 32:return t.next=34,this.axios.post("public-sea-customer/follow-record-set",{isMasterAccount:localStorage.getItem("isMasterAccount"),corp_id:this.corpId,uid:localStorage.getItem("uid"),cid:this.id,sub_id:localStorage.getItem("sub_id"),record_id:this.record_id,record:e,file:a,follow_id:i});case 34:n=t.sent,r=n.data,0!=r.error?this.$message.error(r.error_msg):(localStorage.setItem("followid",i),this.submitDisabled=!0,this.msg="",this.file=[],this.record_id="",this.imageUrl=[],this.imgNum=0,this.msg2="",this.file2=[],this.imageUrl2=[],this.imgNum2=0,this.editVisible=!1,this.getFollowRecord(),this.canEditFollow(),this.getInfo());case 37:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editFollowRecord:function(t){var e=this;this.editVisible=!0,this.record_id=t.id,this.msg2=t.record,this.file2=JSON.parse(JSON.stringify(t.file)),t.file.map((function(t,a){var i={uid:a,name:"image.png",status:"done",url:e.commonUrl+t};e.imageUrl2.push(i)})),this.imgNum2=t.file.length},cancelFollowRecord:function(){this.editVisible=!1,this.record_id="",this.status=this.followStatus,this.msg2="",this.file2=[],this.imageUrl2=[],this.imgNum2=0},handleCancel2:function(){this.previewVisible2=!1},handlePreview2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,u(e.originFileObj);case 3:e.preview=t.sent;case 4:this.previewImage2=e.url||e.preview,this.previewVisible2=!0;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),changeMsg2:function(t){-1!=this.imageUrl2.indexOf(t.file)&&this.file2.splice(this.imageUrl2.indexOf(t.file),1),this.isImg2&&(this.imageUrl2=t.fileList,this.imgNum2=t.fileList.length);var e=!0,a=!1,i=void 0;try{for(var s,n=this.imageUrl2[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var r=s.value;"error"==r.status&&(r.status="done")}}catch(o){a=!0,i=o}finally{try{e||null==n.return||n.return()}finally{if(a)throw i}}},uploadMaterial2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("fileInfo",e),t.next=5,this.axios.post("sub-user/upload-image",a);case 5:i=t.sent,s=i.data,0==s.error?s.data&&this.file2.push(s.data.local_path):this.$message.error(s.error_msg);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),beforeUpload2:function(t){if("image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),this.isImg2=!1,!1;var e=t.size/1024/1024<2;return e?t.size<5?(this.$message.error("上传文件大小不符！"),this.isImg2=!1,!1):(this.isImg2=!0,this.uploadMaterial2(t),e):(this.$message.error("图片不超过2M！"),this.isImg2=!1,!1)},getInteract:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,this.isLoading=!0,t.next=4,this.axios.post("public-sea-customer/custom-track",{isMasterAccount:localStorage.getItem("isMasterAccount"),uid:localStorage.getItem("uid"),cid:this.id,sub_id:localStorage.getItem("sub_id"),page:e,page_size:15});case 4:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.isLoading=!1,this.page2=e,i.data.length<15?this.btnFlag=2:this.btnFlag=1,this.interactList=1==e?i.data:this.interactList.concat(i.data));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){this.page2++,this.getInteract(this.page2)},getFollowStatus:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("custom-field/follow",{uid:localStorage.getItem("uid"),status:1});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.follows=a.data.follow,1==this.is_follow_del&&(i={id:this.follow_id,title:this.followTitle,status:0},this.follows.unshift(i)));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),canEditFollow:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("wait-project/can-edit-follow",{cid:this.id,type:0});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):this.canEdit=a.data.can_edit_follow;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){if("all"==localStorage.getItem("permissionButton"))this.isShowTag=!0;else{var t=localStorage.getItem("permissionButton").split(",");t.indexOf("client-add-tag")>-1&&t.indexOf("client-remove-tag")>-1?this.isShowTag=!0:this.isShowTag=!1}this.id=this.$route.query.id,this.getInfo(),this.getFollowRecord(),this.canEditFollow()}},f=g,m=(a("9826"),a("2877")),v=Object(m["a"])(f,i,s,!1,null,"e9e2608a",null);e["default"]=v.exports},cf8c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABNUlEQVR4Ae3UJVBEURgF4O0Fd6fh2mc7bpGEVJxKT0+wSKdn3ApOpHecdp7M6l39mTnY3jPzXO53NaCjo/NXUm5hrdzEfjZbhYXZfAP5bAwkW6mB4e/ATJQbCKbdQu97RzpG8k0IxMdU2uiqsDDp3lsqM9GfDkTH+F1i4k0ZLzupQFyMjeaY+5/u9hi5NrCaAsQbM+71duj+RYWBbu+eN71D925TgwiYEGg/WUHhb1KDCBh+C31haleso9d9/pxsDJVZmE4NIq4zZSYG3e1EmWW7ysB/8JEG5nkYFWagscJCT+0WCpJhvGOxgYqsf1hqol2OSR0V412LfuD1ueBjGkadNVfKTwgY5s/k3/NR8u/4KDmGgJJjaCg5ho8SYvgoIYaPkmH4qIsQ5kKAIcMMBAM6vyg6DgvMgUSPLEbUAAAAAElFTkSuQmCC"},da1d:function(t,e,a){var i=a("2e86");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("466f3054",i,!0,{sourceMap:!1,shadowMode:!1})},eacd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABCklEQVR4Ae2YIUzFMBCG6yUJ40gQeIEPahYf/CTBzgeNWa8zyBkUkgQ9771P8P6HW+pe057YW7eX+5M/FZfcvnTr7XpOKxN5tDcMT4w5a4+RRlwr8j0R46eYj9HLs08TSIABlSVBQRTwps0nG5ECElpU2CHImgVyG6k2kAEZkAF9LcGA730AebQSkHUroFjNZ1nd4WUixrO8y83NeCWP+xTQ9G9U8pQ6Ze+VYH7Jo3OXImv0u1y72QQ8nqNaJwO3A140H2HDeFix1HwsTX7AZ+ZHV/S8i/bj0EAGZEBp64DuBlzFdjh57ZYjrr1K98pBQ1eaoiQHE7EI6ocNinGMFE8nWneH+ghtUukPTuuHppEi1WAAAAAASUVORK5CYII="},f180:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABlklEQVR4Ae3XtZYUURAGYNzd2nCHlJxXICLDMh4D4rEW3GPc3WHd3Z5g040m/LfubM1qn6mVrlm95/wjfe1r7162VOZ9sSOctkNcSyJx48fUC5gA7ZRPGiAa95kToK9QH6CDft8vCeKGVSpbnjAUFP97N3Hc/N/lwykNoihhXlAeM6o4X6cT4owCSMS8XXYdK8x/K0DOoGwfV+i7Tt5llIQxH49GWBtzaIByvjwgxlghvlppbJQxyiDeMj+3+dgmY5RBjPnrZrBLxiiD+DpTyaeyjFEDMYb61rpZ7JsUhuucEEHiIN5NjdYNHJIwMfW/EwUxptXL4riMUQY5Pi7SgAPmHihjlEHcPk0DfhEw5QOZC1+xvRdhr4zR3kIB+vneVEWBjNEHPbN83HMCXKWctSPs5qryg+SiDPJuYqepm05M3+RBWRy3fLyhAfKUJ5NM3vQh0PGFvsu43sfB6UQFZOVwjjpjOjF9F+QuWwLpvygKhW85N6RX6Q7LH7ppqibAJ0q7mVN8v3cCPDSbUjOFOUYwS2X+lkFzjgPmr6lCCAAAAABJRU5ErkJggg=="},fee6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABIUlEQVR4Ae3WgUYFQRQG4H2KZmYfIUEQBEEIgiQIgiAIQlAAAjOzL7AALAABmJdYRIJCEARB+JsJrFXO3bNnrGUOP+A/Ptfemalyj3Y4jQkxnW6wTTfyYzBIn1DLYwjUuNjGgJGWgaFRTMxvaAyNEgfRGBolDqIxNEoQNMbwUQIgAsNAzQdZPAuBUoLEL9QLgrrZIOVwJoR5Uh47Ih+1cTifiXmpG+zK/u09Lph7XnWDvSwHo/G4nLjjvbbYz3t1WFxt2P/QFgfZ77I0xuKa6H5uORz+WdYe9wzMY+oRz4+bf7pf2uKoWmKUx+0I860cjpd+Nd7FvKUT3TicVKsb5jeE1BPYkxJyvYeCxJ4CKqACKqACKqD1g2Rv+zA5Fg/DPT9wWHjy55HrfQAAAABJRU5ErkJggg=="},ff27:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABx0lEQVR4AeyWNZRUQRBFC3eXLxDhDhFuCRYhCe4e4kS42xckg4gEd7cQJyIbQojwtfRt9WqfGnf795y3OzMt9dqqmwICMs0gH+2Mc1jC2mt62J8Vudhl+VjU5yI6UyxMHyO48lcWciIPP/p6mEyR6OvCEA2+sd5kQ4aL73qsHifQjSSWi+ONFSwPCynLWA6WazN1kiRccL2hwjvKEYaHZyomz9idSIbeNLjdTzmiYYOD9SYwVPqG+p9DT8vDpoib08UE+xxmRztNKqVk1BB3ulLPG8LM7cbfDQ9XRZ9okoN5GTOkMqreuRo1MX19DJTZl2eyHzFqNoWhUCYN3RdBe2rtKrSy31EzvwM/o3tIdahmSi0fafS5iEHc7jHrE5sYI9rMY4XUgIJjHxgKDHHhJZn4so32Hrosy2QiqzQcLOUjO1NKHW3OQx0oAn0cjIvURsrwsIFj1GgZflnMB1MC2kE6B9CSfzvPQgq6Hm9d13KlL6zqSB3IfWY5GG55eJGkiSrWh7T3q9z4toMF/PlXQ5Aa08dWyhXSEO+FQ9qIP1guplOuUY/xBgMPNDNXtMs2t6iZEc+Q7ZRv1A2ujKlbnsqegNoNRgAAgM9f9nS6XlAAAAAASUVORK5CYII="}}]);