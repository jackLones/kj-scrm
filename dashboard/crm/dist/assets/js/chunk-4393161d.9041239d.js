(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4393161d"],{"0094":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?a("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[a("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),a("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,r){return["scene"!=t.routeName&&"template"!=t.routeName?[a("a-radio-group",{on:{change:function(i){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[a("a-radio-button",{attrs:{value:e.corpid}},[a("div",[a("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:i("de05"),alt:""}}),a("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[a("a-radio-group",{on:{change:function(i){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[a("a-radio-button",{attrs:{value:e.corpid}},[a("div",[a("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),a("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},r=[],o=(i("7f7f"),i("28a5"),i("96cf"),i("3b8d")),n=(i("7514"),i("bc3a")),s=i.n(n),c=i("f64c"),d={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i,a,r,o,n,d,l,p=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,i=e.data,0!=i.error){t.next=34;break}if(!(i.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(a=this.hasName.split(","),!(a.length>0)){t.next=22;break}r=!0,o=0;case 11:if(!(o<a.length)){t.next=19;break}if(-1!=i.data.indexOf(a[o])){t.next=16;break}return c["a"].error("该企业微信未配置相关功能权限，无法选择"),r=!1,t.abrupt("return",!1);case 16:o++,t.next=11;break;case 19:r&&(this.showModal=!1,n=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",n),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,n.corp_name)),t.next=23;break;case 22:-1==i.data.indexOf(this.hasName)?c["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,l=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",l),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,l.corp_name);case 29:t.next=32;break;case 31:c["a"].error("无权限");case 32:t.next=35;break;case 34:c["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},l=d,p=(i("ffd5"),i("2877")),h=Object(p["a"])(l,a,r,!1,null,"440e9184",null);e["a"]=h.exports},"203a":function(t,e,i){var a=i("9d91");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("499e").default;r("55f4c3c5",a,!0,{sourceMap:!1,shadowMode:!1})},"2c75":function(t,e,i){t.exports=i.p+"assets/img/token.e3f53cc5.png"},"2f68":function(t,e,i){"use strict";var a=i("9fc7"),r=i.n(a);r.a},"467b":function(t,e,i){"use strict";var a=i("203a"),r=i.n(a);r.a},"59fe":function(t,e,i){var a=i("b6ee");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("499e").default;r("2af37125",a,!0,{sourceMap:!1,shadowMode:!1})},6682:function(t,e,i){e=t.exports=i("2350")(!1),e.i(i("83fb"),""),e.i(i("9249"),""),e.push([t.i,"[data-v-ceccb9c0] .ant-divider-horizontal{margin:5px 0 15px}.content-msg[data-v-ceccb9c0]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:0 0 15px 0;text-align:left}.content-msg a[data-v-ceccb9c0]:link,.content-msg a[data-v-ceccb9c0]:visited{color:#1890ff;text-decoration:none}.item-info[data-v-ceccb9c0] p{margin:0;word-break:break-word}.hide[data-v-ceccb9c0]{display:none!important}#components-layout-demo-basic[data-v-ceccb9c0]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-ceccb9c0]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:760px;width:100%;line-height:50px}[data-v-ceccb9c0] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-ceccb9c0] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}[data-v-ceccb9c0] .ant-col-15{margin-left:15px}[data-v-ceccb9c0] .ant-card-meta-avatar{float:right;padding:0}#components-layout-demo-basic .ant-layout-content[data-v-ceccb9c0]{min-width:760px;width:100%;position:relative}.content[data-v-ceccb9c0]{border:1px solid #e2e2e2;min-width:760px;position:absolute;top:20px;left:20px;right:20px;background-color:#fafafa;margin-bottom:20px}#components-layout-demo-basic>.ant-layout[data-v-ceccb9c0]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-ceccb9c0]:last-child{margin:0;height:100%}.list[data-v-ceccb9c0]{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;overflow-x:hidden;overflow-y:auto}.content-hd[data-v-ceccb9c0]{height:80px;padding:20px 0;max-width:900px;border-bottom:1px solid #e2e2e2}.content-bd[data-v-ceccb9c0]{background:#fafafa;max-width:900px}.msg_content_body[data-v-ceccb9c0]{border-radius:4px;font-size:14px;color:#333;margin:20px}[data-v-ceccb9c0] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}.pull-left[data-v-ceccb9c0]{width:88px}.push-type-item[data-v-ceccb9c0]{position:relative;margin-bottom:8px;border:1px solid #d8d8d8;border-right:0;z-index:1;cursor:pointer;line-height:38px}.active[data-v-ceccb9c0]{background:#fff;margin-right:-1px}.type[data-v-ceccb9c0]{display:inline-block;width:65px;border-right:1px solid transparent;text-align:center}.add-new[data-v-ceccb9c0]{background:#f9f9f9;cursor:pointer}.add-icon[data-v-ceccb9c0]{font-size:12px;width:30px}.add-btn[data-v-ceccb9c0],.add-icon[data-v-ceccb9c0]{float:left;height:38px;line-height:38px;text-align:center;border:1px dashed #d8d8d8;border-right:0}.add-btn[data-v-ceccb9c0]{width:58px}.pull-right[data-v-ceccb9c0]{width:560px;max-height:574px;height:360px;background:#fff;border:1px solid #d8d8d8;padding:24px;overflow:auto}.fl[data-v-ceccb9c0]{float:left}.msg_content_txt[data-v-ceccb9c0]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;float:left;word-break:break-word}.box[data-v-ceccb9c0]{float:right;width:46px;height:46px;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;border:2px solid #1890ff}.mt[data-v-ceccb9c0]{margin-bottom:15px;overflow:hidden}[data-v-ceccb9c0] #components-layout-demo-basic .ant-layout-sider{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 24%!important;flex:0 0 24%!important;max-width:24%!important;min-width:24%!important;width:24%!important;border-right:1px solid #e2e2e2;padding:20px 20px}.wrap[data-v-ceccb9c0]{border:1px solid #e2d6d6;margin:auto;width:100%;background:#f5f5f5;overflow-y:auto;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap[data-v-ceccb9c0],[data-v-ceccb9c0] .ant-layout,[data-v-ceccb9c0] .ant-spin-container,[data-v-ceccb9c0] .ant-spin-nested-loading{height:100%}.popover-menu[data-v-ceccb9c0]{cursor:pointer;text-align:center;display:inline-block;width:80px;border:1px solid rgba(0,0,0,.2)}.popover-menu1[data-v-ceccb9c0],.popover-menu2[data-v-ceccb9c0]{margin-left:10px}.popover-menu p[data-v-ceccb9c0]{margin-bottom:5px}.material[data-v-ceccb9c0]{max-width:80px;max-height:80px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.material-div[data-v-ceccb9c0]{display:inline-block;position:relative;width:100px;height:100px;border:1px dashed #d8d8d8}.clear-current-list[data-v-ceccb9c0]{display:inline-block;cursor:pointer;margin-left:10px;color:#1890ff}[data-v-ceccb9c0] .ant-form-item-control{margin-left:15px;margin-bottom:10px;padding:3px 15px}.upload-wrap[data-v-ceccb9c0]{width:96px;height:96px;text-align:center;border:1px dashed #d8d8d8;background:#fff;cursor:pointer;margin-bottom:10px;float:left}.upload-plus[data-v-ceccb9c0]{font-size:32px;line-height:96px;font-weight:300;color:#686868}.url-title[data-v-ceccb9c0]{white-space:nowrap;font-size:18px}.url-text[data-v-ceccb9c0],.url-title[data-v-ceccb9c0]{overflow:hidden;text-overflow:ellipsis}.url-text[data-v-ceccb9c0]{float:left;max-width:calc(100% - 74px);word-break:break-word;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.url-img[data-v-ceccb9c0]{float:right;width:64px;height:64px}.applet-title[data-v-ceccb9c0]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}[data-v-ceccb9c0] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:52px}.upload-border[data-v-ceccb9c0]{background:#fff;border:1px dotted #d8d8d8;height:110px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;margin-bottom:10px}.changeType-text[data-v-ceccb9c0]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.content-editable[data-v-ceccb9c0]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:110px;overflow:auto}.content-editable[data-v-ceccb9c0] p{margin:0;word-break:break-word}",""])},"83fb":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".medium-toolbar-arrow-under:after{border-color:#242424 transparent transparent transparent;top:50px}.medium-toolbar-arrow-over:before{border-color:transparent transparent #242424 transparent;top:-8px}.medium-editor-toolbar{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.75)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.75));border:1px solid #000;border-radius:5px;-webkit-box-shadow:0 0 3px #000;box-shadow:0 0 3px #000}.medium-editor-toolbar li button{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.89)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.89));border:0;border-right:1px solid #000;border-left:1px solid #333;border-left:1px solid hsla(0,0%,100%,.1);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.3);box-shadow:0 2px 2px rgba(0,0,0,.3);color:#fff;height:50px;min-width:50px;-webkit-transition:background-color .2s ease-in;transition:background-color .2s ease-in}.medium-editor-toolbar li button:hover{background-color:#000;color:#ff0}.medium-editor-toolbar li .medium-editor-button-first{border-bottom-left-radius:5px;border-top-left-radius:5px}.medium-editor-toolbar li .medium-editor-button-last{border-bottom-right-radius:5px;border-top-right-radius:5px}.medium-editor-toolbar li .medium-editor-button-active{background-color:#000;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(0,0,0,.89)));background:linear-gradient(180deg,#242424,rgba(0,0,0,.89));color:#fff}.medium-editor-toolbar-form{background:#242424;border-radius:5px;color:#999}.medium-editor-toolbar-form .medium-editor-toolbar-input{background:#242424;-webkit-box-sizing:border-box;box-sizing:border-box;color:#ccc;height:50px}.medium-editor-toolbar-form a{color:#fff}.medium-editor-toolbar-anchor-preview{background:#242424;border-radius:5px;color:#fff}.medium-editor-placeholder:after{color:#b3b3b1}",""])},9249:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s ease-in-out infinite;animation:medium-editor-image-loading 1s ease-in-out infinite;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;position:absolute;left:0;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-editor-placeholder-relative{position:relative}.medium-editor-placeholder-relative:after{content:attr(data-placeholder)!important;font-style:italic;position:relative;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0 8px}.medium-toolbar-arrow-over:before{border-width:0 8px 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s linear forwards;animation:medium-editor-pop-upwards .16s linear forwards}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}.medium-editor-element{word-wrap:break-word;min-height:30px}.medium-editor-element img{max-width:100%}.medium-editor-element sub{vertical-align:sub}.medium-editor-element sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},"9d91":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-e8503c8c] .ant-tag-checkable-checked{background-color:#1890ff!important;border-color:#1890ff!important;color:#fff!important}[data-v-e8503c8c] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-e8503c8c] .ant-form-item-control{margin-left:15px;margin-bottom:10px}[data-v-e8503c8c] .ant-tree-checkbox{float:right}[data-v-e8503c8c] .ant-tree-iconEle{display:none!important}[data-v-e8503c8c] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-e8503c8c] .ant-list-item{border-bottom:0;padding:0}[data-v-e8503c8c] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-e8503c8c] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-e8503c8c]{color:red;margin:0 20px 12px 0}.group-name[data-v-e8503c8c]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-e8503c8c]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}",""])},"9fc7":function(t,e,i){var a=i("6682");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("499e").default;r("72ab4b08",a,!0,{sourceMap:!1,shadowMode:!1})},b295:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{attrs:{id:"components-layout-demo-basic"}},[a("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[a("a-layout",[a("a-layout-header",[""==t.urlId?[t._v("员工违规提醒设置")]:t._e(),""!=t.urlId?[t._v("员工"),a("span",{staticStyle:{"font-weight":"700"}},[t._v("【"+t._s(t.name)+"】")]),t._v("违规提醒修改")]:t._e(),a("a-button",{staticStyle:{"font-size":"14px",float:"right","margin-right":"15px","margin-top":"7px",height:"32px","line-height":"16px"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("\n\t\t\t\t\t\t返回列表\n\t\t\t\t\t")])],2),a("a-layout-content",[a("div",{staticClass:"content"},[t.$store.state.corpArr.length>1?a("div",{staticClass:"content-hd"},[a("a-form",[a("a-form-item",{attrs:{label:"选择企业微信","label-col":{span:4},"wrapper-col":{span:20}}},[[a("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.changeCorp}},[a("img",{staticStyle:{width:"24px",margin:"-3px 6px 0 0"},attrs:{src:i("de05")}}),a("span",[t._v(t._s(t.corpName))]),""==t.urlId?a("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}}):t._e()],1),a("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])]],2)],1)],1):t._e(),a("div",{staticClass:"content-bd",staticStyle:{"padding-top":"20px"}},[a("a-form",[t.urlId?t._e():a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t员工触发\n\t\t\t\t\t\t\t\t\t")]),a("a-button",{staticStyle:{"min-width":"170px","margin-right":"5px"},on:{click:t.showDepartmentList1}},[t.chooseNum1>0?a("span",[t._v("已选择"+t._s(t.chooseUserNum1)+"名成员，"+t._s(t.chooseDepartmentNum1)+"个部门")]):a("span",[t._v("选择部门成员")])]),a("a-tooltip",{attrs:{placement:"bottom"}},[a("template",{slot:"title"},[a("span",[t._v("监控员工及其客户敏感词内容。")])]),a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],2),a("a-form-item",{attrs:{label:"选择应用","label-col":{span:4},"wrapper-col":{span:20}}},[a("a-select",{staticStyle:{width:"170px","margin-bottom":"15px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择应用"},on:{change:t.changeAgentId},model:{value:t.agentId,callback:function(e){t.agentId=e},expression:"agentId"}},[t._l(t.agentList,(function(e){return[a("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name))])]}))],2),a("div",{staticClass:"content-msg",staticStyle:{"font-size":"13px"}},[a("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),a("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),a("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t教程")])]),a("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t\t\t\t\t\t\t\t"),a("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[a("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])])],1),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t提醒通知成员\n\t\t\t\t\t\t\t\t\t")]),a("div",{staticStyle:{color:"#FF562D","line-height":"20px",margin:"11px 0"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t员工与员工的客户触发敏感词，系统会立即给相应的成员发消息提醒，提醒该员工或是该员工的客户可能出现违规行为。【不对群起效，只监控单聊】\n\t\t\t\t\t\t\t\t\t")]),a("a-checkbox",{model:{value:t.isLeader,callback:function(e){t.isLeader=e},expression:"isLeader"}},[t._v("对应部门负责人（按照企业微信组织架构）")]),a("a-checkbox",{model:{value:t.isUser,callback:function(e){t.isUser=e},expression:"isUser"}},[t._v("指定成员")]),t.isUser?a("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?a("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):a("span",[t._v("选择部门成员")])]):t._e()],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t触发敏感词\n\t\t\t\t\t\t\t\t\t")]),a("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showSensitiveWord}},[t.wordIds.length>0?a("span",[t._v("已选择"+t._s(t.wordIds.length)+"个敏感词")]):a("span",[t._v("选择敏感词")])])],2)],1)],1),a("div",{staticClass:"content-bd"},[a("a-form",[a("a-form-item",[a("div",{staticStyle:{"margin-top":"2px","margin-left":"17.25%"}},[a("a-button",{attrs:{type:"primary",disabled:t.createDisabled},on:{click:t.createNotice}},[[t._v("提交")]],2)],1)])],1)],1)]),a("a-modal",{attrs:{title:"选择敏感词",width:"888px!important"},on:{cancel:t.cancleSensitive},model:{value:t.sensitiveVisible,callback:function(e){t.sensitiveVisible=e},expression:"sensitiveVisible"}},[a("template",{slot:"footer"},[a("a-button",{on:{click:t.cancleSensitive}},[t._v("关闭")]),a("a-button",{attrs:{type:"primary"},on:{click:t.handleSensitive}},[t._v("确定")])],1),a("corpSensitiveWord",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.wordArr}})],2),a("a-modal",{attrs:{title:"开通会话存档流程图",width:"700px !important"},on:{cancel:t.cancleSetting},model:{value:t.settingVisible,callback:function(e){t.settingVisible=e},expression:"settingVisible"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.cancleSetting}},[t._v("关闭")])],1),a("img",{staticStyle:{width:"600px"},attrs:{src:i("2c75")}})],2),a("WeChatModal",{attrs:{show:t.showModal2,callback:t.modalVisibleChange}}),a("chooseDepartment",{ref:"user1",attrs:{show:t.showModalDepartment1,isAudit:"1",isAuditEdit:1,chooseNum:t.chooseNum1,noticeTitle:"只显示当前开启会话存档的企业成员。",departmentDisabled:1,callback:t.modalVisibleChange5}}),a("chooseDepartment",{ref:"user",attrs:{agentid:t.agentId,show:t.showModalDepartment,noticeTitle:"只展示在企业微信官方后台创建自建应用时，所设置的可见成员，只有他们才拥有接收违规提醒的权限。",chooseNum:t.chooseNum,departmentDisabled:1,callback:t.modalVisibleChange3}})],1)],1)],1)],1)])},r=[],o=(i("7f7f"),i("7514"),i("ac4d"),i("8a81"),i("ac6a"),i("7618")),n=(i("96cf"),i("3b8d")),s=i("c75b"),c=i("0094"),d=i("f34b"),l={components:{WeChatModal:c["a"],chooseDepartment:s["a"],corpSensitiveWord:d["a"]},data:function(){return{settingVisible:!1,commonUrl:this.$store.state.commonUrl,isLoading:!1,urlId:"",name:"",isAudit:"",suite_id:1,corpId:localStorage.getItem("corpId"),corpName:localStorage.getItem("corpName"),title:"",agentList:[],agentId:"",showModal2:!1,validity:1,createDisabled:!1,checkedList1:[],chooseNum1:0,chooseUserNum1:0,chooseDepartmentNum1:0,showModalDepartment1:!1,isLeader:!1,isUser:!1,checkedList:[],chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,showModalDepartment:!1,sensitiveVisible:!1,wordIds:[],wordArr:[]}},methods:{goBack:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId)},changeCorp:function(){this.$route.query.id||(this.showModal2=!0)},changeAgentId:function(){this.checkedList=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0},getAgentList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,agent_type:2,suite_id:this.suite_id});case 2:i=t.sent,a=i.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):(this.agentList=a.data,e&&this.$route.query.corpid==localStorage.getItem("corpId")?this.agentId=e:this.agentList.length>0&&(this.agentId=this.agentList[0].id));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showSensitiveWord:function(){this.wordArr=JSON.parse(JSON.stringify(this.wordIds)),this.sensitiveVisible=!0},handleSensitive:function(){this.wordIds=JSON.parse(JSON.stringify(this.wordArr)),this.sensitiveVisible=!1},cancleSensitive:function(){this.wordArr=[],this.sensitiveVisible=!1},modalVisibleChange4:function(t,e){"ok"==t&&(this.wordArr=e)},cancleSetting:function(){this.settingVisible=!1},addKey:function(){this.keyword.push({key:""})},deleteKey:function(t){this.keyword.splice(t,1)},showDepartmentList:function(){var t=[];this.checkedList.map((function(e){t.push(e.id)})),this.$refs.user.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.checkedList)),this.showModalDepartment=!0},showDepartmentList1:function(){if(1!=this.isAudit)return this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置员工违规!",2),!1;var t=[];this.checkedList1.map((function(e){t.push(e.id)})),this.$refs.user1.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user1.rightList=JSON.parse(JSON.stringify(this.checkedList1)),this.showModalDepartment1=!0},modalVisibleChange3:function(t,e,i,a,r){"ok"==t&&(this.checkedList=r,this.chooseNum=parseInt(i)+parseInt(a),this.chooseUserNum=i,this.chooseDepartmentNum=a),this.showModalDepartment=!1},modalVisibleChange5:function(t,e,i,a,r){"ok"==t&&(this.checkedList1=r,this.chooseNum1=parseInt(i)+parseInt(a),this.chooseUserNum1=i,this.chooseDepartmentNum1=a),this.showModalDepartment1=!1},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/user-remind-detail",{id:this.urlId});case 2:e=t.sent,i=e.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.agentId=i.data.agentid,this.getAgentList(this.agentId),this.isUser=i.data.remind_user.length>0,this.checkedList=i.data.remind_user,this.chooseNum=this.checkedList.length,this.checkedList.length>0&&(this.chooseUserNum=0,this.chooseDepartmentNum=0,this.checkedList.map((function(t){"custom"==t.scopedSlots.title?a.chooseUserNum++:"title"==t.scopedSlots.title&&a.chooseDepartmentNum++}))),this.chooseNum1=1,this.isLeader=1==i.data.is_leader,this.wordIds=i.data.word_ids,this.isLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createNotice:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,i,a,r,n,s,c,d,l,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.createDisabled=!0,1==this.isAudit){t.next=6;break}return this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置员工违规!",2),this.createDisabled=!1,t.abrupt("return",!1);case 6:if(e=[],0!=this.chooseNum1){t.next=12;break}return this.$message.destroy(),this.$message.warning("请选择指定人员"),this.createDisabled=!1,t.abrupt("return",!1);case 12:for(i=!0,a=!1,r=void 0,t.prev=15,n=this.checkedList1[Symbol.iterator]();!(i=(s=n.next()).done);i=!0)c=s.value,e.push(c.id);t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](15),a=!0,r=t.t0;case 23:t.prev=23,t.prev=24,i||null==n.return||n.return();case 26:if(t.prev=26,!a){t.next=29;break}throw r;case 29:return t.finish(26);case 30:return t.finish(23);case 31:if("object"!=Object(o["a"])(this.agentId)&&""!=this.agentList){t.next=36;break}return this.$message.destroy(),this.$message.warning("请选择应用"),this.createDisabled=!1,t.abrupt("return",!1);case 36:if(this.isLeader||this.isUser){t.next=41;break}return this.$message.destroy(),this.$message.warning("请选择通知人员"),this.createDisabled=!1,t.abrupt("return",!1);case 41:if(!this.isUser){t.next=49;break}if(0!=this.checkedList.length){t.next=47;break}return this.$message.destroy(),this.$message.warning("请选择通知指定人员"),this.createDisabled=!1,t.abrupt("return",!1);case 47:t.next=50;break;case 49:this.checkedList=[];case 50:if(0!=this.wordIds.length){t.next=55;break}return this.$message.destroy(),this.$message.warning("请选择敏感词"),this.createDisabled=!1,t.abrupt("return",!1);case 55:return d="",l={},""==this.urlId?(d="limit-word/user-remind-set",l={corp_id:this.corpId,agent_id:this.agentId,userIdArr:e,remind_user:this.checkedList,is_leader:this.isLeader?1:0,word_ids:this.wordIds}):(d="limit-word/user-remind-update",l={corp_id:this.corpId,id:this.urlId,agent_id:this.agentId,remind_user:this.checkedList,is_leader:this.isLeader?1:0,word_ids:this.wordIds}),t.next=60,this.axios.post(d,l);case 60:p=t.sent,h=p.data,0!=h.error?(this.createDisabled=!1,this.$message.error(h.error_msg)):(localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),""==this.urlId?this.$router.push("/violations/notice?agentId="+this.agentId):this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId));case 63:case"end":return t.stop()}}),t,this,[[15,19,23,31],[24,,26,30]])})));function e(){return t.apply(this,arguments)}return e}(),modalVisibleChange:function(t,e,i){"ok"==t&&this.corpId!=e&&(this.$store.dispatch("changeCorp",this.$store.state.corpArr.find((function(t){return t.corpid==e}))),this.corpId=e,this.corpName=i,this.chooseNum1=0,this.chooseUserNum1=0,this.chooseDepartmentNum1=0,this.checkedList1=[]),this.showModal2=!1}},mounted:function(){var t=this;this.$route.query.id&&(this.urlId=parseInt(this.$route.query.id)),this.$route.query.corpid==localStorage.getItem("corpId")&&(this.$route.query.agentid?this.agentId=this.$route.query.agentid:this.agentId=""),this.isAudit=this.$store.state.corpArr.find((function(e){return e.corpid==t.corpId})).isAudit,""!=this.urlId?(this.isLoading=!0,this.name=decodeURIComponent(this.$route.query.name),localStorage.setItem("notAllow",1),localStorage.setItem("backUrl","/archive/violationsNotice"),this.getDetail()):this.getAgentList(this.$route.query.agentid)}},p=l,h=(i("2f68"),i("2877")),u=Object(h["a"])(p,a,r,!1,null,"ceccb9c0",null);e["default"]=u.exports},b6ee:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},f34b:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{key:t.key,staticClass:"tabBox"},[i("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[i("a-popover",{attrs:{trigger:"hover"}},[i("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t所有分组\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t所有分组\n\t\t\t\t")])],1),i("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeAllWords(t.checkedAll)}},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("\n\t\t\t全部\n\t\t")])],1),t._l(t.groupList,(function(e,a){return[t.isMore||!t.isMore&&a<5?i("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.title&&""!=e.title?i("a-popover",{attrs:{trigger:"hover"}},[i("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")]):t._e()],1),e.children.length>0?i("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(i){return t.changeTeamWords(e.children,e.checkedAll)}},model:{value:e.checkedAll,callback:function(i){t.$set(e,"checkedAll",i)},expression:"item.checkedAll"}},[t._v("\n\t\t\t\t全部\n\t\t\t")]):t._e(),t._l(e.children,(function(r,o){return i("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeWords(r.id,a)}},model:{value:e.checked[o],callback:function(i){t.$set(e.checked,o,i)},expression:"item.checked[wordIndex]"}},[t._v("\n\t\t\t\t"+t._s(r.title)+"\n\t\t\t")])})),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-add",expression:"'sensitive-words-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px"},attrs:{icon:"plus"},on:{click:function(i){return t.createWord(e.id)}}},[t._v("\n\t\t\t\t新建敏感词\n\t\t\t")])],2):t._e()]})),t.groupList.length>0?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-group-add",expression:"'sensitive-words-group-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px","margin-right":"10px","margin-left":"16.7%"},attrs:{icon:"plus"},on:{click:t.addWordGroup}},[t._v("\n\t\t新建敏感词分组\n\t")]):t._e(),t.groupList.length>5?i("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),i("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),i("a-modal",{attrs:{title:"新建敏感词",confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),i("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return i("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])})),1)],2),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t敏感词名称\n\t\t\t")]),i("p",{staticStyle:{margin:"0px 0px 10px 0","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个敏感词名称最多6个字。同时新建多个敏感词时，请用“空格”隔开")]),i("a-input",{attrs:{placeholder:"请输入敏感词（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),i("a-modal",{attrs:{title:"新建敏感词分组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[i("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],1)],2)},r=[],o=(i("a481"),i("28a5"),i("6762"),i("2fdb"),i("96cf"),i("3b8d")),n=(i("ac4d"),i("8a81"),i("ac6a"),{name:"corpSensitiveWord",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{key:0,checkedAll:!1,corpId:t,groupList:[],word_arr:[],group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newWordList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:""}},watch:{hasChoose:{handler:function(t){var e=this;if("undefined"!=typeof t&&this.groupList.length){this.word_arr=JSON.parse(JSON.stringify(t));var i=0;this.checkedAll=!1,this.hasChoose.length>0?(this.hasChoose.map((function(t){e.groupList.map((function(e){e.children.map((function(i,a){t==i.id&&(e.checked[a]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var i=!0,a=!1,r=void 0;try{for(var o,n=e.checked[Symbol.iterator]();!(i=(o=n.next()).done);i=!0){var s=o.value;s||(e.checkedAll=!1)}}catch(c){a=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}}))})),this.groupList.map((function(t){i+=t.children.length})),i==this.hasChoose.length&&0!=i&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.groupList=JSON.parse(JSON.stringify(this.groupList)),this.key++}},deep:!0}},methods:{getWords:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i,a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/word-group",{uid:localStorage.getItem("uid"),is_system:0});case 2:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.groupList=i.data,this.groupList.map((function(t){t.checkedAll=!1,t.checked=[]})),this.checkedAll=!1,a=0,"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0?(this.word_arr=this.hasChoose,this.hasChoose.map((function(t){r.groupList.map((function(e){e.children.map((function(i,a){t==i.id&&(e.checked[a]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var i=!0,a=!1,r=void 0;try{for(var o,n=e.checked[Symbol.iterator]();!(i=(o=n.next()).done);i=!0){var s=o.value;s||(e.checkedAll=!1)}}catch(c){a=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}}))})),this.groupList.map((function(t){a+=t.children.length})),a==this.hasChoose.length&&0!=a&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.$forceUpdate());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAllWords:function(t){var e=this;t?(this.word_arr=[],this.groupList.map((function(t){t.children.map((function(t,i){e.word_arr.push(t.id)}))}))):this.word_arr=[],this.groupList=JSON.parse(JSON.stringify(this.groupList)),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeTeamWords:function(t,e){if(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e){var i=!0,a=!1,r=void 0;try{for(var o,n=t[Symbol.iterator]();!(i=(o=n.next()).done);i=!0){var s=o.value;-1==this.word_arr.indexOf(s.id)&&this.word_arr.push(s.id)}}catch(g){a=!0,r=g}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}}else{var c=!0,d=!1,l=void 0;try{for(var p,h=t[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var u=p.value,m=this.word_arr.indexOf(u.id);m>-1&&this.word_arr.splice(m,1)}}catch(g){d=!0,l=g}finally{try{c||null==h.return||h.return()}finally{if(d)throw l}}}null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeWords:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var i=String(t);this.word_arr.includes(i)?this.word_arr.remove(i):this.word_arr.push(i),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},createWord:function(t){this.group_id=t,this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var i=0;i<t.split(" ").length;i++){if(t.split(" ")[i].length>6)return e.$message.error("每个敏感词最多6个字"),e.confirmLoading3=!1,!1;t.split(" ")[i].length>0&&e.newWordList.push(t.split(" ")[i])}e.addWords(),e.inputValue="",e.newWordList=[],e.confirmLoading3=!1},addWords:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/set",{uid:localStorage.getItem("uid"),group_id:this.group_id,title:this.newWordList});case 2:e=t.sent,i=e.data,0!=i.error?(this.$message.error(i.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getWords(),this.checkedAll=!1,this.inputValue="",this.newWordList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addWordGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName=""},handleOk2:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:return this.confirmLoading=!0,t.next=8,this.axios.post("limit-word/group-add",{uid:localStorage.getItem("uid"),title:this.teamName});case 8:e=t.sent,i=e.data,0!=i.error?this.$message.error(i.error_msg):(this.teamName="",this.groupVisible=!1,this.getWords()),this.confirmLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getWords()}}),s=n,c=(i("467b"),i("2877")),d=Object(c["a"])(s,a,r,!1,null,"e8503c8c",null);e["a"]=d.exports},ffd5:function(t,e,i){"use strict";var a=i("59fe"),r=i.n(a);r.a}}]);