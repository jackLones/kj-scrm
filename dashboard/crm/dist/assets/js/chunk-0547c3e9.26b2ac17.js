(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0547c3e9"],{"0094":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{attrs:{title:"选择企业微信",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{height:"270px"}},[t.corpInfo[0]?i("a-select",{staticStyle:{width:"200px","margin-bottom":"20px","margin-left":"5px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeWx},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[t._l(t.corpInfo,(function(e){return[i("a-select-option",{attrs:{value:e.corpid}},[t._v("\n\t\t\t\t\t\t"+t._s(e.corp_name)+"\n\t\t\t\t\t")])]}))],2):t._e(),i("div",{staticClass:"wxtpl",staticStyle:{height:"230px"}},[t._l(t.corpInfo,(function(e,o){return["scene"!=t.routeName&&"template"!=t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("img",{staticStyle:{"border-radius":"4px",width:"32px"},attrs:{src:a("de05"),alt:""}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])])])],1)]:t._e(),"scene"==t.routeName||"template"==t.routeName?[i("a-radio-group",{on:{change:function(a){return t.changeWx2(e.corpid,e.corp_name)}},model:{value:t.changeBackground,callback:function(e){t.changeBackground=e},expression:"changeBackground"}},[i("a-radio-button",{attrs:{value:e.corpid}},[i("div",[i("a-avatar",{attrs:{src:e.head_img,shape:"square"}}),i("span",{staticClass:"text"},[t._v(t._s(e.corp_name))])],1)])],1)]:t._e()]}))],2)],1)])],1)},o=[],r=(a("7f7f"),a("28a5"),a("96cf"),a("3b8d")),n=(a("7514"),a("bc3a")),s=a.n(n),l=a("f64c"),c={name:"wxModal",props:{show:{type:Boolean,default:!1},callback:{type:Function,default:null},hasName:{type:String,default:""},type:{type:String,default:""},corpId1:{type:String,default:""},wxId:{type:String,default:""}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{showModal:!1,corpInfo:[],changeBackground:t,corpId:t,corpName:this.$store.state.corpName,routeName:""}},methods:{handleOk:function(){var t=this;if(2==localStorage.getItem("isMasterAccount"))this.getPermissionButton();else{this.showModal=!1;var e=this.corpInfo.find((function(e){return e.corpid==t.corpId}));this.$store.dispatch("changeCorp",e),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,e.corp_name)}},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel"),this.showModal=!1},changeWx:function(t){this.corpId=t},changeWx2:function(t,e){this.corpId=t,this.corpName=e},getPermissionButton:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o,r,n,c,d,p=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("sub-user/get-sub-user-authority",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),account_id:this.corpId,type:""!=this.type?this.type:localStorage.getItem("type"),corp_id:2==this.type?this.corpId:"",wx_id:2==this.type?this.wxId:""});case 2:if(e=t.sent,a=e.data,0!=a.error){t.next=34;break}if(!(a.data.length>0)){t.next=31;break}if(""==this.hasName){t.next=25;break}if(i=this.hasName.split(","),!(i.length>0)){t.next=22;break}o=!0,r=0;case 11:if(!(r<i.length)){t.next=19;break}if(-1!=a.data.indexOf(i[r])){t.next=16;break}return l["a"].error("该企业微信未配置相关功能权限，无法选择"),o=!1,t.abrupt("return",!1);case 16:r++,t.next=11;break;case 19:o&&(this.showModal=!1,n=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",n),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,n.corp_name)),t.next=23;break;case 22:-1==a.data.indexOf(this.hasName)?l["a"].error("该企业微信未配置相关功能权限，无法选择"):(this.showModal=!1,c=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",c),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,c.corp_name));case 23:t.next=29;break;case 25:this.showModal=!1,d=this.corpInfo.find((function(t){return t.corpid==p.corpId})),this.$store.dispatch("changeCorp",d),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.corpId,d.corp_name);case 29:t.next=32;break;case 31:l["a"].error("无权限");case 32:t.next=35;break;case 34:l["a"].error("获取权限按钮列表失败！");case 35:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){var e=this;this.showModal=t,this.changeBackground=localStorage.getItem("corpId"),this.$store.dispatch("getCorp",(function(t){e.corpInfo=t,e.corpId=e.$store.state.corpId,!e.changeBackground&&e.corpInfo.length>0&&(e.changeBackground=e.$store.state.corpId,e.corpId=e.$store.state.corpId,e.corpName=e.$store.state.corpName)})),this.routeName=this.$route.name}},created:function(){}},d=c,p=(a("ffd5"),a("2877")),h=Object(p["a"])(d,i,o,!1,null,"440e9184",null);e["a"]=h.exports},"156b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("medium-editor",{ref:"medium_editor",staticClass:"content-editable",attrs:{text:t.textAreaValueHeader,options:t.options,"custom-tag":"div"},on:{editorCreated:t.editorCreated,edit:t.changeContentInput}}),a("div",{staticStyle:{"margin-right":"15px",float:"right"}},[t._v("\n\t\t"+t._s(t.wordNum)+"/"+t._s(t.wordLimit)+"\n\t")]),t.isNickName||t.isEmoji?a("div",{staticStyle:{padding:"0 15px"}},[t._v("\n\t\t点击插入：\n\t\t"),t.isNickName&&1==t.type?a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:function(e){return t.addTag("客户名称")}}},[t._v("客户名称\n\t\t")]):t._e(),t.isNickName&&0==t.type?a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:function(e){return t.addTag("粉丝昵称")}}},[t._v("粉丝昵称\n\t\t")]):t._e(),t.isRanking?a("a-button",{staticClass:"ant-tag ant-tag-orange",attrs:{size:"small"},on:{click:function(e){return t.addTag("排行榜")}}},[t._v("排行榜\n\t\t")]):t._e(),t.isEmoji?a("a-popover",{attrs:{trigger:"click",destroyTooltipOnHide:!0},model:{value:t.emojiShow,callback:function(e){t.emojiShow=e},expression:"emojiShow"}},[a("VEmojiPicker",{attrs:{slot:"content",showSearch:!1},on:{select:t.onSelectEmoji},slot:"content"}),a("a-icon",{staticClass:"icon-btn",staticStyle:{cursor:"pointer"},attrs:{type:"smile"}})],1):t._e()],1):t._e(),a("div",{staticClass:"changeType-text"},[t._v("\n\t\t提示：火狐浏览器可能出现无法正确插入"),1==t.type?[t._v("客户名称")]:t._e(),0==t.type?[t._v("粉丝昵称")]:t._e(),t._v("，请使用谷歌、360浏览器\n\t")],2)],1)},o=[],r=(a("6b54"),a("3b2b"),a("386d"),a("ac6a"),a("28a5"),a("c5f6"),a("a481"),a("4884")),n=a.n(r),s=a("40cf"),l=a("79b5"),c=a("c758"),d={name:"index",components:{TemplateList:c["default"],VEmojiPicker:l["a"],"medium-editor":n.a},watch:{text:{handler:function(t){this.textContent=t;var e=this.textContent.replace(/{nickname}/g,1==this.type?" 客户名称 ":" 粉丝昵称 ").replace(/{ranking}/g," 排行榜 ").replace(/{success}/g," 已完成任务量 ").replace(/{error}/g," 未完成任务量 ").replace(/{oneLevel}/g," 一阶任务剩余库存 ").replace(/{twoLevel}/g," 二阶任务剩余库存 ").replace(/{threeLevel}/g," 三阶任务剩余库存 ").replace(/\n/g,"").replace(/(<\/?a.*?>)/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">"),a=this.textContent.replace(/{nickname}/g,1==this.type?" 客户名称 ":" 粉丝昵称1 ");this.isMenu?(this.wordNum=e.length+10*this.getLeng(a),this.wordNum>this.wordLimit&&(this.wordNum=this.wordLimit)):this.wordNum=e.length},deep:!0},textValue:{handler:function(t){this.textAreaValueHeader=t},deep:!0}},props:{isMenu:{type:Boolean,default:!1},text:{type:String,default:""},textValue:{type:String,default:""},isNickName:{type:Boolean,default:!0},isRanking:{type:Boolean,default:!1},isEmoji:{type:Boolean,default:!0},wordLimit:{type:Number,default:1e3}},data:function(){return{isTag:!1,type:localStorage.getItem("type"),textContent:"",textAreaValueHeader:"",emojiShow:!1,wordNum:0,mediumEditor:"",options:{toolbar:!1,placeholder:{text:""}},keydownNode:!1,keydownNodeIndex:0}},mounted:function(){var t=this;this.textContent=this.text;var e=this.textContent.replace(/{nickname}/g,1==this.type?" 客户名称 ":" 粉丝昵称 ").replace(/{ranking}/g," 排行榜 ").replace(/\n/g,"").replace(/(<\/?a.*?>)/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">"),a=this.textContent.replace(/{nickname}/g,1==this.type?" 客户名称 ":" 粉丝昵称1 ");this.isMenu?(this.wordNum=e.length+10*this.getLeng(a),this.wordNum>this.wordLimit&&(this.wordNum=this.wordLimit)):this.wordNum=e.length,this.textAreaValueHeader="<p>"+this.textValue+"</p>",document.addEventListener("selectionchange",(function(){t.getCursor(self)}))},methods:{getLeng:function(t){var e=t.split(" "),a=[];return e.forEach((function(t){"粉丝昵称1"==t&&a.push(t)})),a.length},initTextMsgContent:function(t){var e=this;return-1!==t.search(/[\/\[\]\(\)\|\$\*\?\+\-\_]/g)&&s["a"].wechatEmojiKey.map((function(a){var i=new RegExp(e.utils.addslashes(a),"g"),o=s["a"].getEmojiUrl(a);t=t.replace(i,'<img src="'+o+'" alt="'+a+'" height="21" width="21"/>')})),t.replace(/[\r\n|\n]/g,"<br/>")},toggleDialogEmoji:function(){this.emojiShow=!this.emojiShow},onSelectEmoji:function(t){var e=this.mediumEditor.options.ownerDocument;this.wordLimit-this.wordNum>=2&&this.insertHTMLCommand(e,t.data),this.toggleDialogEmoji()},getCursor:function(t){var e=getSelection();if(e){var a=e.anchorNode,i=!1;while(a&&a.nodeType!=a.DOCUMENT_NODE){var o=a.classList;if(o&&o.contains("content-editable")){i=!0;break}a=a.parentNode}i&&(t.lastRange=e.getRangeAt(0),t.lastNode=a)}},insertHTMLCommand:function(t,e){if("undefined"===typeof self.lastNode||!self.lastNode.classList.contains("content-editable"))return!1;var a,i,o,r,s,l,c=["insertHTML",!1,e];if(a=self.lastRange,i=a.commonAncestorContainer,n.a.MediumEditor.util.isMediumEditorElement(i)&&!i.firstChild)a.selectNode(i.appendChild(t.createTextNode("")));else if(3===i.nodeType&&0===a.startOffset&&a.endOffset===i.nodeValue.length||3!==i.nodeType&&i.innerHTML===a.toString()){while(!n.a.MediumEditor.util.isMediumEditorElement(i)&&i.parentNode&&1===i.parentNode.childNodes.length&&!n.a.MediumEditor.util.isMediumEditorElement(i.parentNode))i=i.parentNode;a.selectNode(i)}a.deleteContents(),o=t.createElement("div"),o.innerHTML=e,r=t.createDocumentFragment();while(o.firstChild)s=o.firstChild,l=r.appendChild(s);a.insertNode(r),l&&(a=a.cloneRange(),a.setStartAfter(l),a.collapse(!0),n.a.MediumEditor.selection.selectRange(t,a)),t.execCommand.callListeners&&t.execCommand.callListeners(c,!0),this.wordNum=self.lastNode.textContent.length,this.wordNum<=this.wordLimit&&(this.textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")),this.mediumEditor.origElements.scrollTop=this.mediumEditor.origElements.scrollHeight;var d={currentTarget:this.mediumEditor.origElements};this.mediumEditor.events.updateInput(d.currentTarget,d),this.$emit("changeText",this.textContent,this.textAreaValueHeader)},editorCreated:function(t){this.mediumEditor=t,this.mediumEditor.subscribe("focus",this.editableFocus),this.mediumEditor.subscribe("editableKeydown",this.editableKeydown),this.mediumEditor.subscribe("editablePaste",this.editablePaste),delete self.lastRange,delete self.lastNode},editableFocus:function(t){""!==t.target.innerHTML&&"<br>"!=t.target.innerHTML&&"<p></p>"!=t.target.innerHTML||(t.target.innerHTML="<p><br/></p>")},editableKeydown:function(t){this.wordNum>=this.wordLimit&&8!=t.keyCode&&37!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&(65!=t.keyCode||!t.metaKey&&!t.ctrlKey)&&t.preventDefault(),86==t.keyCode&&(t.metaKey||t.ctrlKey),13==t.keyCode&&(this.keydownNodeIndex=0,this.getParentP4Label(self.lastRange.startContainer)),this.keydownNode=13==t.keyCode},getParentP4Label:function(t){"P"!=t.nodeName?this.getParentP4Label(t.parentNode):this.getPreviousSiblingIndex(t)},getPreviousSiblingIndex:function(t){t.previousSibling&&(this.keydownNodeIndex++,this.getPreviousSiblingIndex(t.previousSibling))},editablePaste:function(t,e){this.invlideText()},invlideText:function(){var t=this.mediumEditor.origElements,e=this.global.getRangeInfo(t,this.wordLimit),a=e.startNode,i=e.startOffset,o=e.endNode,r=e.endOffset;if("undefined"!==typeof a.nodeValue){var n=document.createRange();n.setStart(a,i),n.setEnd(o,r),n.deleteContents(),this.textAreaValueHeader=self.lastNode.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),this.wordNum=this.wordLimit}this.$emit("changeText",this.textContent,this.textAreaValueHeader)},changeContentInput:function(t){if(""!=t.api.origElements.innerHTML&&"<br>"!=t.api.origElements.innerHTML||(t.api.origElements.innerHTML="<p><br/></p>"),self.lastNode){if(this.isMenu){var e=this.textContent.replace(/{nickname}/g,1==this.type?" 客户名称 ":" 粉丝昵称1 ");this.wordNum=self.lastNode.textContent.length+10*this.getLeng(e),this.wordNum>this.wordLimit&&(this.wordNum=this.wordLimit)}else this.wordNum=self.lastNode.textContent.length;if(this.wordNum<=this.wordLimit?(this.textAreaValueHeader=t.api.origElements.innerHTML.replace(/<pre([^>]*)>/g,"<p>").replace(/<\/pre>/g,"</p>").replace(/<font([^>]*)>/g,"<p>").replace(/<\/font>/g,"</p>").replace(/<div([^>]*)>/g,"<p>").replace(/<\/div>/g,"</p>"),"undefined"==typeof this.urlId?this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/<br([^>]*)>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):this.textContent=self.lastNode.innerHTML.replace(/(<p><span>)?<br([^>]*)>(<\/span>)?<\/p>/g,"</p>").replace(/<br([^>]*)>/g,"\n").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">客户名称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">粉丝昵称<\/span>(&nbsp;)?/g,"{nickname}").replace(/(&nbsp;)?<span contenteditable="false" class="ant-tag ant-tag-orange">排行榜<\/span>(&nbsp;)?/g,"{ranking}").replace(/([^<p>]+)<p([^>]*)>/g,"$1\n").replace(/<p([^>]*)>/g,"").replace(/<\/p>/g,"\n").replace(/<span([^>]*)>/g,"").replace(/<\/span>/g,"").replace(/&nbsp;/g," ").replace(/<div([^>]*)>/g,"\n").replace(/<\/div>/g,"").replace(/miniprogramappid/g,"miniprogram-appid").replace(/miniprogrampath/g,"miniprogram-path").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),this.$emit("changeText",this.textContent,this.textAreaValueHeader)):this.invlideText(),this.keydownNode){var a=self.lastNode.childNodes[this.keydownNodeIndex+1],i=document.createRange();i.setStart(a,0);var o=window.getSelection();o.removeAllRanges(),o.addRange(i),this.keydownNode=!1}}},addTag:function(t){if("undefined"==typeof this.mediumEditor.options.ownerDocument)var e=this.mediumEditor.options.ownerDocument;else e=this.mediumEditor.options.ownerDocument;var a='<span>&nbsp;<span contenteditable="false" class="ant-tag ant-tag-orange">'+t+"</span>&nbsp;</span>";this.wordLimit-this.wordNum>=6&&this.insertHTMLCommand(e,a)}}},p=d,h=(a("6617"),a("2877")),u=Object(h["a"])(p,i,o,!1,null,"93681f50",null);e["a"]=u.exports},"1fa6":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".changeType-text[data-v-93681f50]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.content-editable[data-v-93681f50]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:155px;overflow:auto}.content-editable[data-v-93681f50] p{margin:0;word-break:break-word}",""])},"203a":function(t,e,a){var i=a("9d91");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("55f4c3c5",i,!0,{sourceMap:!1,shadowMode:!1})},2984:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVR4Ae1XAUS7URAf/z9FIlEBgUAAkH1vMVXLSMAAhAAszXtvVSAEiiABJUhIIFSCzxRAhJEEgCIRFMCvuzyE7Waz82DHYe72vd/d/e7evUy3pCfTmxgxDjAelWggjMMVKXIO+SgAshuYMBYvxuGRMxInCxZFzgLpUSaWJB5lBpG1WFA5gGvM2oIPNfK50SJbaizeCg4DTbPgsBpKsdL9lqtiNnx8r5lPfhv/yf5JeqmTBY/90HJzQqYOSL8JTH/3ieYwahyeSWuCT/YXpMeiFhd8OKDU0L6OcbYTkB3tnj9vZC+V8C8AOGyfaBaTxuKEGd908lUwHACkQsu+JhZnnZCszh+XImQJozcVePBA9utO6nv3B0Aq+D3pALCY5+ik6PNrGGqrBAqtOBN2gNPWJFSQnIXlA7gbdNtQHkT3rQYRl1NtFJsqlgSC7pLfV7GMPpXLKLE45t9C/T9IL3SuY4d3in5Q6KJl+TrWXkg8bnkhib6SRV1K463lHvWpLYxFe5gkHoVYL6PUeLh2/tOTH9vCRiO8NifPAAAAAElFTkSuQmCC"},"2afe":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a-modal",{staticClass:"msg-modal",attrs:{visible:t.showVisible,"confirm-loading":t.confirmLoading,title:"选择素材",width:"888"},on:{ok:t.handleOk,cancel:t.handleCancel}},[0!=t.menuType&&t.showRadar&&2!=t.type?i("div",{staticStyle:{color:"#FF562D","margin-bottom":"15px"}},[t._v("\n\t\t\t\t温馨提示：图文包含带有雷达标识的视频/TXT/PDF等所有文件格式的素材，以图文链接的方式，向客户发送。\n\t\t\t")]):t._e(),0!=t.menuType&&t.showRadar&&2==t.type?i("div",{staticStyle:{color:"#FF562D","margin-bottom":"15px"}},[t._v("\n\t\t\t\t温馨提示：带有雷达标识的图片，可追踪链接打开次数、停留时长以及给客户打上标签。反之，则直接向对话框推送一张图片，无法对客户进行追踪。\n\t\t\t")]):t._e(),i("div",{staticClass:"choose-msg",staticStyle:{height:"600px",width:"840px"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading&&1!=t.type}},[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("a-tree-select",{staticStyle:{width:"160px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto",width:"220px"},treeData:t.groupList,placeholder:"所有分组",treeDefaultExpandAll:"",allowClear:""},on:{change:t.changeGroup},model:{value:t.selectGroupId,callback:function(e){t.selectGroupId=e},expression:"selectGroupId"}}),i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.showSelectTag}},[0==t.selectTagIds.length?[t._v("选择内容标签")]:t._e(),t.selectTagIds.length>0?[t._v("\n\t\t\t\t\t\t\t\t已选择\n\t\t\t\t\t\t\t\t"),t.getGroupNum(t.selectTagDetail)>0?[t._v(t._s(t.getGroupNum(t.selectTagDetail))+"个分组\n\t\t\t\t\t\t\t\t")]:t._e(),t.getGroupNum(t.selectTagDetail)>0&&t.selectTagDetail.length!=t.getGroupNum(t.selectTagDetail)?[t._v("\n\t\t\t\t\t\t\t\t\t，\n\t\t\t\t\t\t\t\t")]:t._e(),t.selectTagDetail.length!=t.getGroupNum(t.selectTagDetail)?[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.selectTagDetail.length-t.getGroupNum(t.selectTagDetail))+"个标签\n\t\t\t\t\t\t\t\t")]:t._e()]:t._e()],2),0!=t.menuType&&t.showRadar?i("a-select",{staticStyle:{width:"120px","margin-left":"10px"},attrs:{showSearch:"",optionFilterProp:"children"},on:{change:t.changeRadar},model:{value:t.isRadar,callback:function(e){t.isRadar=e},expression:"isRadar"}},[i("a-select-option",{attrs:{value:0}},[t._v("雷达状态")]),i("a-select-option",{attrs:{value:1}},[t._v("非雷达链接")]),i("a-select-option",{attrs:{value:2}},[t._v("雷达链接")])],1):t._e(),i("a-input",{staticStyle:{width:"160px","margin-left":"10px"},attrs:{placeholder:"输入要搜索的内容",allowClear:!0},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),i("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("\n\t\t\t\t\t\t\t搜索\n\t\t\t\t\t\t")]),i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clearInput}},[t._v("\n\t\t\t\t\t\t\t清空\n\t\t\t\t\t\t")])],1),1==t.type?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.materialList.length,expression:"materialList.length == 0?true:false"}],staticStyle:{width:"100%","margin-top":"100px"}},[i("img",{staticStyle:{width:"100px",display:"block",margin:"auto"},attrs:{src:a("cc70")}}),i("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])]),i("div",{staticClass:"container-water-fall"},[i("waterfall",{attrs:{col:t.col,width:t.itemWidth,data:t.materialList,gutterWidth:t.gutterWidth},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.materialList,(function(e,a){return i("a-card",{key:a,class:t.materialList[a].id==t.id?"active":"",staticStyle:{"margin-top":"10px",cursor:"pointer","border-radius":"6px"},attrs:{hoverable:""},on:{click:function(i){return t.chooseArt(e.id,a)}}},[i("template",{slot:"title"},[1==e.radar_status&&e.radar_id>0&&1==t.menuType?i("a-icon",{staticStyle:{"vertical-align":"top","font-size":"18px",color:"#3CB371"},attrs:{type:"radar-chart"}}):t._e(),i("a-popover",[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t\t\t")],2)],1),t._l(e.artList,(function(e,a){return[0==a?[i("div",{staticStyle:{height:"30px","line-height":"30px",background:"#0F0F0F",opacity:"0.7",color:"#FFF",padding:"0 10px","margin-top":"-30px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]),0==t.sketchType?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.commonUrl+(e.s_local_path||e.local_path),expression:"commonUrl+(art.s_local_path || art.local_path)"}],staticStyle:{height:"149px","object-fit":"cover"},attrs:{slot:"cover",alt:"example"},slot:"cover"}):t._e(),1==t.sketchType?i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.commonUrl+(e.s_local_path||e.local_path),expression:"commonUrl+(art.s_local_path || art.local_path)"}],staticStyle:{height:"149px","object-fit":"contain"},attrs:{slot:"cover",alt:"example"},slot:"cover"}):t._e()]:t._e(),0!=a?[i("a-card-meta",{staticStyle:{margin:"0",padding:"20px"},attrs:{title:e.title}},[i("a-avatar",{staticStyle:{"object-fit":"cover"},attrs:{slot:"avatar",shape:"square",size:64,src:t.commonUrl+(e.s_local_path||e.local_path)},slot:"avatar"})],1)]:t._e()]}))],2)}))],2)],1)]):t._e(),2==t.type?i("div",{staticClass:"upload-botton",staticStyle:{overflow:"hidden"}},[i("a-button",{on:{click:t.showModal}},[i("a-icon",{attrs:{type:"cloud-upload"}}),t._v("\n\t\t\t\t\t\t\t本地上传\n\t\t\t\t\t\t")],1)],1):t._e(),2==t.type?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.materialList.length,expression:"materialList.length == 0?true:false"}],staticStyle:{width:"100%","margin-top":"100px"}},[i("img",{staticStyle:{width:"100px",display:"block",margin:"auto"},attrs:{src:a("cc70")}}),i("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])]),i("div",{staticStyle:{"margin-top":"15px",overflow:"hidden"}},t._l(t.materialList,(function(e,a){return i("div",{key:e.id,staticClass:"imgSize",class:t.materialList[a].id==t.id?"active":"",on:{click:function(i){return t.chooseArt(e.id,a)}}},[i("a-popover",[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"imgSize-title"},[1==e.radar_status&&e.radar_id>0&&1==t.menuType?i("a-icon",{staticStyle:{"vertical-align":"top","font-size":"18px",color:"#3CB371"},attrs:{type:"radar-chart"}}):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t")],1)],2),i("div",{staticClass:"imgSize-img"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.commonUrl+(e.s_local_path||e.local_path),expression:"commonUrl+(item.s_local_path || item.local_path)"}],staticStyle:{"object-fit":"cover"},attrs:{alt:""}})]),i("div",{staticStyle:{height:"30px","line-height":"30px",background:"#0F0F0F",opacity:"0.7",color:"#FFF",padding:"0 10px","margin-top":"-32px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(e.file_name)+"\n\t\t\t\t\t\t\t\t")])],1)})),0),t.total>0?i("div",{staticStyle:{width:"100%",position:"absolute","margin-top":"12px"}},[i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)]):t._e()]):t._e(),3==t.type||4==t.type?i("div",{staticClass:"upload-botton",staticStyle:{overflow:"hidden"}},[3==t.type?i("a-button",{on:{click:t.showModalVoice}},[i("a-icon",{attrs:{type:"cloud-upload"}}),t._v("\n\t\t\t\t\t\t\t本地上传\n\t\t\t\t\t\t")],1):t._e(),4==t.type?i("a-button",{on:{click:t.showModalVideo}},[i("a-icon",{attrs:{type:"cloud-upload"}}),t._v("\n\t\t\t\t\t\t\t本地上传\n\t\t\t\t\t\t")],1):t._e()],1):t._e(),3==t.type||4==t.type?i("div",{staticStyle:{"margin-top":"20px"}},[i("a-table",{attrs:{columns:t.columns,dataSource:t.materialList,pagination:!1,rowClassName:t.rowClassName,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange,type:"radio"}},scopedSlots:t._u([{key:"file_name",fn:function(e,o,r){return[1==o.radar_status&&o.radar_id>0&&1==t.menuType?i("a-icon",{staticStyle:{"vertical-align":"top","font-size":"18px",color:"#3CB371"},attrs:{type:"radar-chart"}}):t._e(),3==t.type?[i("img",{staticStyle:{width:"16px",height:"17px"},attrs:{src:a("2984")}}),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(o.file_name)+"\n\t\t\t\t\t\t\t\t")]:t._e(),4==t.type?i("a",{attrs:{href:t.commonUrl+o.local_path,target:"view_window"}},[t._v(t._s(o.file_name))]):t._e()]}}],null,!1,2296506433)}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{width:"100%","margin-top":"20px",bottom:"0"}},[i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1):t._e(),5==t.type?i("div",{staticClass:"upload-botton",staticStyle:{overflow:"hidden"}},[i("a-button",{on:{click:t.showModalFile}},[i("a-icon",{attrs:{type:"cloud-upload"}}),t._v("\n\t\t\t\t\t\t\t本地上传\n\t\t\t\t\t\t")],1)],1):t._e(),5==t.type?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.materialList.length,expression:"materialList.length == 0?true:false"}],staticStyle:{width:"100%","margin-top":"100px"}},[i("img",{staticStyle:{width:"100px",display:"block",margin:"auto"},attrs:{src:a("cc70")}}),i("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])]),i("div",{staticStyle:{"margin-top":"15px",overflow:"hidden"}},t._l(t.materialList,(function(e,o){return i("div",{key:e.id,staticClass:"fileSize",class:t.materialList[o].id==t.id?"active":"",on:{click:function(a){return t.chooseArt(e.id,o)}}},[i("a-popover",[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"fileSize-title"},[1==e.radar_status&&e.radar_id>0&&1==t.menuType?i("a-icon",{staticStyle:{"vertical-align":"top","font-size":"14px","margin-top":"4px",color:"#3CB371"},attrs:{type:"radar-chart"}}):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t素材来源："+t._s(e.group_name)+"\n\t\t\t\t\t\t\t\t\t")],1)],2),i("a-card",{staticClass:"file-card",staticStyle:{width:"100%",margin:"auto","min-height":"66px",padding:"10px"}},[i("div",["doc"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("5df1")},slot:"cover"}):t._e(),"docx"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("4035")},slot:"cover"}):t._e(),"xlsx"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("b6f5")},slot:"cover"}):t._e(),"xls"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("7806")},slot:"cover"}):t._e(),"csv"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("17f6")},slot:"cover"}):t._e(),"pptx"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("aecb")},slot:"cover"}):t._e(),"ppt"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("c5a2")},slot:"cover"}):t._e(),"txt"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("bca3")},slot:"cover"}):t._e(),"pdf"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("afc3")},slot:"cover"}):t._e(),"xmind"==e.extension?i("img",{staticClass:"file-icon",attrs:{slot:"cover",alt:"example",src:a("9bdd")},slot:"cover"}):t._e(),i("div",{staticClass:"file-name"},[t._v(t._s(e.file_name))])])])],1)})),0),i("div",{staticStyle:{width:"100%",position:"absolute","margin-top":"12px"}},[i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])]):t._e(),6==t.type?i("div",{staticStyle:{"margin-top":"20px"}},[i("a-table",{attrs:{columns:t.textColomns,dataSource:t.materialList,pagination:!1,rowClassName:t.rowClassName,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange,type:"radio"}},scopedSlots:t._u([{key:"content",fn:function(e,a,o){return i("span",{},[i("a-popover",{attrs:{placement:"left"}},[i("template",{slot:"content"},[i("p",{staticStyle:{"max-width":"500px","max-height":"200px","overflow-y":"auto","word-break":"break-all","word-wrapL":"break-word","margin-bottom":"0"},domProps:{innerHTML:t._s(e.replace(/\n/g,"<br/>"))}})]),i("div",{staticClass:"inputTitle2"},[i("p",{staticStyle:{"margin-bottom":"0"},domProps:{innerHTML:t._s(e.replace(/\n/g,"<br/>"))}})])],2)],1)}}],null,!1,1800885329)}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{width:"100%","margin-top":"20px",bottom:"0"}},[i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1):t._e(),i("a-modal",{attrs:{width:"720px",title:"新建图片素材"},on:{cancel:t.cancelUploadPic},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelUploadPic}},[t._v("取消")]),i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading4},on:{click:t.uploadPic}},[t._v("提交\n\t\t\t\t\t\t\t")])],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t上传图片\n\t\t\t\t\t\t\t")]),i("p",{staticStyle:{"margin-top":"1em"}},[i("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar",listType:"picture-card",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:t.beforeUpload,customRequest:t.selfUpload}},[t.imageUrl?i("img",{staticStyle:{"max-width":"100%","max-height":"100%","margin-left":"50%","margin-top":"50%",transform:"translate(-50%, -50%)"},attrs:{src:t.imageUrl,alt:"avatar"}}):i("div",{staticStyle:{"padding-top":"25px"}},[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text"},[t._v("点击上传")])],1)]),i("span",{staticStyle:{color:"#AAA","font-size":"12px",display:"inline-block","vertical-align":"bottom"}},[t._v("（图片大小不超过2M，支持JPG、JPEG及PNG格式）")])],1)],2),i("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{label:"素材同步","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-radio-group",{on:{change:t.changePicMaterialSync},model:{value:t.materialPicSync,callback:function(e){t.materialPicSync=e},expression:"materialPicSync"}},[i("a-radio",{attrs:{value:0}},[t._v("不同步")]),i("a-radio",{attrs:{value:1}},[t._v("同步至【内容引擎】\n\t\t\t\t\t\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.materialPicSync,expression:"materialPicSync == 1"}]},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t选择分组：\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-tree-select",{staticStyle:{width:"225px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto"},treeData:t.groupList1,placeholder:"Please select",treeDefaultExpandAll:""},model:{value:t.selectPicGroupId,callback:function(e){t.selectPicGroupId=e},expression:"selectPicGroupId"}})],1)])],1)],1),1==t.menuType&&t.showRadar&&1==t.materialPicSync?[i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t设为雷达链接\n\t\t\t\t\t\t\t\t")]),i("a-switch",{attrs:{checked:1==t.radarOpen},on:{click:t.changeRadarOpen}}),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("开启后，带有雷达标识的图片，可追踪链接打开次数、停留时长以及给客户打上标签。反之，则直接向对话框推送一张图片，无法对客户进行追踪。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],2),1==t.radarOpen?i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t客户标签\n\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t给点击雷达的客户打上选中的标签\n\t\t\t\t\t\t\t\t"),i("div",[i("a-button",{attrs:{icon:"plus"},on:{click:t.chooseTag}},[t._v("添加标签")])],1),t._l(t.tagName,(function(e,a){return i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t"),i("a-icon",{staticStyle:{color:"#FA8C16","vertical-align":"inherit",cursor:"pointer"},attrs:{type:"close"},on:{click:function(e){return t.deleteTag(a)}}})],1)}))],2):t._e()]:t._e()],2),i("a-modal",{attrs:{destroyOnClose:!0,title:"新建音频素材",width:"720px;",height:"500px"},on:{cancel:t.cancelUploadVoice},model:{value:t.voiceVisible,callback:function(e){t.voiceVisible=e},expression:"voiceVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelUploadVoice}},[t._v("取消")]),i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading4},on:{click:t.uploadVoice}},[t._v("提交\n\t\t\t\t\t\t\t")])],1),i("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),t._v("填写标题\n\t\t\t\t\t\t\t")]),i("a-input",{attrs:{maxLength:64},model:{value:t.voiceTitle,callback:function(e){t.voiceTitle=e},expression:"voiceTitle"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.voiceTitle.length))]),t._v("/64\n                    ")])])],2),i("a-form-item",{staticStyle:{"margin-top":"20px"},attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),t._v("上传音频\n\t\t\t\t\t\t\t")]),t.voiceUrl?t._e():i("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar",listType:"picture-card",showUploadList:!1,action:"",beforeUpload:t.beforeUploadVoice,customRequest:t.selfUploadVoice}},[i("div",{staticStyle:{"padding-top":"25px"}},[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text"},[t._v("点击上传")])],1)]),t.voiceUrl?t._e():i("span",{staticStyle:{"vertical-align":"bottom"}},[t._v("（音频上传大小不超过2MB，播放长度不超过60s，支持AMR、MP3格式。）")]),t.voiceUrl?i("div",{staticClass:"audio",staticStyle:{display:"inline-block",width:"100px"},on:{click:function(e){return t.playMusic1()}}},[i("div",{staticClass:"box",staticStyle:{float:"left"}},[t.playVoice?t._e():i("div",{staticClass:"wifi-symbol"},[i("div",{staticClass:"wifi-circle first"}),i("div",{staticClass:"wifi-circle second"}),i("div",{staticClass:"wifi-circle third"})]),t.playVoice?i("div",{staticClass:"wifi-symbol"},[i("div",{staticClass:"wifi-circle first"}),i("div",{staticClass:"wifi-circle second1"}),i("div",{staticClass:"wifi-circle third1"})]):t._e(),i("audio",{ref:"audio1",on:{canplay:t.oncanplay1}},[i("source",{attrs:{src:t.voiceUrl,type:"audio/mp3"}})]),i("div",{staticStyle:{"text-align":"left",width:"100px","line-height":"10px","margin-top":"60px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("dateFormat")(t.playVoiceTime))+"\n\t\t\t\t\t\t\t\t\t")])])]):t._e(),t.voiceUrl?i("a-upload",{attrs:{showUploadList:!1,action:"",beforeUpload:t.beforeUploadVoice,customRequest:t.selfUploadVoice}},[i("div",{staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"ant-upload-text;"},[t._v("重新上传")])])]):t._e()],2),i("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{label:"素材同步","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-radio-group",{on:{change:t.changeaudioMaterialSync},model:{value:t.materialAudioSync,callback:function(e){t.materialAudioSync=e},expression:"materialAudioSync"}},[i("a-radio",{attrs:{value:0}},[t._v("不同步")]),i("a-radio",{attrs:{value:1}},[t._v("同步至【内容引擎】\n\t\t\t\t\t\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.materialAudioSync,expression:"materialAudioSync == 1"}]},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t选择分组：\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-tree-select",{staticStyle:{width:"225px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto"},treeData:t.groupList1,placeholder:"Please select",treeDefaultExpandAll:""},model:{value:t.selectAudioGroupId,callback:function(e){t.selectAudioGroupId=e},expression:"selectAudioGroupId"}})],1)])],1)],1)],2),i("a-modal",{attrs:{title:"新建视频素材",width:"720px;"},on:{cancel:t.cancelUploadVideo},model:{value:t.videoVisible,callback:function(e){t.videoVisible=e},expression:"videoVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelUploadVideo}},[t._v("取消")]),i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading4},on:{click:t.uploadVideo}},[t._v("提交\n\t\t\t\t\t\t\t")])],1),i("a-form-item",{attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("填写标题\n\t\t\t\t\t\t\t")]),i("a-input",{attrs:{maxLength:64},model:{value:t.videoTitle,callback:function(e){t.videoTitle=e},expression:"videoTitle"}},[i("span",{attrs:{slot:"suffix"},slot:"suffix"},[i("span",[t._v(t._s(t.videoTitle.length))]),t._v("/64\n                    ")])])],2),i("a-form-item",{staticStyle:{"margin-top":"20px"},attrs:{"label-col":{span:3},"wrapper-col":{span:21}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t上传视频\n\t\t\t\t\t\t\t")]),t.videoUrl?t._e():i("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar",listType:"picture-card",showUploadList:!1,action:"",beforeUpload:t.beforeUploadVideo,customRequest:t.selfUploadVideo}},[i("div",{staticStyle:{"padding-top":"25px"}},[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text"},[t._v("点击上传")])],1)]),t.videoUrl?t._e():i("span",{staticStyle:{"vertical-align":"bottom"}},[t._v("（视频上传大小不超过10M，支持MP4格式。）")]),t.videoUrl?i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",staticStyle:{width:"200px"},attrs:{playsinline:!0,options:t.playerVideoOptions}}):t._e(),t.videoUrl?i("a-upload",{attrs:{showUploadList:!1,action:"",beforeUpload:t.beforeUploadVideo,customRequest:t.selfUploadVideo}},[i("div",{staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"ant-upload-text;"},[t._v("重新上传")])])]):t._e()],2),i("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{label:"素材同步","label-col":{span:3},"wrapper-col":{span:21}}},[i("a-radio-group",{on:{change:t.changeVideoMaterialSync},model:{value:t.materialVideoSync,callback:function(e){t.materialVideoSync=e},expression:"materialVideoSync"}},[i("a-radio",{attrs:{value:0}},[t._v("不同步")]),i("a-radio",{attrs:{value:1}},[t._v("同步至【内容引擎】\n\t\t\t\t\t\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.materialVideoSync,expression:"materialVideoSync == 1"}]},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t选择分组：\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-tree-select",{staticStyle:{width:"225px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto"},treeData:t.groupList1,placeholder:"Please select",treeDefaultExpandAll:""},model:{value:t.selectVideoGroupId,callback:function(e){t.selectVideoGroupId=e},expression:"selectVideoGroupId"}})],1)])],1)],1),1==t.menuType&&t.showRadar&&1==t.materialVideoSync?[i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t设为雷达链接\n\t\t\t\t\t\t\t\t")]),i("a-switch",{attrs:{checked:1==t.radarOpen},on:{click:t.changeRadarOpen}}),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("开启后，带有雷达标识的视频，可追踪链接打开次数、停留时长以及给客户打上标签。反之，则直接向对话框推送一个视频，无法对客户进行追踪。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],2),1==t.radarOpen?i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t客户标签\n\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t给点击雷达的客户打上选中的标签\n\t\t\t\t\t\t\t\t"),i("div",[i("a-button",{attrs:{icon:"plus"},on:{click:t.chooseTag}},[t._v("添加标签")])],1),t._l(t.tagName,(function(e,a){return i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t"),i("a-icon",{staticStyle:{color:"#FA8C16","vertical-align":"inherit",cursor:"pointer"},attrs:{type:"close"},on:{click:function(e){return t.deleteTag(a)}}})],1)}))],2):t._e()]:t._e()],2),i("a-modal",{attrs:{title:"新建文件素材",width:"720px"},on:{click:t.cancelUploadFile},model:{value:t.fileVisible,callback:function(e){t.fileVisible=e},expression:"fileVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancelUploadFile}},[t._v("取消")]),i("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading4},on:{click:t.uploadFile}},[t._v("提交\n\t\t\t\t\t\t\t")])],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t上传文件\n\t\t\t\t\t\t\t")]),i("div",{staticStyle:{margin:"5px 0px"}},[t.fileName?t._e():i("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar",listType:"picture-card",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:t.beforeUploadFile,customRequest:t.selfUploadFile}},[i("div",{staticStyle:{"padding-top":"25px"}},[i("a-icon",{attrs:{type:"plus"}}),i("div",{staticClass:"ant-upload-text"},[t._v("点击上传")])],1)]),t.fileName?t._e():i("span",{staticStyle:{float:"right","line-height":"21px !important"}},[t._v("\n\t\t\t\t\t\t（上传文件大小20MB，支持DOC、DOCX、XLS、XLSX、CSV、PPT、PPTX、TXT、PDF及Xmind格式。）\n\t\t\t\t\t")]),i("div",{staticStyle:{"margin-left":"70px"}},[t.fileName?i("div",{attrs:{alt:"avatar"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t.fileName)+"\n\t\t\t\t\t\t\t\t\t")]):t._e(),t.fileName?i("a-upload",{attrs:{showUploadList:!1,action:"",beforeUpload:t.beforeUploadFile,customRequest:t.selfUploadFile}},[i("div",{staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"ant-upload-text;",staticStyle:{"margin-top":"5px",color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t重新上传\n\t\t\t\t\t\t\t\t\t\t\t")])])]):t._e()],1)],1)],2),i("a-form-item",{staticStyle:{"padding-top":"15px"},attrs:{label:"素材同步","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-radio-group",{on:{change:t.changeFileMaterialSync},model:{value:t.materialFileSync,callback:function(e){t.materialFileSync=e},expression:"materialFileSync"}},[i("a-radio",{attrs:{value:0}},[t._v("不同步")]),i("a-radio",{attrs:{value:1}},[t._v("同步至【内容引擎】\n\t\t\t\t\t\t\t\t\t"),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.materialFileSync,expression:"materialFileSync == 1"}]},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t选择分组：\n\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("a-tree-select",{staticStyle:{width:"225px"},attrs:{dropdownStyle:{maxHeight:"150px",overflow:"auto"},treeData:t.groupList1,placeholder:"Please select",treeDefaultExpandAll:""},model:{value:t.selectFileGroupId,callback:function(e){t.selectFileGroupId=e},expression:"selectFileGroupId"}})],1)])],1)],1),1==t.menuType&&t.showRadar&&1==t.materialFileSync?[i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t设为雷达链接\n\t\t\t\t\t\t\t\t")]),i("a-switch",{attrs:{checked:1==t.radarOpen},on:{click:t.changeRadarOpen}}),i("a-tooltip",{attrs:{placement:"bottom"}},[i("template",{slot:"title"},[i("span",[t._v("开启后，带有雷达标识的PDF文件和TXT文件，可追踪链接打开次数、停留时长以及给客户打上标签。反之，则直接向对话框推送一个文件，无法对客户进行追踪。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],2),1==t.radarOpen?i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t客户标签\n\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t给点击雷达的客户打上选中的标签\n\t\t\t\t\t\t\t\t"),i("div",[i("a-button",{attrs:{icon:"plus"},on:{click:t.chooseTag}},[t._v("添加标签")])],1),t._l(t.tagName,(function(e,a){return 1==t.radarTagOpen?i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t"),i("a-icon",{staticStyle:{color:"#FA8C16","vertical-align":"inherit",cursor:"pointer"},attrs:{type:"close"},on:{click:function(e){return t.deleteTag(a)}}})],1):t._e()}))],2):t._e()]:t._e()],2)],1)],1),i("a-spin",{staticClass:"skethLoading",staticStyle:{position:"absolute",top:"50%",left:"50%",width:"100%",transform:"translate(-50%, -50%)","padding-top":"35%",height:"100%","background-color":"rgba(0, 0, 0, 0)","z-index":"99999999999999"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading&&1==t.type}})],1),t.tagGroupVisible?i("tagCheckedBox",{ref:"tagCheckedBox",attrs:{groupVisible:t.tagGroupVisible,tagDetail:JSON.parse(JSON.stringify(t.selectTagDetail)),tagIds:JSON.parse(JSON.stringify(t.selectTagIds))},on:{setGroupId:t.setGroupId}}):t._e(),i("a-modal",{attrs:{width:"888px!important",title:"客户标签"},on:{ok:t.handleTag,cancel:t.handleCancelTag},model:{value:t.tagVisible,callback:function(e){t.tagVisible=e},expression:"tagVisible"}},[t.tagVisible?i("corpChooseTagModal",{attrs:{callback:t.chooseTags,tagname:t.tagName2,hasChoose:t.tag_arr2}}):t._e()],1)],1)},o=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("bd86")),n=(a("28a5"),a("7f7f"),a("96cf"),a("3b8d")),s=(a("c5f6"),a("bc3a")),l=a.n(s),c=a("d6d3"),d=a("9e0c"),p=a("c758"),h=a("f19e");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m=[{title:"名称",dataIndex:"file_name",key:"file_name",width:"30%",scopedSlots:{customRender:"file_name"}},{title:"素材来源",dataIndex:"group_name",key:"group_name"},{title:"创建时间",dataIndex:"create_time",key:"create_time"}],f=l.a.CancelToken,b=f.source();var v={name:"chooseMsg",components:{TemplateList:p["default"],videoPlayer:c["videoPlayer"],corpChooseTagModal:d["a"],tagCheckedBox:h["a"]},props:{show:{type:Boolean,default:!1},type:{type:[Number,Array],default:0},news_type:{type:Number,default:0},chooseId:{type:Number,default:0},needConfirm:{type:Boolean,default:!1},callback:{type:Function,default:null},comefrom:{type:String,default:"2"},clearGroup:{type:Boolean,default:!1},author_id:{type:String,default:""},sketchType:{type:String,default:"0"},showRadar:{type:Boolean,default:!1}},data:function(){return{menuType:localStorage.getItem("type"),name:"",selectTagIds:[],selectTagDetail:[],tagGroupVisible:!1,confirmLoading:!1,lastType:0,showVisible:!1,materialList:[],isLoading:!1,col:3,headers:{authorization:"authorization-text"},id:0,choseItem:{},columns:m,page:1,pageSize:15,total:0,quickJumper:!1,commonUrl:this.$store.state.commonUrl,selectedRowKeys:[],groupList:[],groupList1:[],selectGroupId:[],isRadar:0,showRadarVal:0==localStorage.getItem("type")?0:1,material_type:"6",visible2:!1,loading4:!1,imageUrl:"",defaultValue:1,fileInfo:{},materialPicSync:0,selectPicGroupId:"",voiceVisible:!1,voiceTitle:"",voiceName:"",voiceUrl:"",playVoice:!1,t2:"",playVoiceTime:"",materialAudioSync:0,selectAudioGroupId:"",videoVisible:!1,playerVideoOptions:{},videoTitle:"",videoUrl:"",materialVideoSync:0,selectVideoGroupId:"",materialFileSync:0,selectFileGroupId:"",fileVisible:!1,textColomns:[{title:"标题",dataIndex:"file_name",key:"file_name",width:"180px"},{title:"内容",dataIndex:"content",key:"content",width:"25%",scopedSlots:{customRender:"content"}},{title:"素材来源",dataIndex:"group_name",key:"group_name",width:"180px"},{title:"添加时间",dataIndex:"create_time",key:"create_time"}],fileName:"",radarOpen:1,radarDynamicNotification:1,radarTagOpen:1,tagVisible:!1,tag_arr:[],tagName:[],radarTagIds:"",tag_arr1:[],radarTagIds1:"",tagName1:[],tag_arr2:[],radarTagIds2:"",tagName2:[]}},computed:{itemWidth:function(){return 270},gutterWidth:function(){return 10}},methods:{rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},setGroupId:function(t,e,a){"ok"==t&&(this.selectTagIds=e,this.selectTagDetail=a,this.$refs.tagCheckedBox.comfirmLoading=!1),this.tagGroupVisible=!1},getGroupNum:function(t){for(var e=0,a=0;a<t.length;a++)t[a].tag||e++;return e},showSelectTag:function(){this.tagGroupVisible=!0},handleOk:function(t){var e=this;if(this.confirmLoading=!0,0!==this.id){if(null!==this.callback&&"function"===typeof this.callback)if(this.needConfirm){var a=this;this.$confirm({title:"确定选择这个吗？",content:function(t){return t("div",[t("img",{attrs:{src:e.$store.state.commonUrl+e.choseItem.local_path},style:{maxWidth:"100%",maxHeight:"300px",marginTop:"10px"}})])},onOk:function(){a.callback("ok",t,a.id,a.choseItem)},onCancel:function(){a.showVisible=!0},class:"choose-confirm-modal"})}else this.callback("ok",t,this.id,this.choseItem)}else this.$message.warning("请选择素材")},handleCancel:function(t){null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel",t)},getMaterial:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o,r,n,s,l,c,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=d.length>0&&void 0!==d[0]?d[0]:1,a=d.length>1&&void 0!==d[1]?d[1]:this.pageSize,this.isLoading=!0,i=this.type,0!=this.comefrom&&3!=this.comefrom||2!=this.type||(i=1),t.next=7,this.axios.post("attachment/list",{uid:localStorage.getItem("uid"),comefrom:this.comefrom,group_id:this.selectGroupId,file_type:i,news_type:this.news_type,page:e,pageSize:a,wx_id:this.author_id,name:this.name,is_radar:this.isRadar,show_radar:this.showRadar?1:0,tag_ids:this.selectTagIds});case 7:o=t.sent,r=o.data,0==r.error?(this.isLoading=!1,1==this.type?(1==this.news_type?this.materialList=1==e?r.data.attachment.single.list:this.materialList.concat(r.data.attachment.single.list):2==this.news_type?this.materialList=1==e?r.data.attachment.double.list:this.materialList.concat(r.data.attachment.double.list):(n=r.data.attachment.single.list,s=r.data.attachment.double.list,this.materialList=1==e?n.concat(s):this.materialList.concat(n.concat(s))),this.total=parseInt(r.data.count),l=this,1==e&&1==this.type&&(c=document.getElementsByClassName("msg-modal")[0].getElementsByClassName("ant-modal-body")[0],c.onscroll=function(){var t=c.scrollTop,e=c.clientHeight||document.body.clientHeight,a=c.scrollHeight||document.body.scrollHeight;t+e==a&&Math.ceil(l.total/15)>l.page&&l.getMaterial(l.page+1,l.pageSize)})):(this.materialList=r.data.attachment,this.total=parseInt(r.data.count)),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize):(this.isLoading=!1,this.$message.error(r.error_msg));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeRadar:function(){this.materialList=[],this.page=1,this.pageSize=15,this.getMaterial()},changeGroup:function(t){this.selectGroupId=t,this.materialList=[],this.getMaterial()},onSearch:function(){this.materialList=[],this.page=1,this.pageSize=15,this.getMaterial(this.page,this.pageSize)},clearInput:function(){this.name="",this.selectTagIds=[],this.selectTagDetail=[],this.materialList=[],this.page=1,this.pageSize=15,this.getMaterial(this.page,this.pageSize)},scroll:function(t){},loadmore:function(t){},showModal:function(){this.imageUrl="",this.fileInfo={},this.tagName1=JSON.parse(JSON.stringify(this.tagName)),this.tag_arr1=JSON.parse(JSON.stringify(this.tag_arr)),this.visible2=!0,this.material_type=1,this.showVisible=!1},uploadPic:function(){if(this.loading4=!0,!this.fileInfo.uid)return this.$message.warning("请选择图片！"),this.loading4=!1,!1;this.uploadMaterial(this.fileInfo)},cancelUploadPic:function(){this.loading4&&b.cancel(),this.visible2=!1,this.radarOpen=1,this.radarDynamicNotification=1,this.radarTagOpen=1,this.tag_arr=[],this.tagName=[],this.radarTagIds="",this.defaultValue=1,this.imageUrl="",this.materialPicSync=0,this.selectPicGroupId="",this.showVisible=!0},selfUpload:function(t){var e=this,a=(t.action,t.file);t.onSuccess,t.onError,t.onProgress,new Promise((function(t){var i=new FileReader;i.readAsDataURL(a),i.onload=function(){t(i.result),e.imageUrl=i.result}}));this.fileInfo=a},beforeUpload:function(t){if("image/png"!=t.type&&"image/jpg"!=t.type&&"image/jpeg"!=t.type)return this.$message.error("图片类型仅支持png、jpg、jpeg类型！"),!1;var e=t.size/1024/1024<=2;return"3"==this.comefrom&&(e=t.size/1024/1024<=1),e?t.size<=5?(this.$message.error("上传的文件大小需大于5字节！"),!1):e:("3"==this.comefrom?this.$message.error("图片不超过1M！"):this.$message.error("图片不超过2M！"),!1)},changePicMaterialSync:function(){this.selectPicGroupId=this.groupList1[0].key},changeRadarOpen:function(){this.radarOpen=(this.radarOpen+1)%2},changeRadarDynamicNotification:function(){this.radarDynamicNotification=(this.radarDynamicNotification+1)%2},changeRadarTagOpen:function(){this.radarTagOpen=(this.radarTagOpen+1)%2},chooseTag:function(){this.tag_arr2=JSON.parse(JSON.stringify(this.tag_arr1)),this.radarTagIds2=this.radarTagIds1,this.tagName2=JSON.parse(JSON.stringify(this.tagName1)),this.tagVisible=!0},deleteTag:function(t){this.tag_arr.splice(t,1),this.radarTagIds=this.tag_arr.join(","),this.tagName.splice(t,1)},handleTag:function(){this.tag_arr=JSON.parse(JSON.stringify(this.tag_arr1)),this.radarTagIds=this.radarTagIds1,this.tagName=JSON.parse(JSON.stringify(this.tagName1)),this.tagVisible=!1},handleCancelTag:function(){this.tag_arr1=[],this.radarTagIds1="",this.tagName1=[],this.tagVisible=!1},chooseTags:function(t,e,a){"ok"==t&&(""!=e?(this.tag_arr1=e.split(","),this.radarTagIds1=e,this.tagName1=JSON.parse(JSON.stringify(a))):(this.tag_arr1=[],this.radarTagIds1="",this.tagName1=[]))},showModalVoice:function(){this.getGroupList1(),this.voiceTitle="",this.voiceName="",this.voiceUrl="",this.playVoiceTime="",this.fileInfo={},this.voiceVisible=!0,this.material_type=2,this.showVisible=!1},uploadVoice:function(){if(this.loading4=!0,this.voiceTitle.trim().length<=0)return this.$message.warning("请填写标题！"),this.loading4=!1,!1;if(!this.fileInfo.uid)return this.$message.warning("请选择音频！"),this.loading4=!1,!1;var t={name:this.voiceTitle,fileInfo:this.fileInfo};this.uploadMaterial(t)},cancelUploadVoice:function(){this.loading4&&b.cancel(),clearInterval(this.t2),this.voiceVisible=!1,this.voiceUrl="",this.playVoiceTime="",this.playVoice=!1,this.voiceName="",this.materialAudioSync=0,this.selectAudioGroupId="",this.showVisible=!0},selfUploadVoice:function(t){var e=this,a=(t.action,t.file),i=(t.onSuccess,t.onError,t.onProgress,this);new Promise((function(t){var o=new FileReader;o.readAsDataURL(a),e.voiceName=a.name,o.onload=function(){i.voiceUrl=o.result,i.$refs.audio1.src=o.result,t(o.result)}}));this.fileInfo=a},beforeUploadVoice:function(t){if(1==this.comefrom){if("audio/amr"!=t.type)return this.$message.error("音频类型仅支持AMR类型！"),!1}else if("audio/mp3"!=t.type&&"audio/amr"!=t.type&&"audio/mpeg"!=t.type)return this.$message.error("音频类型仅支持AMR、MP3类型！"),!1;var e=t.size/1024/1024<=2;return e?t.size<=5?(this.$message.error("上传的文件大小需大于5字节！"),!1):(this.playVoice=!1,clearInterval(this.t2),e):(this.$message.error("音频不超过2M！"),!1)},playMusic1:function(){var t=this,e=this;if(this.playVoice)return this.$refs.audio1.pause(),e.playVoice=!1,void clearInterval(this.t2);this.$refs.audio1.play(),this.playVoice=!0,this.t2=setInterval((function(){e.playVoiceTime--,e.playVoiceTime<=0&&(e.playVoice=!1,clearInterval(t.t2),e.playVoiceTime=Math.ceil(t.$refs.audio1.duration))}),1e3)},oncanplay1:function(t){this.playVoiceTime=Math.ceil(t.target.duration)},changeaudioMaterialSync:function(){this.selectAudioGroupId=this.groupList1[0].key},showModalVideo:function(){this.getGroupList1(),this.videoTitle="",this.fileInfo={},this.videoUrl="",this.playerVideoOptions={},this.videoVisible=!0,this.material_type=3,this.showVisible=!1},uploadVideo:function(){if(this.loading4=!0,this.videoTitle.trim().length<=0)return this.$message.warning("请填写标题！"),this.loading4=!1,!1;if(!this.fileInfo.uid)return this.$message.warning("请选择视频！"),this.loading4=!1,!1;var t={name:this.videoTitle,fileInfo:this.fileInfo};this.uploadMaterial(t)},cancelUploadVideo:function(){this.loading4&&b.cancel(),this.videoVisible=!1,this.materialVideoSync=0,this.selectVideoGroupId="",this.radarOpen=1,this.radarDynamicNotification=1,this.radarTagOpen=1,this.tag_arr=[],this.tagName=[],this.radarTagIds="",this.showVisible=!0},selfUploadVideo:function(t){var e=this,a=(t.action,t.file),i=(t.onSuccess,t.onError,t.onProgress,this);new Promise((function(t){var o=new FileReader;o.readAsDataURL(a),e.videoName=a.name,o.onload=function(){i.videoUrl=o.result,i.playerVideoOptions=g({},i.publicOptions,{sources:[{src:o.result,type:"video/mp4"}]}),t(o.result)}}));this.fileInfo=a},beforeUploadVideo:function(t){if("video/mp4"!=t.type)return this.$message.error("视频类型仅支持mp4类型！"),!1;var e=t.size/1024/1024<=10;return e?t.size<=5?(this.$message.error("上传的文件大小需大于5字节！"),!1):e:(this.$message.error("视频不超过10M！"),!1)},changeVideoMaterialSync:function(){this.selectVideoGroupId=this.groupList1[0].key},showModalFile:function(){this.getGroupList1(),this.material_type=5,this.fileInfo={},this.fileName="",this.fileVisible=!0},cancelUploadFile:function(){this.fileVisible=!1,this.radarOpen=1,this.radarDynamicNotification=1,this.radarTagOpen=1,this.tag_arr=[],this.tagName=[],this.radarTagIds=""},uploadFile:function(){if(this.loading4=!0,!this.fileInfo.uid)return this.$message.warning("请选择文件！"),this.loading4=!1,!1;this.uploadMaterial(this.fileInfo)},selfUploadFile:function(t){var e=this,a=(t.action,t.file);t.onSuccess,t.onError,t.onProgress,new Promise((function(t){var i=new FileReader;i.readAsDataURL(a),e.fileName=a.name,i.onload=function(){t(i.result)}}));this.fileInfo=a},beforeUploadFile:function(t){var e=t.size/1024/1024<=20;return e?t.size<=5?(this.$message.error("上传的文件大小需大于5字节！"),!1):e:(this.$message.error("文件不超过20M！"),!1)},changeFileMaterialSync:function(){this.selectFileGroupId=this.groupList1[0].key},uploadMaterial:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading4=!0,a={uid:localStorage.getItem("uid")},1==this.material_type?(a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("isMasterAccount",localStorage.getItem("isMasterAccount")),a.append("sub_id",localStorage.getItem("sub_id")),a.append("file_type",this.material_type),a.append("fileInfo",e),a.append("is_sync",this.materialPicSync),1==this.materialPicSync?(a.append("group_id",this.selectPicGroupId),1==this.menuType&&this.showRadar?a.append("radar_open",this.radarOpen):a.append("radar_open",0)):a.append("radar_open",0)):2==this.material_type?(a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("isMasterAccount",localStorage.getItem("isMasterAccount")),a.append("sub_id",localStorage.getItem("sub_id")),a.append("file_type",this.material_type),a.append("name",e.name),a.append("fileInfo",e.fileInfo),a.append("is_sync",this.materialAudioSync),1==this.materialAudioSync&&a.append("group_id",this.selectAudioGroupId)):3==this.material_type?(a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("isMasterAccount",localStorage.getItem("isMasterAccount")),a.append("sub_id",localStorage.getItem("sub_id")),a.append("file_type",this.material_type),a.append("name",e.name),a.append("fileInfo",e.fileInfo),a.append("is_sync",this.materialVideoSync),1==this.materialVideoSync?(a.append("group_id",this.selectVideoGroupId),1==this.menuType&&this.showRadar?a.append("radar_open",this.radarOpen):a.append("radar_open",0)):a.append("radar_open",0)):5==this.material_type&&(a=new FormData,a.append("uid",localStorage.getItem("uid")),a.append("isMasterAccount",localStorage.getItem("isMasterAccount")),a.append("sub_id",localStorage.getItem("sub_id")),a.append("file_type",this.material_type),a.append("name",e.name),a.append("fileInfo",this.fileInfo),a.append("is_sync",this.materialFileSync),1==this.materialVideoSync?(a.append("group_id",this.selectVideoGroupId),1==this.menuType&&this.showRadar?a.append("radar_open",this.radarOpen):a.append("radar_open",0)):a.append("radar_open",0)),3!=this.material_type&&5!=this.material_type||1!=this.menuType||(a.append("radar_dynamic_notification",this.radarDynamicNotification),0==this.radarTagIds.length&&this.showRadar?this.radarTagOpen=0:this.radarTagOpen=1,a.append("radar_tag_open",this.radarTagOpen),a.append("radar_tag_ids",this.radarTagIds)),t.next=6,this.axios.post("attachment/add",a,{cancelToken:b.token});case 6:i=t.sent,o=i.data,0==o.error?(this.id=o.data.attachment_id,this.visible2=!1,this.materialPicSync=0,this.selectPicGroupId="",this.voiceVisible=!1,this.materialAudioSync=0,this.selectAudioGroupId="",this.videoVisible=!1,this.materialVideoSync=0,this.selectVideoGroupId="",this.fileVisible=!1,this.materialFileSync=0,this.selectFileGroupId="",this.radarOpen=1,this.radarDynamicNotification=1,this.radarTagOpen=1,this.tag_arr=[],this.tagName=[],this.radarTagIds="",this.callback("ok","",this.id,o.data.info),this.loading4=!1):(this.$message.error(o.error_msg),this.loading4=!1);case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),chooseArt:function(t,e){this.id=parseInt(t),this.choseItem=this.materialList[e]},onSelectChange:function(t,e){this.selectedRowKeys=[],this.id=parseInt(t[0]),this.choseItem=e[0],this.selectedRowKeys.push(t[0])},changePage:function(t,e){this.getMaterial(t,e)},showSizeChange:function(t,e){this.getMaterial(1,e)},getGroupList1:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={uid:localStorage.getItem("uid"),is_channel:1},t.next=3,this.axios.post("attachment/group",e);case 3:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):this.groupList1=JSON.parse(JSON.stringify(i.data.group));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getGroupList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={uid:localStorage.getItem("uid")},2!=this.type&&(e["is_channel"]=1),t.next=4,this.axios.post("attachment/group",e);case 4:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):(this.groupList=i.data.group,this.groupList1=JSON.parse(JSON.stringify(i.data.group)),o={key:"",value:"0",parent_id:null,title:"所有",sort:0,is_not_group:0,scopedSlots:{title:"custom"},children:[]},this.groupList.splice(0,0,o));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},watch:{show:function(t){if(this.confirmLoading=!1,this.name="",this.showVisible=t,this.choseItem={},this.materialList=[],this.selectTagIds=[],this.selectTagDetail=[],this.show)this.clearGroup&&(this.selectGroupId=[]),this.lastType!=this.type&&(this.lastType=this.type,this.selectGroupId=[]),this.getMaterial(),this.getGroupList();else{var e=document.getElementsByClassName("msg-modal")[0].getElementsByClassName("ant-modal-body")[0];e.onscroll=function(){return!1}}this.chooseId!=this.id&&(this.id=this.chooseId,this.selectedRowKeys=[],this.selectedRowKeys.push(this.chooseId.toString()))},chooseId:function(t){if(t!=this.id){this.id=t;var e=this.id.toString();this.selectedRowKeys=[],this.selectedRowKeys.push(e)}}}},x=v,w=(a("8373"),a("2877")),y=Object(w["a"])(x,i,o,!1,null,"a6200ebe",null);e["a"]=y.exports},"2c75":function(t,e,a){t.exports=a.p+"assets/img/token.e3f53cc5.png"},"2d3a":function(t,e,a){"use strict";var i=a("8e3c"),o=a.n(i);o.a},"467b":function(t,e,a){"use strict";var i=a("203a"),o=a.n(i);o.a},"478b":function(t,e,a){var i=a("4cb4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("c7666db2",i,!0,{sourceMap:!1,shadowMode:!1})},4909:function(t,e,a){e=t.exports=a("2350")(!1),e.i(a("83fb"),""),e.i(a("9249"),""),e.push([t.i,"[data-v-df281aa6] .ant-divider-horizontal{margin:5px 0 15px}.content-msg[data-v-df281aa6]{border:1px solid #ffdda6;background:#fff2db;padding:10px;margin:0 0 15px 0;text-align:left}.content-msg a[data-v-df281aa6]:link,.content-msg a[data-v-df281aa6]:visited{color:#1890ff;text-decoration:none}.item-info[data-v-df281aa6] p{margin:0;word-break:break-word}.hide[data-v-df281aa6]{display:none!important}#components-layout-demo-basic[data-v-df281aa6]{height:100%}#components-layout-demo-basic .ant-layout-header[data-v-df281aa6]{background:#fff;border-bottom:1px solid #e2e2e2;height:50px;min-width:760px;width:100%;line-height:50px}[data-v-df281aa6] .ant-layout-header{padding:0 20px;font-size:16px;text-align:left}[data-v-df281aa6] .ant-radio-button-wrapper{width:200px;height:55px;line-height:55px;padding:0 10px;margin:10px 5px}[data-v-df281aa6] .ant-col-15{margin-left:15px}[data-v-df281aa6] .ant-card-meta-avatar{float:right;padding:0}#components-layout-demo-basic .ant-layout-content[data-v-df281aa6]{min-width:760px;width:100%;position:relative}.content[data-v-df281aa6]{border:1px solid #e2e2e2;min-width:760px;position:absolute;top:20px;left:20px;right:20px;background-color:#fafafa;margin-bottom:20px}#components-layout-demo-basic>.ant-layout[data-v-df281aa6]{margin-bottom:48px}#components-layout-demo-basic>.ant-layout[data-v-df281aa6]:last-child{margin:0;height:100%}.list[data-v-df281aa6]{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;overflow-x:hidden;overflow-y:auto}.content-hd[data-v-df281aa6]{height:80px;padding:20px 0;max-width:900px;border-bottom:1px solid #e2e2e2}.content-bd[data-v-df281aa6]{background:#fafafa;max-width:900px}.msg_content_body[data-v-df281aa6]{border-radius:4px;font-size:14px;color:#333;margin:20px}[data-v-df281aa6] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;cursor:pointer}.pull-left[data-v-df281aa6]{width:88px}.push-type-item[data-v-df281aa6]{position:relative;margin-bottom:8px;border:1px solid #d8d8d8;border-right:0;z-index:1;cursor:pointer;line-height:38px}.active[data-v-df281aa6]{background:#fff;margin-right:-1px}.type[data-v-df281aa6]{display:inline-block;width:65px;border-right:1px solid transparent;text-align:center}.add-new[data-v-df281aa6]{background:#f9f9f9;cursor:pointer}.add-icon[data-v-df281aa6]{font-size:12px;width:30px}.add-btn[data-v-df281aa6],.add-icon[data-v-df281aa6]{float:left;height:38px;line-height:38px;text-align:center;border:1px dashed #d8d8d8;border-right:0}.add-btn[data-v-df281aa6]{width:58px}.pull-right[data-v-df281aa6]{width:560px;max-height:574px;height:360px;background:#fff;border:1px solid #d8d8d8;padding:24px;overflow:auto}.fl[data-v-df281aa6]{float:left}.msg_content_txt[data-v-df281aa6]{width:calc(100% - 46px);border:1px solid #e9e9e9;padding:10px 16px;border-radius:4px;font-size:14px;color:#1a1a1a;background:#fff;float:left;word-break:break-word}.box[data-v-df281aa6]{float:right;width:46px;height:46px;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;border:2px solid #1890ff}.mt[data-v-df281aa6]{margin-bottom:15px;overflow:hidden}[data-v-df281aa6] #components-layout-demo-basic .ant-layout-sider{background:#fff;-webkit-box-flex:0!important;-ms-flex:0 0 24%!important;flex:0 0 24%!important;max-width:24%!important;min-width:24%!important;width:24%!important;border-right:1px solid #e2e2e2;padding:20px 20px}.wrap[data-v-df281aa6]{border:1px solid #e2d6d6;margin:auto;width:100%;background:#f5f5f5;overflow-y:auto;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap[data-v-df281aa6],[data-v-df281aa6] .ant-layout,[data-v-df281aa6] .ant-spin-container,[data-v-df281aa6] .ant-spin-nested-loading{height:100%}.popover-menu[data-v-df281aa6]{cursor:pointer;text-align:center;display:inline-block;width:80px;border:1px solid rgba(0,0,0,.2)}.popover-menu1[data-v-df281aa6],.popover-menu2[data-v-df281aa6]{margin-left:10px}.popover-menu p[data-v-df281aa6]{margin-bottom:5px}.material[data-v-df281aa6]{max-width:80px;max-height:80px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.material-div[data-v-df281aa6]{display:inline-block;position:relative;width:100px;height:100px;border:1px dashed #d8d8d8}.clear-current-list[data-v-df281aa6]{display:inline-block;cursor:pointer;margin-left:10px;color:#1890ff}[data-v-df281aa6] .ant-form-item-control{margin-left:15px;margin-bottom:10px}.upload-wrap[data-v-df281aa6]{width:96px;height:96px;text-align:center;border:1px dashed #d8d8d8;background:#fff;cursor:pointer;margin-bottom:10px;float:left}.upload-plus[data-v-df281aa6]{font-size:32px;line-height:96px;font-weight:300;color:#686868}.url-title[data-v-df281aa6]{white-space:nowrap;font-size:18px}.url-text[data-v-df281aa6],.url-title[data-v-df281aa6]{overflow:hidden;text-overflow:ellipsis}.url-text[data-v-df281aa6]{float:left;max-width:calc(100% - 74px);word-break:break-word;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;color:#a3a3a3}.url-img[data-v-df281aa6]{float:right;width:64px;height:64px}.applet-title[data-v-df281aa6]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:10px}[data-v-df281aa6] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:52px}.upload-border[data-v-df281aa6]{background:#fff;border:1px dotted #d8d8d8;height:110px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;margin-bottom:10px}.changeType-text[data-v-df281aa6]{background:#fff2db;border:1px solid #ffdda6;border-radius:2px;padding:7px 27px 6px 10px;font-size:12px;width:100%;margin-top:12px;max-width:673px;line-height:20px;margin-bottom:15px}.content-editable[data-v-df281aa6]{font-size:14px;line-height:21px;padding:15px;border:1px solid #d9d9d9;height:110px;overflow:auto}.content-editable[data-v-df281aa6] p{margin:0;word-break:break-word}",""])},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"4cb4":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.content-hd[data-v-a6200ebe]{padding:0;margin:8px 0;text-align:left}.fileSize[data-v-a6200ebe]{background-color:#fff;float:left;width:197px;height:96px;margin-bottom:15px;margin-right:13px;overflow:hidden;border:1px solid #e9e9e9;cursor:pointer;border-radius:6px;position:relative}.fileSize .fileSize-title[data-v-a6200ebe]{color:#999;height:22px;line-height:22px;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border-bottom:1px solid #e9e9e9}.file-name[data-v-a6200ebe]{float:right;max-width:calc(100% - 60px);word-break:break-all;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;font-size:12px}.imgSize[data-v-a6200ebe]{background-color:#fff;float:left;width:156.8px;height:174px;margin-bottom:15px;margin-right:13px;overflow:hidden;border:1px solid #e9e9e9;cursor:pointer;border-radius:6px;position:relative}.imgSize .imgSize-title[data-v-a6200ebe]{color:#999;height:22px;line-height:22px;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border-bottom:1px solid #e9e9e9}.imgSize .imgSize-img[data-v-a6200ebe]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:156.8px;height:152px}.imgSize img[data-v-a6200ebe]{max-width:100%;max-height:100%}.imgSize[data-v-a6200ebe]:nth-child(5n+0){margin-right:0}.active[data-v-a6200ebe]{border:2px solid #3b74ff}.active[data-v-a6200ebe]:after{content:"";width:20px;height:20px;background-image:url(https://s.weituibao.com/static/1544152635969/select.png);background-size:20px 20px;position:absolute;top:0;right:0}[data-v-a6200ebe] .vue-waterfall{height:auto!important}[data-v-a6200ebe] .dark-row{background:#fafafa}[data-v-a6200ebe] .light-row{background:#fff}[data-v-a6200ebe] .ant-spin-container,[data-v-a6200ebe] .ant-spin-nested-loading{height:100%}[data-v-a6200ebe] .ant-card-head-title{padding:6px 0;color:#999;font-size:14px}[data-v-a6200ebe] .ant-card-head{padding:0 10px;min-height:36px;border-bottom:0}[data-v-a6200ebe] .ant-upload.ant-upload-select-picture-card{display:inline-block;margin-bottom:0}[data-v-a6200ebe] .ant-upload.ant-upload-select-picture-card .anticon{font-size:16px}[data-v-a6200ebe] .ant-upload.ant-upload-select-picture-card>.ant-upload{display:block}.audio[data-v-a6200ebe]{float:none;width:100%;height:52px}.box[data-v-a6200ebe]{float:right;width:46px;height:46px;border-radius:50%;position:relative;border:2px solid #1890ff}.box[data-v-a6200ebe],.wifi-symbol[data-v-a6200ebe]{-webkit-box-sizing:border-box;box-sizing:border-box}.wifi-symbol[data-v-a6200ebe]{width:30px;height:30px;overflow:hidden;-webkit-transform:rotate(135deg);transform:rotate(135deg);position:absolute;left:13px;top:6px}.wifi-circle[data-v-a6200ebe]{border:2px solid #1890ff;border-radius:50%;position:absolute}.first[data-v-a6200ebe]{width:5px;height:5px;background:#1890ff;top:25px;left:25px}.second[data-v-a6200ebe]{width:25px;height:25px;top:15px;left:15px}.third[data-v-a6200ebe]{width:40px;height:40px;top:5px;left:5px}.second1[data-v-a6200ebe]{width:25px;height:25px;top:15px;left:15px;-webkit-animation:fadeInOut-data-v-a6200ebe 1s .2s infinite;animation:fadeInOut-data-v-a6200ebe 1s .2s infinite}.third1[data-v-a6200ebe]{width:40px;height:40px;top:5px;left:5px;-webkit-animation:fadeInOut-data-v-a6200ebe 1s .4s infinite;animation:fadeInOut-data-v-a6200ebe 1s .4s infinite}@-webkit-keyframes fadeInOut-data-v-a6200ebe{0%{opacity:0}to{opacity:1}}@keyframes fadeInOut-data-v-a6200ebe{0%{opacity:0}to{opacity:1}}[data-v-a6200ebe] .video-js{max-width:100%;height:112.5px}[data-v-a6200ebe] .ant-card-meta-avatar{float:right;padding-right:0}.file-icon[data-v-a6200ebe]{width:50px;height:50px;margin:0!important}.file-card[data-v-a6200ebe]{border:0!important}.vue-waterfall[data-v-a6200ebe]{min-width:840px}[data-v-a6200ebe] .ant-input-affix-wrapper .ant-input:not(:last-child){padding-right:43px!important}[data-v-a6200ebe] .ant-input-affix-wrapper .ant-input-suffix{right:6px!important}.inputTitle2[data-v-a6200ebe]{background:none;max-height:104px;padding:20px;overflow:hidden;text-overflow:-o-ellipsis-lastline;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;line-clamp:2;-webkit-box-orient:vertical}.inputTitle2 p[data-v-a6200ebe]{margin-bottom:0}.upload-botton[data-v-a6200ebe]{text-align:right}',""])},"59fe":function(t,e,a){var i=a("b6ee");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("2af37125",i,!0,{sourceMap:!1,shadowMode:!1})},6617:function(t,e,a){"use strict";var i=a("a3bb"),o=a.n(i);o.a},8373:function(t,e,a){"use strict";var i=a("478b"),o=a.n(i);o.a},"83fb":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".medium-toolbar-arrow-under:after{border-color:#242424 transparent transparent transparent;top:50px}.medium-toolbar-arrow-over:before{border-color:transparent transparent #242424 transparent;top:-8px}.medium-editor-toolbar{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.75)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.75));border:1px solid #000;border-radius:5px;-webkit-box-shadow:0 0 3px #000;box-shadow:0 0 3px #000}.medium-editor-toolbar li button{background-color:#242424;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(36,36,36,.89)));background:linear-gradient(180deg,#242424,rgba(36,36,36,.89));border:0;border-right:1px solid #000;border-left:1px solid #333;border-left:1px solid hsla(0,0%,100%,.1);-webkit-box-shadow:0 2px 2px rgba(0,0,0,.3);box-shadow:0 2px 2px rgba(0,0,0,.3);color:#fff;height:50px;min-width:50px;-webkit-transition:background-color .2s ease-in;transition:background-color .2s ease-in}.medium-editor-toolbar li button:hover{background-color:#000;color:#ff0}.medium-editor-toolbar li .medium-editor-button-first{border-bottom-left-radius:5px;border-top-left-radius:5px}.medium-editor-toolbar li .medium-editor-button-last{border-bottom-right-radius:5px;border-top-right-radius:5px}.medium-editor-toolbar li .medium-editor-button-active{background-color:#000;background:-webkit-gradient(linear,left top,left bottom,from(#242424),to(rgba(0,0,0,.89)));background:linear-gradient(180deg,#242424,rgba(0,0,0,.89));color:#fff}.medium-editor-toolbar-form{background:#242424;border-radius:5px;color:#999}.medium-editor-toolbar-form .medium-editor-toolbar-input{background:#242424;-webkit-box-sizing:border-box;box-sizing:border-box;color:#ccc;height:50px}.medium-editor-toolbar-form a{color:#fff}.medium-editor-toolbar-anchor-preview{background:#242424;border-radius:5px;color:#fff}.medium-editor-placeholder:after{color:#b3b3b1}",""])},"8c10c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{staticClass:"msg-modal",attrs:{width:"888px!important",title:"选择群聊",zIndex:9999},on:{ok:t.handleOk,cancel:t.handleCancle},model:{value:t.chatVisible,callback:function(e){t.chatVisible=e},expression:"chatVisible"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("a-input-search",{staticStyle:{width:"230px","margin-right":"10px"},attrs:{placeholder:"输入群名称"},on:{input:function(e){return t.getChatList(1)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("div",[a("a-select",{staticStyle:{width:"230px"},attrs:{showSearch:"",getPopupContainer:function(t){return t.parentNode},optionFilterProp:"children",placeholder:"群分组",allowClear:!0},on:{change:function(e){return t.getChatList(1)}},model:{value:t.chartGroup,callback:function(e){t.chartGroup=e},expression:"chartGroup"}},t._l(t.chartGroupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t\t")])})),1)],1),a("div",[1==t.isSop?a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear}},[t._v("清空")]):t._e()],1)],1),t.noticeTitle?a("div",{staticStyle:{color:"#FF562D","margin-top":"10px"}},[t._v(t._s(t.noticeTitle))]):t._e(),a("p",{staticStyle:{margin:"10px 0"}},[t._v("全部群聊（"+t._s(t.count)+"）：")]),a("div",{staticClass:"chat-checkbox",staticStyle:{height:"300px"}},[a("a-checkbox-group",{key:t.checkedKey,attrs:{value:t.chatData}},t._l(t.chatList,(function(e){return a("a-row",[a("a-checkbox",{attrs:{value:e.chat_id,disabled:1==e.isRemind&&1==t.isDisable&&t.content(t.chatIds,e.chat_id)||1==t.isSop&&t.isSopChooseComp(t.chatData,e)},on:{click:function(a){return t.chooseChat(e.chat_id)}}},[0==e.avatarData.length?a("span",{staticStyle:{background:"#1890FF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[a("img",{staticStyle:{width:"20px",margin:"8px",height:"20px"},attrs:{src:t.img}})]):1==e.avatarData.length?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top","border-radius":"4px",float:"left"}},[""!=e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.avatarData[0]}}):t._e(),""==e.avatarData[0]?a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.img2}}):t._e()]):e.avatarData.length>1&&e.avatarData.length<=4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"17px",height:"17px"},attrs:{src:t.img2}}):t._e()]}))],2):e.avatarData.length>4?a("span",{staticStyle:{background:"#DFDFDF",width:"36px",height:"36px","margin-right":"5px","vertical-align":"top",display:"flex","flex-wrap":"wrap","justify-content":"space-around","border-radius":"4px",float:"left","align-items":"center"}},[t._l(e.avatarData,(function(e){return[""!=e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:e}}):t._e(),""==e?a("img",{staticStyle:{width:"10px",height:"10px"},attrs:{src:t.img2}}):t._e()]}))],2):t._e(),a("div",{staticStyle:{display:"inline-block","vertical-align":"top",width:"calc(100% - 80px)"}},[a("div",{staticClass:"flex items-center w-ful justify-between"},[a("div",[a("a-popover",{attrs:{placement:"topLeft",overlayStyle:{"z-index":999999999}}},[a("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t")]),a("div",{staticClass:"ss-ellipsis-1 pr-10 ss-break-all"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t"),e.member_num&&1==t.isShowGroupOwner?a("span",[t._v("（"+t._s(e.member_num)+"）")]):t._e()])],2),e.name&&""!=e.name?t._e():a("div",[t._v("--")]),a("div",[0==t.isShowGroupOwner?a("span",[t._v(t._s(e.member_num)+"/200")]):t._e(),e.owner_name&&1==t.isShowGroupOwner?a("span",{staticStyle:{color:"#AAAAAA"}},[t._v("群主："+t._s(e.owner_name))]):t._e()])],1),1==t.isSop&&t.isSopChooseComp(t.chatData,e)?a("div",{staticClass:"flex-none"},[t._v("\n\t\t\t\t\t\t\t\t\t该群已有规则\n\t\t\t\t\t\t\t\t")]):t._e()])])])],1)})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],staticClass:"pagination",staticStyle:{width:"100%",margin:"20px 0px","padding-bottom":"20px",height:"50px"}},[a("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[a("a-pagination",{attrs:{total:t.count,showSizeChanger:"",showQuickJumper:!0,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.getChatList,showSizeChange:t.getChatList}})],1)])],1)])],1)},o=[],r=(a("96cf"),a("3b8d")),n=(a("ac4d"),a("8a81"),a("ac6a"),a("c5f6"),a("bc3a")),s=a.n(n),l=a("e306"),c=a.n(l),d=a("4bef"),p=a.n(d),h=s.a.CancelToken,u=h.source(),g={name:"wxModal",props:{show:{type:Boolean,default:!1},chatIds:{type:Array,default:function(){return[]}},chatArr:{type:Array,default:function(){return[]}},chatArrt:{type:Array,default:function(){return[]}},callback:{type:Function,default:null},isDisable:{type:Number,default:0},corpId:{type:String,default:localStorage.getItem("corpId")?localStorage.getItem("corpId"):""},noticeTitle:{type:String,default:""},isRemindAll:{type:Number,default:0},is_list:{type:Number,default:0},isSop:{type:Number,default:0},isShowGroupOwner:{type:Number,default:0}},data:function(){localStorage.getItem("corpId")&&localStorage.getItem("corpId");return{img:c.a,img2:p.a,chartGroupList:[],chatVisible:!1,chatList:[],cancelFlag:!1,checkedKey:0,searchValue:"",page2:1,pageSize2:15,count:0,chatData:[],chooseNum:0,chartGroup:void 0}},methods:{content:function(t,e){var a=!0,i=!1,o=void 0;try{for(var r,n=t[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var s=r.value;if(s==e)return!1}}catch(l){i=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return!0},getChartGroupList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat/chat-group-list",{corp_id:this.corpId});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):([{group_name:"群分组",id:0}],this.chartGroupList=a.data.info,this.getChatList());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isSopChooseComp:function(t,e){return 1==e.disabled&&-1==this.chatArrt.indexOf(e.chat_id)},getChatList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:15,this.cancelFlag=!0,t.next=5,this.axios.post("work-chat/chat-list",{corp_id:this.corpId,name:this.searchValue,is_remind_all:this.isRemindAll,page:e,page_size:a,is_list:this.is_list,is_sop:this.isSop,group_id:this.chartGroup},{cancelToken:u.token});case 5:i=t.sent,o=i.data,0!=o.error?this.$message.error(o.error_msg):(this.count=o.data.count,this.cancelFlag=!1,this.page2=e,this.pageSize2=a,this.chatList=o.data.list);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseChat:function(t){for(var e=!0,a=0;a<this.chatData.length;a++)this.chatData[a]==t&&(this.chatData.splice(a,1),e=!1);e&&this.chatData.push(t)},handleOk:function(){this.searchValue="",this.chooseNum=this.chatData.length,this.chatVisible=!1,null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.chooseNum,this.chatData)},clear:function(){this.chooseNum=0,this.chatData=[]},handleCancle:function(){this.checkedKey++,this.cancelFlag&&u.cancel(),this.searchValue="",this.chatVisible=!1,this.chatData=[],this.chatList=[],null!==this.callback&&"function"===typeof this.callback&&this.callback("cancel")}},watch:{show:function(t){this.chatVisible=t,this.chatVisible&&(this.searchValue="",this.chartGroup=void 0,this.chatData=JSON.parse(JSON.stringify(this.chatArr)),this.getChartGroupList())}},mounted:function(){}},m=g,f=(a("2d3a"),a("2877")),b=Object(f["a"])(m,i,o,!1,null,"37bdbcfe",null);e["a"]=b.exports},"8e3c":function(t,e,a){var i=a("9125");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("1b2c097c",i,!0,{sourceMap:!1,shadowMode:!1})},9125:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-37bdbcfe] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-37bdbcfe] .ant-radio-group{vertical-align:top}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox-wrapper{width:100%;border-bottom:1px dashed #e9e9e9;padding:10px 0}.chat-checkbox[data-v-37bdbcfe] .ant-checkbox{float:right;margin-top:15px}.noMore[data-v-37bdbcfe]{text-align:center;padding:10px 0;font-size:12px;color:#999}.dropdown-style[data-v-37bdbcfe] .ant-select-dropdown{z-index:99999999999!important}",""])},9249:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s ease-in-out infinite;animation:medium-editor-image-loading 1s ease-in-out infinite;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;position:absolute;left:0;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-editor-placeholder-relative{position:relative}.medium-editor-placeholder-relative:after{content:attr(data-placeholder)!important;font-style:italic;position:relative;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0 8px}.medium-toolbar-arrow-over:before{border-width:0 8px 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s linear forwards;animation:medium-editor-pop-upwards .16s linear forwards}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;-webkit-box-shadow:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}.medium-editor-element{word-wrap:break-word;min-height:30px}.medium-editor-element img{max-width:100%}.medium-editor-element sub{vertical-align:sub}.medium-editor-element sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},"9d91":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-e8503c8c] .ant-tag-checkable-checked{background-color:#1890ff!important;border-color:#1890ff!important;color:#fff!important}[data-v-e8503c8c] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;margin:0 5px;padding:3px 15px;cursor:pointer}[data-v-e8503c8c] .ant-form-item-control{margin-left:15px;margin-bottom:10px}[data-v-e8503c8c] .ant-tree-checkbox{float:right}[data-v-e8503c8c] .ant-tree-iconEle{display:none!important}[data-v-e8503c8c] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-e8503c8c] .ant-list-item{border-bottom:0;padding:0}[data-v-e8503c8c] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-e8503c8c] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-e8503c8c]{color:red;margin:0 20px 12px 0}.group-name[data-v-e8503c8c]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-e8503c8c]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}",""])},a3bb:function(t,e,a){var i=a("1fa6");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("0708ddb1",i,!0,{sourceMap:!1,shadowMode:!1})},b463:function(t,e,a){var i=a("4909");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("518263ed",i,!0,{sourceMap:!1,shadowMode:!1})},b6ee:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-440e9184] .ant-radio-button-wrapper{width:200px;height:55px;line-height:47px;padding:0 10px;margin:10px 5px}[data-v-440e9184] .wxtpl .ant-radio-button-wrapper-checked{border:2px solid #1890ff!important}.text[data-v-440e9184]{margin-left:5px;vertical-align:middle;display:inline-block;width:calc(100% - 37px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},c0d0:function(t,e,a){"use strict";var i=a("b463"),o=a.n(i);o.a},c36f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("div",{attrs:{id:"components-layout-demo-basic"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("a-layout",[i("a-layout-header",[""==t.urlId?[t._v("群聊违规提醒设置")]:t._e(),""!=t.urlId?[t._v("群聊违规提醒修改")]:t._e(),i("a-button",{staticStyle:{"font-size":"14px",float:"right","margin-right":"15px","margin-top":"7px",height:"32px","line-height":"16px"},attrs:{type:"primary",icon:"rollback"},on:{click:t.goBack}},[t._v("\n\t\t\t\t\t\t返回列表\n\t\t\t\t\t")])],2),i("a-layout-content",[i("div",{staticClass:"content"},[t.$store.state.corpArr.length>1?i("div",{staticClass:"content-hd"},[i("a-form",[i("a-form-item",{attrs:{label:"选择企业微信","label-col":{span:4},"wrapper-col":{span:20}}},[[i("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.changeCorp}},[i("img",{staticStyle:{width:"24px",margin:"-3px 6px 0 0"},attrs:{src:a("de05")}}),i("span",[t._v(t._s(t.corpName))]),""==t.urlId?i("a-icon",{staticStyle:{width:"50px",height:"40px","text-align":"left","line-height":"40px","margin-left":"20px"},attrs:{type:"caret-down"}}):t._e()],1),i("span",{staticStyle:{color:"#F56C6C"}},[t._v("（一旦创建，不可修改）")])]],2)],1)],1):t._e(),i("div",{staticClass:"content-bd",staticStyle:{"padding-top":"20px"}},[i("a-form",[i("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("template",{slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("规则名称\n\t\t\t\t\t\t\t\t\t")]),i("a-input",{staticStyle:{width:"375px"},attrs:{placeholder:"请填写规则名称，限20字符",maxLength:20,disabled:!!this.urlId},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),i("span",{staticStyle:{display:"inline-block",width:"200px","margin-left":"10px",color:"#F56C6C"}},[t._v(t._s(t.title.length)+" / 20（一旦发布，不可修改）")])],2),i("a-form-item",{attrs:{label:"选择应用","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-select",{staticStyle:{width:"170px","margin-bottom":"15px","margin-right":"5px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择应用"},on:{change:t.changeAgentId},model:{value:t.agentId,callback:function(e){t.agentId=e},expression:"agentId"}},[t._l(t.agentList,(function(e){return[i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.name))])]}))],2),i("div",{staticClass:"content-msg",staticStyle:{"font-size":"13px"}},[i("p",{staticStyle:{height:"20px","line-height":"20px","margin-bottom":"2px"}},[t._v("1、前往"),i("a",{attrs:{target:"_blank",href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_baidu"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t企业微信后台")]),t._v("创建自建应用。"),i("a",{attrs:{target:"_blank",href:"https://support.qq.com/products/312071/faqs/90047"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t教程")])]),i("p",{staticStyle:{"line-height":"20px",height:"20px","margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t2、选择此应用，请确认已设置过应用的可信域名。\n\t\t\t\t\t\t\t\t\t\t\t"),i("a",{staticClass:"el-link el-link--primary",attrs:{href:t.$store.state.commonUrl+"/upload/slider.png",target:"_blank"}},[i("span",{staticClass:"el-link--inner"},[t._v("查看图示")])])])])],1),i("a-form-item",{attrs:{label:"选择适用客户群","label-col":{span:4},"wrapper-col":{span:20}}},[i("div",{staticStyle:{"margin-bottom":"15px"}},[i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showChatVisible}},[t.chooseNum1>0?i("span",[t._v("已选择"+t._s(t.chooseNum1)+"个群")]):i("span",[t._v("选择群聊")])])],1)]),i("a-form-item",{attrs:{label:"设置提醒行为","label-col":{span:4},"wrapper-col":{span:20}}},[i("div",[i("a-checkbox",{model:{value:t.isImage,callback:function(e){t.isImage=e},expression:"isImage"}},[t._v("发送带二维码的图片")]),i("a-checkbox",{model:{value:t.isLink,callback:function(e){t.isLink=e},expression:"isLink"}},[t._v("发送链接分享")]),i("a-checkbox",{model:{value:t.isWeapp,callback:function(e){t.isWeapp=e},expression:"isWeapp"}},[t._v("发送小程序")]),i("a-checkbox",{model:{value:t.isCard,callback:function(e){t.isCard=e},expression:"isCard"}},[t._v("发送名片")]),i("a-checkbox",{model:{value:t.isRedpacket,callback:function(e){t.isRedpacket=e},expression:"isRedpacket"}},[t._v("发送红包")]),i("a-checkbox",{model:{value:t.isVoice,callback:function(e){t.isVoice=e},expression:"isVoice"}},[t._v("音频")]),i("a-checkbox",{model:{value:t.isVideo,callback:function(e){t.isVideo=e},expression:"isVideo"}},[t._v("视频")])],1),i("div",[i("a-checkbox",{model:{value:t.isText,callback:function(e){t.isText=e},expression:"isText"}},[t._v("聊天消息中包含以下关键词")]),t.isText?i("div",[i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showSensitiveWord}},[t.keyword.length>0?i("span",[t._v("已选择"+t._s(t.keyword.length)+"个敏感词")]):i("span",[t._v("选择敏感词")])])],1):t._e()],1)]),i("a-form-item",{attrs:{label:"通知人","label-col":{span:4},"wrapper-col":{span:20}}},[i("a-checkbox",{attrs:{checked:!0,disabled:!0}},[t._v("\n\t\t\t\t\t\t\t\t\t\t群主\n\t\t\t\t\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("p",{staticStyle:{"margin-bottom":"5px"}},[t._v("1、若群主不在可见应用成员范围内，会接收不到提醒通知。")]),i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t2、若群成员为“外部非联系人”身份时，群主可以看到其违规行为，但不知是谁，用户昵称是“未知”。")])]),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"question-circle"}})],2)],1),i("a-checkbox",{model:{value:t.isUser,callback:function(e){t.isUser=e},expression:"isUser"}},[t._v("选择成员")]),t.isUser?i("a-button",{staticStyle:{width:"210px","margin-right":"5px"},on:{click:t.showDepartmentList}},[t.chooseNum>0?i("span",[t._v("已选择"+t._s(t.chooseUserNum)+"名成员，"+t._s(t.chooseDepartmentNum)+"个部门")]):i("span",[t._v("选择部门成员")])]):t._e()],1)],1)],1),i("div",{staticClass:"content-bd"},[i("a-form",[i("a-form-item",[i("div",{staticStyle:{"margin-top":"2px","margin-left":"17.25%"}},[i("a-button",{attrs:{type:"primary",disabled:t.createDisabled},on:{click:t.createNotice}},[[t._v("提交")]],2)],1)])],1)],1)]),i("a-modal",{attrs:{title:"开通会话存档流程图",width:"700px !important"},on:{cancel:t.cancleSetting},model:{value:t.settingVisible,callback:function(e){t.settingVisible=e},expression:"settingVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.cancleSetting}},[t._v("关闭")])],1),i("img",{staticStyle:{width:"600px"},attrs:{src:a("2c75")}})],2),i("WeChatModal",{attrs:{show:t.showModal2,callback:t.modalVisibleChange}}),i("groupChat",{ref:"user",attrs:{chatIds:t.chatIds,isDisable:1,show:t.chatVisible,chatArr:t.chatArr,callback:t.groupChatCallBack}}),i("chooseDepartment",{ref:"user",attrs:{agentid:t.agentId,noticeTitle:"只展示在企业微信官方后台创建自建应用时，所设置的可见成员，只有他们才拥有接收违规提醒的权限。",show:t.showModalDepartment,chooseNum:t.chooseNum,departmentDisabled:1,callback:t.modalVisibleChange3}}),i("a-modal",{attrs:{title:"选择敏感词",width:"888px!important"},on:{cancel:t.cancleSensitive},model:{value:t.sensitiveVisible,callback:function(e){t.sensitiveVisible=e},expression:"sensitiveVisible"}},[i("template",{slot:"footer"},[i("a-button",{on:{click:t.cancleSensitive}},[t._v("关闭")]),i("a-button",{attrs:{type:"primary"},on:{click:t.handleSensitive}},[t._v("确定")])],1),i("corpSensitiveWord",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.wordArr}})],2)],1)],1)],1)],1)])},o=[],r=(a("7514"),a("7618")),n=(a("96cf"),a("3b8d")),s=a("0094"),l=a("2afe"),c=a("c75b"),d=a("156b"),p=a("8c10c"),h=a("f34b"),u={components:{WeChatModal:s["a"],chooseMsg:l["a"],chooseDepartment:c["a"],editor:d["a"],groupChat:p["a"],corpSensitiveWord:h["a"]},data:function(){return{settingVisible:!1,commonUrl:this.$store.state.commonUrl,isLoading:!1,urlId:"",isAudit:"",suite_id:1,corpId:localStorage.getItem("corpId"),corpName:localStorage.getItem("corpName"),title:"",agentList:[],agentId:"",showModal2:!1,validity:1,createDisabled:!1,chatVisible:!1,chatArr:[],chatIds:[],chooseNum1:0,isImage:!1,isLink:!1,isWeapp:!1,isCard:!1,isRedpacket:!1,isVoice:!1,isVideo:!1,isText:!1,keyword:[],sensitiveVisible:!1,wordArr:[],isUser:!1,checkedList:[],chooseNum:0,chooseUserNum:0,chooseDepartmentNum:0,showModalDepartment:!1}},methods:{goBack:function(){localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId)},changeCorp:function(){this.$route.query.id||(this.showModal2=!0)},changeAgentId:function(){this.checkedList=[],this.chooseNum=0,this.chooseUserNum=0,this.chooseDepartmentNum=0},getAgentList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-group-sending/agent-list",{corp_id:this.corpId,agent_type:2,suite_id:this.suite_id});case 2:a=t.sent,i=a.data,0!=i.error?(this.isLoading=!1,this.$message.error(i.error_msg)):(this.agentList=i.data,e&&this.$route.query.corpid==localStorage.getItem("corpId")?this.agentId=e:this.agentList.length>0&&(this.agentId=this.agentList[0].id));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),showChatVisible:function(){if(1!=this.isAudit)return this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置群聊违规!",2),!1;this.chatVisible=!0},cancleSetting:function(){this.settingVisible=!1},groupChatCallBack:function(t,e,a){"ok"==t&&(this.chooseNum1=e,this.chatArr=a),this.chatVisible=!1},showSensitiveWord:function(){this.wordArr=JSON.parse(JSON.stringify(this.keyword)),this.sensitiveVisible=!0},handleSensitive:function(){this.keyword=JSON.parse(JSON.stringify(this.wordArr)),this.sensitiveVisible=!1},cancleSensitive:function(){this.wordArr=[],this.sensitiveVisible=!1},modalVisibleChange4:function(t,e){"ok"==t&&(this.wordArr=e)},showDepartmentList:function(){var t=[];this.checkedList.map((function(e){t.push(e.id)})),this.$refs.user.rightIdList=JSON.parse(JSON.stringify(t)),this.$refs.user.rightList=JSON.parse(JSON.stringify(this.checkedList)),this.showModalDepartment=!0},modalVisibleChange3:function(t,e,a,i,o){"ok"==t&&(this.chooseNum=parseInt(a)+parseInt(i),this.chooseUserNum=a,this.chooseDepartmentNum=i,this.chooseNum>0?this.checkedList=JSON.parse(JSON.stringify(o)):this.checkedList=[]),this.showModalDepartment=!1},getDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-chat-remind/chat-remind-detail",{corp_id:this.$route.query.corpid,remind_id:this.urlId});case 2:e=t.sent,a=e.data,0!=a.error?(this.isLoading=!1,this.$message.error(a.error_msg)):(this.agentId=a.data.agentid,this.getAgentList(this.agentId),this.title=a.data.title,this.chatArr=a.data.chat_ids,this.chatIds=JSON.parse(JSON.stringify(this.chatArr)),this.chooseNum1=this.chatArr.length,this.isUser=a.data.remind_user.length>0,this.checkedList=a.data.remind_user,this.chooseNum=this.checkedList.length,this.chooseUserNum=0,this.chooseDepartmentNum=0,this.checkedList.map((function(t){"custom"==t.scopedSlots.title?i.chooseUserNum++:"title"==t.scopedSlots.title&&i.chooseDepartmentNum++})),this.isImage=1==a.data.is_image,this.isLink=1==a.data.is_link,this.isWeapp=1==a.data.is_weapp,this.isCard=1==a.data.is_card,this.isRedpacket=1==a.data.is_redpacket,this.isVoice=1==a.data.is_voice,this.isVideo=1==a.data.is_video,this.isText=1==a.data.is_text,this.keyword=a.data.keyword,this.isLoading=!1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createNotice:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.createDisabled=!0,1==this.isAudit){t.next=6;break}return this.createDisabled=!1,this.$message.destroy(),this.$message.warning("需要先开启【会话存档】功能，开启后才能正常设置群聊违规!",2),t.abrupt("return",!1);case 6:if(""!=this.title){t.next=11;break}return this.$message.destroy(),this.$message.warning("请填写规则名称"),this.createDisabled=!1,t.abrupt("return",!1);case 11:if("object"!=Object(r["a"])(this.agentId)&&""!=this.agentList){t.next=16;break}return this.$message.destroy(),this.$message.warning("请选择应用"),this.createDisabled=!1,t.abrupt("return",!1);case 16:if(0!=this.chatArr.length){t.next=21;break}return this.$message.destroy(),this.$message.warning("请选择群聊"),this.createDisabled=!1,t.abrupt("return",!1);case 21:if(this.isImage||this.isLink||this.isWeapp||this.isCard||this.isRedpacket||this.isVoice||this.isVideo||this.isText){t.next=26;break}return this.$message.destroy(),this.$message.warning("请选择提醒行为"),this.createDisabled=!1,t.abrupt("return",!1);case 26:if(!this.isText){t.next=32;break}if(0!=this.keyword.length){t.next=32;break}return this.$message.destroy(),this.$message.warning("请选择敏感词"),this.createDisabled=!1,t.abrupt("return",!1);case 32:if(!this.isUser){t.next=40;break}if(0!=this.checkedList.length){t.next=38;break}return this.$message.destroy(),this.$message.warning("请填写通知人员"),this.createDisabled=!1,t.abrupt("return",!1);case 38:t.next=41;break;case 40:this.checkedList=[];case 41:return t.next=43,this.axios.post("work-chat-remind/chat-remind-post",{uid:localStorage.getItem("uid"),corp_id:this.corpId,agentid:this.agentId,remind_id:this.urlId,title:this.title,chat_ids:this.chatArr,remind_user:this.checkedList,is_image:this.isImage?1:0,is_link:this.isLink?1:0,is_weapp:this.isWeapp?1:0,is_card:this.isCard?1:0,is_redpacket:this.isRedpacket?1:0,is_voice:this.isVoice?1:0,is_video:this.isVideo?1:0,is_text:this.isText?1:0,keyword:this.keyword});case 43:e=t.sent,a=e.data,0!=a.error?(this.createDisabled=!1,this.$message.error(a.error_msg)):(localStorage.removeItem("notAllow"),localStorage.removeItem("backUrl"),""==this.urlId?this.$router.push("/violations/notice?agentId="+this.agentId):this.$router.push("/violations/notice?isRefresh=1&agentId="+this.agentId));case 46:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modalVisibleChange:function(t,e,a){var i=this;"ok"==t&&this.corpId!=e&&(this.corpId=e,this.corpName=a,this.chooseNum1=0,this.chatArr=[],this.$store.dispatch("changeCorp",this.$store.state.corpArr.find((function(t){return t.corpid==i.corpId})))),this.showModal2=!1}},mounted:function(){var t=this;this.$route.query.id&&(this.urlId=parseInt(this.$route.query.id)),this.corpId=localStorage.getItem("corpId"),this.corpName=this.$store.state.corpArr.find((function(e){return e.corpid==t.corpId})).corp_name,this.corpId==this.$route.query.corpid&&(this.$route.query.agentid?this.agentId=this.$route.query.agentid:this.agentId=""),this.isAudit=this.$store.state.corpArr.find((function(e){return e.corpid==t.corpId})).isAudit,""!=this.urlId?(this.isLoading=!0,localStorage.setItem("notAllow",1),localStorage.setItem("backUrl","/archive/violationsNotice"),this.getDetail()):this.getAgentList(this.$route.query.agentid)}},g=u,m=(a("c0d0"),a("2877")),f=Object(m["a"])(g,i,o,!1,null,"df281aa6",null);e["default"]=f.exports},e306:function(t,e,a){t.exports=a.p+"assets/img/chat.29abd713.png"},f34b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.key,staticClass:"tabBox"},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t所有分组\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t所有分组\n\t\t\t\t")])],1),a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeAllWords(t.checkedAll)}},model:{value:t.checkedAll,callback:function(e){t.checkedAll=e},expression:"checkedAll"}},[t._v("\n\t\t\t全部\n\t\t")])],1),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.title&&""!=e.title?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")]):t._e()],1),e.children.length>0?a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(a){return t.changeTeamWords(e.children,e.checkedAll)}},model:{value:e.checkedAll,callback:function(a){t.$set(e,"checkedAll",a)},expression:"item.checkedAll"}},[t._v("\n\t\t\t\t全部\n\t\t\t")]):t._e(),t._l(e.children,(function(o,r){return a("a-checkable-tag",{staticStyle:{cursor:"pointer"},on:{change:function(e){return t.changeWords(o.id,i)}},model:{value:e.checked[r],callback:function(a){t.$set(e.checked,r,a)},expression:"item.checked[wordIndex]"}},[t._v("\n\t\t\t\t"+t._s(o.title)+"\n\t\t\t")])})),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-add",expression:"'sensitive-words-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px"},attrs:{icon:"plus"},on:{click:function(a){return t.createWord(e.id)}}},[t._v("\n\t\t\t\t新建敏感词\n\t\t\t")])],2):t._e()]})),t.groupList.length>0?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"sensitive-words-group-add",expression:"'sensitive-words-group-add'"}],staticStyle:{"font-size":"13px",height:"28px",padding:"3px 15px","margin-right":"10px","margin-left":"16.7%"},attrs:{icon:"plus"},on:{click:t.addWordGroup}},[t._v("\n\t\t新建敏感词分组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建敏感词",confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t敏感词名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px 0px 10px 0","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个敏感词名称最多6个字。同时新建多个敏感词时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入敏感词（不得超过6个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{attrs:{title:"新建敏感词分组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],1)],2)},o=[],r=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),n=(a("ac4d"),a("8a81"),a("ac6a"),{name:"corpSensitiveWord",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{key:0,checkedAll:!1,corpId:t,groupList:[],word_arr:[],group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newWordList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:""}},watch:{hasChoose:{handler:function(t){var e=this;if("undefined"!=typeof t&&this.groupList.length){this.word_arr=JSON.parse(JSON.stringify(t));var a=0;this.checkedAll=!1,this.hasChoose.length>0?(this.hasChoose.map((function(t){e.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,o=void 0;try{for(var r,n=e.checked[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var s=r.value;s||(e.checkedAll=!1)}}catch(l){i=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}}))})),this.groupList.map((function(t){a+=t.children.length})),a==this.hasChoose.length&&0!=a&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.groupList=JSON.parse(JSON.stringify(this.groupList)),this.key++}},deep:!0}},methods:{getWords:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/word-group",{uid:localStorage.getItem("uid"),is_system:0});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checkedAll=!1,t.checked=[]})),this.checkedAll=!1,i=0,"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0?(this.word_arr=this.hasChoose,this.hasChoose.map((function(t){o.groupList.map((function(e){e.children.map((function(a,i){t==a.id&&(e.checked[i]=!0)})),e.checkedAll=!0,e.checked.length!=e.children.length&&(e.checkedAll=!1);var a=!0,i=!1,o=void 0;try{for(var r,n=e.checked[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var s=r.value;s||(e.checkedAll=!1)}}catch(l){i=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}}))})),this.groupList.map((function(t){i+=t.children.length})),i==this.hasChoose.length&&0!=i&&(this.checkedAll=!0)):this.groupList.map((function(t){t.checked=[],t.checkedAll=!1})),this.$forceUpdate());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeAllWords:function(t){var e=this;t?(this.word_arr=[],this.groupList.map((function(t){t.children.map((function(t,a){e.word_arr.push(t.id)}))}))):this.word_arr=[],this.groupList=JSON.parse(JSON.stringify(this.groupList)),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeTeamWords:function(t,e){if(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e){var a=!0,i=!1,o=void 0;try{for(var r,n=t[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var s=r.value;-1==this.word_arr.indexOf(s.id)&&this.word_arr.push(s.id)}}catch(m){i=!0,o=m}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}}else{var l=!0,c=!1,d=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var u=p.value,g=this.word_arr.indexOf(u.id);g>-1&&this.word_arr.splice(g,1)}}catch(m){c=!0,d=m}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}}null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},changeWords:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);this.word_arr.includes(a)?this.word_arr.remove(a):this.word_arr.push(a),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.word_arr)},createWord:function(t){this.group_id=t,this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>6)return e.$message.error("每个敏感词最多6个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newWordList.push(t.split(" ")[a])}e.addWords(),e.inputValue="",e.newWordList=[],e.confirmLoading3=!1},addWords:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("limit-word/set",{uid:localStorage.getItem("uid"),group_id:this.group_id,title:this.newWordList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getWords(),this.checkedAll=!1,this.inputValue="",this.newWordList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addWordGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName=""},handleOk2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:return this.confirmLoading=!0,t.next=8,this.axios.post("limit-word/group-add",{uid:localStorage.getItem("uid"),title:this.teamName});case 8:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.teamName="",this.groupVisible=!1,this.getWords()),this.confirmLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getWords()}}),s=n,l=(a("467b"),a("2877")),c=Object(l["a"])(s,i,o,!1,null,"e8503c8c",null);e["a"]=c.exports},ffd5:function(t,e,a){"use strict";var i=a("59fe"),o=a.n(i);o.a}}]);