(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a608368"],{"0609":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scroll",staticStyle:{width:"100%","max-height":"100%",position:"absolute","overflow-y":"auto","padding-bottom":"30px"}},[i("div",[i("a-card",{staticStyle:{"margin-bottom":"20px",padding:"10px 20px"}},[i("label",{staticClass:"tpl-title"},[t._v("客户公海")])]),i("div",{staticStyle:{padding:"0 20px"}},[i("span",{staticClass:"tabBtn",class:{activeBtn:1==t.tabKey},on:{click:function(e){return t.changeTab(1)}}},[t._v("企微客户")]),i("span",{staticClass:"tabBtn",class:{activeBtn:2==t.tabKey},on:{click:function(e){return t.changeTab(2)}}},[t._v("非企微客户")])]),1==t.tabKey?i("div",{staticStyle:{"background-color":"#FFF",margin:"0 20px","padding-top":"10px"}},[i("div",{staticClass:"content-msg",staticStyle:{margin:"0 20px"}},[i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t为了避免销售人员长时间沟通无果或是恶意保护占有客户资源，在达到客户回收条件后，则在【客户公海】--【企微客户】--【可认领】列表里生成一条该企微客户数据。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t当被其他员工认领时，该企微客户进入到【已认领】列表。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t1、员工在职期间，若该企微客户尚未达被员工分配过2次且原归属关系超过90个自然日，"),i("span",{staticStyle:{color:"red"}},[t._v("认领后，客户和接替的员工将在24小时后自动成为联系人；如果客户主动拒绝，接替员工还可选择主动添加。")]),i("a-tooltip",{attrs:{placement:"right"}},[i("template",{slot:"title"},[i("img",{staticStyle:{width:"100%"},attrs:{src:a("3b3b"),alt:""}}),i("img",{staticStyle:{width:"100%"},attrs:{src:a("c7e9"),alt:""}})]),i("a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"question-circle"}})],2)],1),i("p",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t2、员工在职期间，若该企微客户已被员工分配过2次或是在90个自然日的服务关系保护期内，认领即向该客户的原归属员工，发送“共享通知”\n\t\t\t\t\t\t"),i("a-tooltip",{attrs:{placement:"right"}},[i("template",{slot:"title"},[i("img",{staticStyle:{width:"100%"},attrs:{src:a("d1af"),alt:""}})]),i("a-icon",{staticStyle:{cursor:"pointer"},attrs:{type:"question-circle"}})],2),t._v("\n\t\t\t\t\t\t。\n\t\t\t\t\t")],1),t._m(0),i("p",{staticStyle:{"margin-bottom":"2px","margin-left":"22px"}},[t._v("\n\t\t\t\t\t\ta、当同一客户，被不同员工归属时，若均符合共享条件时，会在【客户公海】--【企微客户】列表生成多条企微客户数据，但针对同一客户同一员工，永远只会显示一条数据。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px","margin-left":"22px"}},[t._v("\n\t\t\t\t\t\tb、当原归属员工离职时，官方提供离职继承功能，客户关系由新员工接替，视为认领无效。\n\t\t\t\t\t")]),i("p",{staticStyle:{"margin-bottom":"2px","margin-left":"22px"}},[t._v("\n\t\t\t\t\t\tc、您已认领过且已加上某企微客户，无需再次认领。\n\t\t\t\t\t")])])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabKey,expression:"tabKey == 1"}],staticStyle:{padding:"15px 0",margin:"0px 20px",background:"#FFF"}},[i("div",{staticStyle:{padding:"0 20px"}},[i("span",{staticClass:"tabBtn",class:{activeBtn:1==t.tabKey2},on:{click:function(e){return t.changeTab2(1)}}},[t._v("可认领")]),i("span",{staticClass:"tabBtn",class:{activeBtn:2==t.tabKey2},on:{click:function(e){return t.changeTab2(2)}}},[t._v("已认领")])]),1==t.tabKey2?[i("a-col",{staticStyle:{background:"#FFF",padding:"10px 0",margin:"0 20px","margin-top":"1px",overflow:"hidden"}},[i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户昵称：")]),i("a-input",{staticStyle:{width:"170px"},attrs:{placeholder:"请输入客户昵称",autoComplete:"off"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find(e)}},model:{value:t.customName,callback:function(e){t.customName=e},expression:"customName"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户来源：")]),i("a-tree-select",{staticStyle:{width:"170px","margin-right":"5px"},attrs:{allowClear:!0,dropdownStyle:{maxHeight:"300px",overflow:"auto"},treeData:t.wayList,placeholder:"全部来源",treeDefaultExpandAll:""},on:{change:t.handleChangeAddWay},model:{value:t.add_way,callback:function(e){t.add_way=e},expression:"add_way"}}),"way"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==t.add_way?i("label",{staticStyle:{margin:"0 10px 0 5px",color:"rgba(0,0,0,0.35)"}},[t._v("——")]):t._e(),"way"==t.add_way||"chatWay"==t.add_way||"award"==t.add_way||"fission"==t.add_way||"redPack"==t.add_way?i("a-select",{staticStyle:{width:"262px","margin-right":"5px"},attrs:{allowClear:"","show-search":"",placeholder:"活码搜索","show-arrow":!0,optionFilterProp:"children"},model:{value:t.way_id,callback:function(e){t.way_id=e},expression:"way_id"}},t._l(t.codeList,(function(e){return i("a-select-option",{key:e.key,attrs:{value:e.value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t\t\t\t")])})),1):t._e()],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("进入回收时间：")]),i("a-range-picker",{staticStyle:{width:"288px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime},model:{value:t.claimTime,callback:function(e){t.claimTime=e},expression:"claimTime"}})],1),i("a-button",{attrs:{type:"primary"},on:{click:t.find}},[t._v("查找")]),i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear}},[t._v("清空")])],1),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}},[i("div",{staticClass:"spin-content"},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],attrs:{rowSelection:t.rowSelection,columns:t.columns,dataSource:t.batchList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"customerInfo",fn:function(e,s,n){return[i("div",{staticStyle:{overflow:"hidden"}},[e.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:e.avatar}}):t._e(),e.avatar?t._e():i("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px","max-width":"calc(100% - 52px)"}},[i("div",{staticStyle:{height:"42px"}},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)]),i("span",{staticStyle:{display:"inline-block","max-width":"100%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{class:null!=e.corp_name?"corp-name":"wx-name"},[null!=e.corp_name?[t._v("@"+t._s(e.corp_name))]:[t._v("@微信")]],2)])],2),"男"==e.gender?i("a-icon",{staticStyle:{color:"#427EBA","vertical-align":"top","margin-top":"14px"},attrs:{type:"man"}}):t._e(),"女"==e.gender?i("a-icon",{staticStyle:{color:"#ED4997","vertical-align":"top","margin-top":"14px"},attrs:{type:"woman"}}):t._e()],1)])],1)]}},{key:"add_other_info",fn:function(e,a,s){return[""!=a.add_other_info?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_other_info)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),""!=a.add_way_info?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("-\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_way_info)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.add_way_title))])]),""!=a.add_way_title?i("div",{staticStyle:{cursor:"pointer","max-width":"100px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t- "+t._s(a.add_way_title)+"\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)]}},{key:"claimTip",fn:function(e,a,s){return[""!=a.claimTip?i("div",{staticStyle:{color:"red"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.claimTip)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),""==a.claimTip?i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t--\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}},{key:"reclaim_rule",fn:function(e,a,s){return[""!=a.reclaim_rule?i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.reclaim_rule)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),""==a.reclaim_rule?i("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t--\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}},{key:"action",fn:function(e,a,s){return[i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-claim",expression:"'highSeasCustomerList-claim'"}],staticStyle:{margin:"0 5px 5px 0"},attrs:{disabled:0==t.user_id||""!=a.claimTip},on:{click:function(e){return t.claim(1,1,a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t认领\n\t\t\t\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-assign",expression:"'highSeasCustomerList-assign'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.showDepartmentList(a,1)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t指定分配\n\t\t\t\t\t\t\t\t\t\t")]),1==t.isMasterAccount?i("a-button",{staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.handleShowDetail(a.follow_user_id)}}},[t._v("详情\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!1,1094099587)}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{margin:"20px 0px","line-height":"32px",float:"left"}},[i("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),t._v("\n\t\t\t\t\t\t\t\t\t当前页\n\t\t\t\t\t\t\t\t\t"),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-assign",expression:"'highSeasCustomerList-assign'"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.showDepartmentList2(1)}}},[t._v("批量指定分配\n\t\t\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-claim",expression:"'highSeasCustomerList-claim'"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.claim(1,1)}}},[t._v("批量认领\n\t\t\t\t\t\t\t\t\t")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"},{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",float:"right"}},[i("div",{staticStyle:{height:"32px","line-height":"32px",display:"inline-block","vertical-align":"top","margin-right":"10px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total))]),t._v("\n\t\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",display:"inline-block"}},[i("a-pagination",{attrs:{total:t.total,showSizeChanger:"",showQuickJumper:t.quickJumper,current:t.page,pageSize:t.pageSize,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage,showSizeChange:t.showSizeChange}})],1)])],1)])],1)]:t._e(),2==t.tabKey2?[i("a-col",{staticStyle:{background:"#FFF",padding:"10px 0",margin:"0 20px","margin-top":"1px",overflow:"hidden"}},[i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户昵称：")]),i("a-input",{staticStyle:{width:"170px"},attrs:{placeholder:"请输入客户昵称",autoComplete:"off"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find3(e)}},model:{value:t.customName3,callback:function(e){t.customName3=e},expression:"customName3"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("认领时间：")]),i("a-range-picker",{staticStyle:{width:"288px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime3},model:{value:t.claimTime3,callback:function(e){t.claimTime3=e},expression:"claimTime3"}})],1),i("a-button",{attrs:{type:"primary"},on:{click:t.find3}},[t._v("查找")]),i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear3}},[t._v("清空")])],1),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading3}},[i("div",{staticClass:"spin-content"},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],staticClass:"repeat-table",attrs:{columns:t.columns3,dataSource:t.claimUserList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"customerInfo",fn:function(e,s,n){return[i("div",{staticStyle:{overflow:"hidden"}},[s.avatar?i("a-avatar",{staticStyle:{float:"left"},attrs:{shape:"square",size:42,src:s.avatar}}):t._e(),s.avatar?t._e():i("img",{staticStyle:{width:"42px",height:"42px",float:"left"},attrs:{src:a("4bef")}}),i("div",{staticStyle:{float:"left","margin-left":"10px","line-height":"42px","max-width":"calc(100% - 52px)"}},[i("div",{staticStyle:{height:"42px"}},[i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{class:null!=s.corp_name?"corp-name":"wx-name"},[null!=s.corp_name?[t._v("@"+t._s(s.corp_name))]:[t._v("@微信")]],2)]),i("span",{staticStyle:{display:"inline-block","max-width":"100%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),i("span",{class:null!=s.corp_name?"corp-name":"wx-name"},[null!=s.corp_name?[t._v("@"+t._s(s.corp_name))]:[t._v("@微信")]],2)])],2),"男"==s.gender?i("a-icon",{staticStyle:{color:"#427EBA","vertical-align":"top","margin-top":"14px"},attrs:{type:"man"}}):t._e(),"女"==s.gender?i("a-icon",{staticStyle:{color:"#ED4997","vertical-align":"top","margin-top":"14px"},attrs:{type:"woman"}}):t._e()],1)])],1)]}},{key:"reclaim_rule",fn:function(e,a,s){return[""!=a.reclaim_rule?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.reclaim_rule)+"\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),""==a.reclaim_rule?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t--\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}},{key:"old_user_name",fn:function(e,a,s){return[i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"user_name",fn:function(e,a,s){return[i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t")])]}},{key:"status",fn:function(e,a,s){return[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t"),"已添加"==e?[""!=a.add_other_info?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_other_info)+"\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),""!=a.add_way_info?i("div",{staticStyle:{"margin-bottom":"5px"}},[t._v("-\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.add_way_info)+"\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e(),i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.add_way_title))])]),""!=a.add_way_title?i("div",{staticStyle:{cursor:"pointer","max-width":"100px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t- "+t._s(a.add_way_title)+"\n\t\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)]:t._e()]}},{key:"action",fn:function(e,a,s){return[""==a.claimTip?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-notice",expression:"'highSeasCustomerList-notice'"}],staticStyle:{margin:"0 5px 5px 0"},attrs:{disabled:"已添加"==a.status},on:{click:function(e){return t.notice(a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t提醒原成员共享\n\t\t\t\t\t\t\t\t\t\t")]):t._e(),i("a-popover",{attrs:{placement:"top"}},[i("template",{slot:"content"},[i("p",{staticStyle:{"margin-bottom":"0px"}},[t._v(t._s(a.claimTip))])]),""!=a.claimTip?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-notice",expression:"'highSeasCustomerList-notice'"}],staticStyle:{margin:"0 5px 5px 0"},attrs:{disabled:("未添加"==a.status||"已拒绝"==a.status)&&""!=a.claimTip},on:{click:function(e){return t.notice(a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t提醒原成员共享\n\t\t\t\t\t\t\t\t\t\t\t")]):t._e()],2),1==t.isMasterAccount&&""==a.claimTip?i("a-button",{on:{click:function(e){return t.handleShowDetail(a.follow_user_id)}}},[t._v("详情\n\t\t\t\t\t\t\t\t\t\t")]):t._e()]}}],null,!1,291176578)}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total3>0,expression:"total3 > 0"},{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],staticClass:"pagination",staticStyle:{width:"100%",position:"absolute",margin:"20px 0px"}},[i("div",{staticStyle:{height:"32px",float:"left","line-height":"32px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total3))]),t._v("\n\t\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t\t")]),i("div",{staticClass:"pagination",staticStyle:{height:"32px",float:"right"}},[i("a-pagination",{attrs:{total:t.total3,showSizeChanger:"",showQuickJumper:t.quickJumper3,current:t.page3,pageSize:t.pageSize3,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage3,showSizeChange:t.showSizeChange3}})],1)])],1)])],1)]:t._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabKey,expression:"tabKey == 2"}],staticStyle:{padding:"15px 0",margin:"0px 20px",background:"#FFF"}},[i("a-col",{staticStyle:{background:"#FFF",padding:"10px 0",margin:"0 20px","margin-top":"1px",overflow:"hidden"}},[i("div",{staticStyle:{overflow:"hidden"}},[i("div",{staticStyle:{float:"left"}},[i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户姓名：")]),i("a-input",{staticStyle:{width:"170px"},attrs:{placeholder:"客户姓名",autoComplete:"off"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find2(e)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("客户来源：")]),i("a-select",{staticStyle:{width:"210px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择客户来源"},model:{value:t.addStatus,callback:function(e){t.addStatus=e},expression:"addStatus"}},[i("a-select-option",{attrs:{value:0}},[t._v("全部")]),t._l(t.selectList,(function(e){return i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.match)+"\n\t\t\t\t\t\t\t")])}))],2)],1),i("span",{staticClass:"select-option"},[i("label",{staticStyle:{"margin-right":"5px"}},[t._v("录入时间：")]),i("a-range-picker",{staticStyle:{width:"296px","margin-right":"5px"},attrs:{"show-time":{defaultValue:[t.moment("00:00","HH:mm"),t.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm",allowClear:"","disabled-date":t.disabledDate},on:{change:t.changeTime},model:{value:t.joinTime,callback:function(e){t.joinTime=e},expression:"joinTime"}})],1),i("a-button",{attrs:{type:"primary"},on:{click:t.find2}},[t._v("查找")]),i("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.clear2}},[t._v("清空")])],1)]),i("div",{staticStyle:{overflow:"hidden"}},[i("div",{staticStyle:{float:"right"}},[i("a-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.customerRechecking}},[t._v("客户查重\n\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-import",expression:"'highSeasCustomerList-import'"}],staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:t.recordCustomer}},[t._v("录入客户\n\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-import",expression:"'highSeasCustomerList-import'"}],attrs:{type:"primary"},on:{click:t.importExcel}},[t._v("批量导入客户\n\t\t\t\t\t\t\t")])],1)])]),i("div",{staticClass:"content-bd"},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.isLoading2}},[i("div",{staticClass:"spin-content"},[i("a-table",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],attrs:{rowSelection:t.rowSelection,columns:t.columns2,dataSource:t.customList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"info",fn:function(e,a,s){return[i("div",{staticStyle:{width:"180px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t姓名："+t._s(a.name)+"\n\t\t\t\t\t\t\t\t\t\t"),"男"==a.gender?i("a-icon",{staticStyle:{color:"#427EBA"},attrs:{type:"man"}}):t._e(),"女"==a.gender?i("a-icon",{staticStyle:{color:"#ED4997"},attrs:{type:"woman"}}):t._e(),i("div",{staticStyle:{color:"red"}},[t._v(t._s(a.claimTip))])],1)]}},{key:"linkType",fn:function(e,a,s){return[""!=a.phone?i("div",[t._v("手机号："+t._s(a.phone))]):t._e(),""!=a.wx_num?i("div",[t._v("微信号："+t._s(a.wx_num))]):t._e(),""!=a.qq?i("div",[t._v("QQ："+t._s(a.qq))]):t._e(),""!=a.email?i("div",[t._v("邮箱："+t._s(a.email))]):t._e()]}},{key:"tagData",fn:function(e,a,s){return[t._l(a.tagData,(function(e){return a.tagData.length>0&&a.tagData.length<5?i("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"blue"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.tname)+"\n\t\t\t\t\t\t\t\t\t")]):t._e()})),a.tagData.length>5?i("span",[i("a-popover",[i("span",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"over-width"},t._l(a.tagData,(function(e){return i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.tname))])})),1)]),t._l(a.tagData,(function(e,a){return i("span",[a<5?i("a-tag",{staticStyle:{"margin-top":"5px"},attrs:{color:"blue"}},[t._v(t._s(e.tname))]):t._e()],1)})),i("div",[t._v("等"+t._s(a.tagData.length)+"个标签")])],2)],1):t._e(),0==a.tagData.length?i("span",[t._v("--")]):t._e()]}},{key:"claimName",fn:function(e,a,s){return[""==a.claimName?i("span",[t._v("--")]):t._e(),""!=a.claimName?i("span",[i("a-tag",{attrs:{color:"orange"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(a.claimName)+"\n\t\t\t\t\t\t\t\t\t\t")])],1):t._e(),i("a-popover",{attrs:{placement:"left"}},[i("template",{slot:"content"},[i("div",{staticStyle:{"max-height":"500px","overflow-y":"auto"}},t._l(a.claimData,(function(e,a){return i("div",{staticStyle:{"max-width":"500px",display:"block","margin-bottom":"5px"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t认领第"+t._s(e.num)+"次："+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.claim_time)+"，在"+t._s(e.reclaim_time)+"回收\n\t\t\t\t\t\t\t\t\t\t\t\t")])})),0)]),a.claimCount>0?i("div",{staticStyle:{color:"red",cursor:"pointer"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t【历史认领"+t._s(a.claimCount)+"次】\n\t\t\t\t\t\t\t\t\t\t")]):t._e()],2)]}},{key:"action",fn:function(e,a,s){return[0==a.again_claim?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-claim",expression:"'highSeasCustomerList-claim'"}],staticStyle:{margin:"0 5px 5px 0"},attrs:{disabled:0==t.user_id||""!=a.claimTip},on:{click:function(e){return t.claim(0,1,a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t我要认领\n\t\t\t\t\t\t\t\t\t")]):t._e(),1==a.again_claim?i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-claim",expression:"'highSeasCustomerList-claim'"}],staticStyle:{margin:"0 5px 5px 0"},attrs:{disabled:0==t.user_id||""!=a.claimTip},on:{click:function(e){return t.claim(0,1,a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t重新认领\n\t\t\t\t\t\t\t\t\t")]):t._e(),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-assign",expression:"'highSeasCustomerList-assign'"}],staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.showDepartmentList(a,0)}}},[t._v("指定分配\n\t\t\t\t\t\t\t\t\t")]),1==a.can_edit?i("a-button",{staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.edit(a.id)}}},[t._v("编辑\n\t\t\t\t\t\t\t\t\t")]):t._e(),1==a.can_edit?i("a-button",{staticStyle:{margin:"0 5px 5px 0"},on:{click:function(e){return t.detailList(a.id)}}},[t._v("详情\n\t\t\t\t\t\t\t\t\t")]):t._e()]}}])}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total2>0,expression:"total2 > 0"}],staticStyle:{margin:"20px 0px","line-height":"32px",float:"left"}},[i("a-checkbox",{on:{click:t.batchTypeChange},model:{value:t.batchTypeValue,callback:function(e){t.batchTypeValue=e},expression:"batchTypeValue"}}),t._v("\n\t\t\t\t\t\t\t\t当前页\n\t\t\t\t\t\t\t\t"),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-assign",expression:"'highSeasCustomerList-assign'"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.showDepartmentList2(0)}}},[t._v("批量指定分配\n\t\t\t\t\t\t\t\t")]),i("a-button",{directives:[{name:"has",rawName:"v-has",value:"highSeasCustomerList-claim",expression:"'highSeasCustomerList-claim'"}],staticStyle:{"margin-left":"10px"},attrs:{type:"primary",disabled:!(this.selectedRowKeys.length>0)},on:{click:function(e){return t.claim(0,1)}}},[t._v("批量认领\n\t\t\t\t\t\t\t\t")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total2>0,expression:"total2 > 0"},{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",float:"right"}},[i("span",{staticStyle:{height:"32px","line-height":"32px",display:"inline-block","vertical-align":"top","margin-right":"10px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total2))]),t._v("\n\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t")]),i("span",{staticClass:"pagination",staticStyle:{height:"32px",display:"inline-block"}},[i("a-pagination",{attrs:{total:t.total2,showSizeChanger:"",showQuickJumper:t.quickJumper2,current:t.page2,pageSize:t.pageSize2,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage2,showSizeChange:t.showSizeChange2}})],1)])],1)])],1)],1)],1),i("a-modal",{attrs:{title:"上传表格",width:"750px",confirmLoading:t.modalLoading},on:{cancel:t.handleCancel,ok:t.handleOk},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{padding:"10px 0px",overflow:"auto"}},[i("div",{staticStyle:{color:"red"}},[t._v("为了避免导入时出现等待时间过长，建议单次上传不超过3000条，最多可支持5000条。")]),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("选择表格\n\t                ")]),i("a-upload",{attrs:{name:"avatar",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:t.beforeUpload}},[i("a-button",{staticStyle:{height:"28px","font-size":"14px"},attrs:{type:"primary"}},[t._v("上传Excel\n\t\t\t\t\t\t")])],1),""!=t.file_name?[i("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(t.file_name))]),i("a-icon",{staticStyle:{"vertical-align":"text-top","margin-left":"3px"},attrs:{type:"close-circle"},on:{click:t.closeExcel}})]:t._e(),i("div",{staticStyle:{"line-height":"normal","margin-bottom":"20px",color:"#999"}},[t._v("下载"),i("a",{attrs:{href:t.$store.state.commonUrl+"/upload/import_nocustomer.xlsx"}},[t._v("Excel模板")]),t._v("。"),i("span",[t._v("请按照模板的要求上传客户资料，若有重复手机号或空行将会自动过滤，以及不符合规范的填写格式，上传后直接显示”--“")])])],2),i("a-form-item",{staticStyle:{"margin-top":"4px"},attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t        客户标签 \n\t\t\t\t\t\t\t\t\t\t        "),i("a-tooltip",{attrs:{title:"针对导入的客户，自动打上选中的客户标签"}},[i("a-icon",{attrs:{type:"question-circle"}})],1)],1),t.isShowTag?i("corpChooseTag",{attrs:{callback:t.modalVisibleChange5,hasChoose:t.tag_arr2}}):t._e()],1)],1)]),i("a-modal",{attrs:{title:"选择成员"},on:{cancel:t.chooseStaffCancel,ok:function(e){return t.chooseStaffHandel(0)}},model:{value:t.showModalDepartment,callback:function(e){t.showModalDepartment=e},expression:"showModalDepartment"}},[i("div",{staticStyle:{color:"red","margin-bottom":"10px"}},[t._v("指定分配给具有外部联系人权限的成员")]),t.showModalDepartment?i("chooseStaffSelect",{ref:"user",attrs:{index:0,index2:0,type:1,callback:t.selectStaffCallback}}):t._e()],1),i("a-modal",{attrs:{title:"上传进度",footer:!1,closable:!1,maskClosable:!1,maskStyle:{left:t.leftSiderWidth},wrapClassName:"mask-dialog"},model:{value:t.progressVisible,callback:function(e){t.progressVisible=e},expression:"progressVisible"}},[i("div",{staticStyle:{"text-align":"center"}},[i("a-progress",{attrs:{"stroke-linecap":"square",percent:t.progressNum,type:"circle"}}),i("div",[i("img",{attrs:{src:a("19be"),alt:""}})]),i("p",{staticStyle:{margin:"0 auto 20px"}},[t._v("已成功上传"+t._s(t.successNum)+"个客户，失败"+t._s(t.failNum)+"个客户，还有"+t._s(t.notImportNum)+"个客户待上传")])],1)]),i("a-modal",{attrs:{title:t.detailTitle,width:"750px"},model:{value:t.recordVisible,callback:function(e){t.recordVisible=e},expression:"recordVisible"}},[i("template",{slot:"footer"},[i("a-button",{key:"back",on:{click:t.recordCancel}},[t.detailVisible?t._e():i("span",[t._v("取消")]),t.detailVisible?i("span",[t._v("关闭")]):t._e()]),t.detailVisible?t._e():i("a-button",{key:"submit",attrs:{type:"primary",loading:t.recordLoading},on:{click:t.recordOk}},[t._v("\n\t\t\t\t\t确定\n\t\t\t\t")])],1),i("div",{staticStyle:{padding:"10px 0px","min-height":"300px",overflow:"auto"}},[i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("姓名\n\t                ")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入姓名",autoComplete:"off"},model:{value:t.recordName,callback:function(e){t.recordName=e},expression:"recordName"}}),t.detailVisible?i("span",[t._v(t._s(t.recordName))]):t._e()],1),i("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("微信号")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入微信号",autoComplete:"off"},model:{value:t.recordWx,callback:function(e){t.recordWx=e},expression:"recordWx"}}),t.detailVisible?i("span",[""==t.recordWx?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordWx))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("QQ号")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入QQ号",autoComplete:"off"},model:{value:t.recordQQ,callback:function(e){t.recordQQ=e},expression:"recordQQ"}}),t.detailVisible?i("span",[""==t.recordQQ?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordQQ))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("手机号")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入手机号",autoComplete:"off"},model:{value:t.recordPhone,callback:function(e){t.recordPhone=e},expression:"recordPhone"}}),t.detailVisible?i("span",[""==t.recordPhone?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordPhone))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("公司名称")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入公司名称",autoComplete:"off"},model:{value:t.recordCompany,callback:function(e){t.recordCompany=e},expression:"recordCompany"}}),t.detailVisible?i("span",[""==t.recordCompany?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordCompany))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("Email")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入Email",autoComplete:"off"},model:{value:t.recordEmail,callback:function(e){t.recordEmail=e},expression:"recordEmail"}}),t.detailVisible?i("span",[""==t.recordEmail?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordEmail))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("性别")]),t.detailVisible?t._e():i("a-radio-group",{model:{value:t.recordSex,callback:function(e){t.recordSex=e},expression:"recordSex"}},[i("a-radio",{attrs:{value:1}},[t._v("\n\t\t\t\t\t\t\t男\n\t\t\t\t\t\t")]),i("a-radio",{attrs:{value:2}},[t._v("\n\t\t\t\t\t\t\t女\n\t\t\t\t\t\t")]),i("a-radio",{attrs:{value:3}},[t._v("\n\t\t\t\t\t\t\t未知\n\t\t\t\t\t\t")])],1),t.detailVisible?i("span",[1==t.recordSex?i("span",[t._v("男")]):t._e(),2==t.recordSex?i("span",[t._v("女")]):t._e(),3==t.recordSex?i("span",[t._v("未知")]):t._e()]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("地区")]),t.detailVisible?t._e():i("a-cascader",{staticStyle:{width:"222px","margin-right":"5px"},attrs:{options:t.cityData,placeholder:"请选择地区"},model:{value:t.recordArea,callback:function(e){t.recordArea=e},expression:"recordArea"}}),t.detailVisible?i("span",[""==t.recordArea2?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordArea2))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("备注")]),t.detailVisible?t._e():i("a-input",{staticStyle:{width:"222px"},attrs:{placeholder:"请输入备注",autoComplete:"off",maxLength:10},model:{value:t.recordRemark,callback:function(e){t.recordRemark=e},expression:"recordRemark"}},[i("template",{slot:"suffix"},[t._v(t._s(t.recordRemark.length)+"/10")])],2),t.detailVisible?i("span",[""==t.recordRemark?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordRemark))])]):t._e()],1),i("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v("客户来源")]),t.detailVisible?t._e():i("a-select",{staticStyle:{width:"222px"},attrs:{showSearch:"",optionFilterProp:"children",placeholder:"请选择客户来源"},model:{value:t.recordStatus,callback:function(e){t.recordStatus=e},expression:"recordStatus"}},t._l(t.selectList,(function(e){return i("a-select-option",{attrs:{value:e.id}},[t._v(t._s(e.match)+"\n\t\t\t\t\t\t")])})),1),t.detailVisible?i("span",[""==t.recordStatus2?i("span",[t._v("暂无")]):i("span",[t._v(t._s(t.recordStatus2))])]):t._e()],1),i("a-form-item",{staticStyle:{"margin-top":"4px"},attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n\t\t\t\t\t\t\t\t\t\t        客户标签 \n\t\t\t\t\t\t\t\t\t\t        "),i("a-tooltip",{attrs:{title:"针对录入的客户，自动打上选中的客户标签"}},[i("a-icon",{attrs:{type:"question-circle"}})],1)],1),t.detailVisible?t._e():[t.isShowTag?i("corpChooseTag",{attrs:{callback:t.modalVisibleChange4,hasChoose:t.tag_arr}}):t._e(),t.isShowTag?t._e():[t._l(t.tagData,(function(e){return i("a-tag",{attrs:{color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.tname)+"\n\t\t\t\t\t\t\t")])})),0==t.tagData.length?i("span",[t._v("暂无")]):t._e()]],t.detailVisible?[t._l(t.tagData,(function(e){return i("a-tag",{attrs:{color:"#1890FF"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.tname)+"\n\t\t\t\t\t\t")])})),0==t.tagData.length?i("span",[t._v("暂无")]):t._e()]:t._e()],2)],1)],2),i("a-modal",{attrs:{title:"客户查重",footer:!1,width:"800px"},on:{cancel:t.recheckingCancel},model:{value:t.recheckingVisible,callback:function(e){t.recheckingVisible=e},expression:"recheckingVisible"}},[i("a-input-search",{attrs:{placeholder:"请输入客户姓名、手机号、公司名称","enter-button":"搜索",allowClear:""},on:{search:t.changeRecheckingSearch},model:{value:t.recheckingName,callback:function(e){t.recheckingName=e},expression:"recheckingName"}}),i("div",{staticStyle:{height:"300px",margin:"15px 0"}},[i("a-spin",{attrs:{tip:"Loading...",size:"large",spinning:t.recheckingLoading}},[i("div",{staticClass:"spin-content"},[i("a-table",{staticClass:"repeat-table",attrs:{columns:t.columns4,dataSource:t.recheckingList,pagination:!1,rowClassName:t.rowClassName},scopedSlots:t._u([{key:"user_name",fn:function(e,a,i){return[t._v("\n\t\t\t\t\t\t\t\t当前被"+t._s(a.user_name)+"认领\n\t\t\t\t\t\t\t")]}}])}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total4>0,expression:"total4 > 0"},{name:"has",rawName:"v-has",value:"highSeasCustomerList-list",expression:"'highSeasCustomerList-list'"}],staticClass:"pagination",staticStyle:{margin:"20px 0px",float:"right"}},[i("span",{staticStyle:{height:"32px","line-height":"32px",display:"inline-block","vertical-align":"top","margin-right":"10px"}},[t._v("\n\t\t\t\t\t\t\t\t\t共\n\t\t\t\t\t\t\t\t\t"),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.total4))]),t._v("\n\t\t\t\t\t\t\t\t\t条\n\t\t\t\t\t\t\t\t")]),i("span",{staticClass:"pagination",staticStyle:{height:"32px",display:"inline-block"}},[i("a-pagination",{attrs:{total:t.total4,showSizeChanger:"",showQuickJumper:t.quickJumper4,current:t.page4,pageSize:t.pageSize4,pageSizeOptions:["15","30","50","100"]},on:{change:t.changePage4,showSizeChange:t.showSizeChange4}})],1)])],1)])],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-left":"22px"}},[a("span",{staticStyle:{color:"red"}},[t._v("至于原员工是否愿意共享，客户是否愿意加上认领的员工，认领的员工是否通过共享而加上该客户，均为线下行为，本系统只提供符合共享的客户数据。")]),t._v("在期间会存在以下可能：\n\t\t\t\t\t")])}],n=(a("6762"),a("2fdb"),a("7f7f"),a("7618")),r=(a("28a5"),a("96cf"),a("3b8d")),o=a("95204"),l=a("0f2e"),c=a("c1df"),d=a.n(c),h=a("0cfc"),p=[{title:"客户信息",dataIndex:"customerInfo",key:"customerInfo",scopedSlots:{customRender:"customerInfo"}},{title:"原归属成员",dataIndex:"member",key:"member"},{title:"来源",dataIndex:"add_other_info",key:"add_other_info",scopedSlots:{customRender:"add_other_info"}},{title:"进入回收时间",dataIndex:"reclaim_time",key:"reclaim_time"},{title:"回收条件",dataIndex:"reclaim_rule",key:"reclaim_rule",scopedSlots:{customRender:"reclaim_rule"}},{title:"备注",dataIndex:"claimTip",key:"claimTip",scopedSlots:{customRender:"claimTip"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],u=[{title:"客户信息",dataIndex:"info",key:"info",scopedSlots:{customRender:"info"}},{title:"来源",dataIndex:"field_option_name",key:"field_option_name"},{title:"录入时间",dataIndex:"add_time",key:"add_time"},{title:"标签",dataIndex:"tagData",key:"tagData",scopedSlots:{customRender:"tagData"}},{title:"上次认领成员",dataIndex:"claimName",key:"claimName",scopedSlots:{customRender:"claimName"}},{title:"最后一次回收时间",dataIndex:"reclaim_time",key:"reclaim_time"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],m=[{title:"客户信息",dataIndex:"customerInfo",key:"customerInfo",scopedSlots:{customRender:"customerInfo"}},{title:"原归属成员",dataIndex:"old_user_name",key:"old_user_name",scopedSlots:{customRender:"old_user_name"}},{title:"认领时间",dataIndex:"add_time",key:"add_time"},{title:"回收条件",dataIndex:"reclaim_rule",key:"reclaim_rule"},{title:"共享员工",dataIndex:"user_name",key:"user_name",scopedSlots:{customRender:"user_name"}},{title:"添加状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],g=[{title:"客户姓名",dataIndex:"name",key:"name",width:"200px"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"公司名称",dataIndex:"company_name",key:"company_name"},{title:"当前认领人",dataIndex:"user_name",key:"user_name",scopedSlots:{customRender:"user_name"}}],f={name:"highSeasCustomerList",components:{chooseStaffSelect:o["a"],corpChooseTag:h["a"]},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{moment:d.a,corpId:t,tabKey:1,tabKey2:1,isMasterAccount:localStorage.getItem("isMasterAccount"),isLoading:!1,ExcelName:"",batchList:[],id:"",customName:"",wayList:[],add_way:[],way_id:[],codeList:[],claimTime:null,total:0,quickJumper:!1,page:1,pageSize:15,showModal:!1,modalLoading:!1,fileInfo:{},file_name:"",showModalDepartment:!1,columns:p,isLoading3:!1,claimUserList:[],customName3:"",claimTime3:null,columns3:m,total3:0,quickJumper3:!1,page3:1,pageSize3:15,isLoading2:!1,customList:[],user_id:0,selectList:[],phone:"",addStatus:0,joinTime:null,columns2:u,total2:0,quickJumper2:!1,page2:1,pageSize2:15,detailVisible:!1,detailTitle:"",progressVisible:!1,progressNum:0,leftSiderWidth:document.getElementsByClassName("menu-sider")[0].style.width,successNum:0,failNum:0,notImportNum:0,recordVisible:!1,recordLoading:!1,recordName:"",recordWx:"",recordQQ:"",recordPhone:"",recordCompany:"",recordEmail:"",recordSex:1,recordRemark:"",recordStatus:[],recordStatus2:"",cityData:l["a"],recordArea:[],recordArea2:"",recheckingVisible:!1,recheckingLoading:!1,recheckingList:[],recheckingName:"",columns4:g,total4:0,quickJumper4:!1,page4:1,pageSize4:15,isShowTag:!1,tag_arr:[],tag_arr2:[],tagData:[],assignRecord:"",assignType:1,userId:[],userName:[],batchTypeValue:!1,checkArr:[],selectedRowKeys:[]}},methods:{rowClassName:function(t,e){var a="dark-row";return e%2===0&&(a="light-row"),a},changeTab:function(t){this.tabKey=t,this.checkArr=[],this.selectedRowKeys=[],this.batchTypeValue=!1,this.assignRecord="",this.assignType=1,this.userId=[],this.userName=[],1==this.tabKey?(this.tabKey2=1,this.ExcelName="",this.pageSize=15,this.clear(),this.getAddWay()):2==this.tabKey&&(this.phone="",this.addStatus=0,this.joinTime=null,this.pageSize2=15,this.getCustomList())},changeTab2:function(t){this.tabKey2=t,1==this.tabKey2?(this.ExcelName="",this.pageSize=15,this.clear(),this.getAddWay()):2==this.tabKey2&&(this.checkArr=[],this.selectedRowKeys=[],this.batchTypeValue=!1,this.assignRecord="",this.assignType=1,this.userId=[],this.userName=[],this.pageSize3=15,this.clear3())},customerRechecking:function(){this.recheckingVisible=!0},changeRecheckingSearch:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var i,s,n,r,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]?o[2]:1,s=o.length>3&&void 0!==o[3]?o[3]:this.pageSize4,this.recheckingLoading=!0,t.next=5,this.axios.post("public-sea-customer/check-repeat",{uid:localStorage.getItem("uid"),name:this.recheckingName,corp_id:this.corpId,page:i,pageSize:s});case 5:n=t.sent,r=n.data,0!=r.error?(this.recheckingLoading=!1,this.$message.error(r.error_msg)):(this.recheckingLoading=!1,this.recheckingList=r.data.info,this.total4=parseInt(r.data.count),this.page4=i,this.pageSize4=s,this.quickJumper4=this.total4>this.pageSize4);case 8:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),changePage4:function(t,e){this.changeRecheckingSearch("","",t,e)},showSizeChange4:function(t,e){this.changeRecheckingSearch("","",1,e)},recheckingCancel:function(){this.recheckingLoading=!1,this.recheckingList=[],this.recheckingVisible=!1,this.recheckingName="",this.total4=0,this.quickJumper4=!1,this.page4=1,this.pageSize4=15},modalVisibleChange4:function(t,e){"ok"==t&&(this.tag_arr=e.split(","))},modalVisibleChange5:function(t,e){"ok"==t&&(this.tag_arr2=e.split(","))},recordCustomer:function(){this.detailTitle="录入客户",this.recordCancel(),this.detailVisible=!1,this.recordVisible=!0,this.isShowTag=!0},recordCancel:function(){this.recordVisible=!1,this.recordName="",this.recordWx="",this.recordQQ="",this.recordPhone="",this.recordCompany="",this.recordEmail="",this.recordSex=1,this.recordRemark="",this.recordStatus=[],this.recordStatus2="",this.recordArea=[],this.id="",this.tag_arr=[],this.tagData=[],this.isShowTag=!1},recordOk:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,r,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=/^[a-zA-Z][a-zA-Z0-9_-]{5,19}$/,a=/^[1-9][0-9]{4,9}$/,i=/^[1][3,4,5,6,7,8,9][0-9]{9}$/,s=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,""!=this.recordName){t.next=7;break}return this.$message.error("请填写姓名"),t.abrupt("return",!1);case 7:if(""!=this.recordWx||""!=this.recordQQ||""!=this.recordPhone){t.next=10;break}return this.$message.error("微信号/QQ号/手机号至少填写一个"),t.abrupt("return",!1);case 10:if(""==this.recordWx){t.next=14;break}if(e.test(this.recordWx)){t.next=14;break}return this.$message.error("请输入正确的微信号"),t.abrupt("return",!1);case 14:if(""==this.recordQQ){t.next=18;break}if(a.test(this.recordQQ)){t.next=18;break}return this.$message.error("请输入正确的QQ号"),t.abrupt("return",!1);case 18:if(""==this.recordPhone){t.next=22;break}if(i.test(this.recordPhone)){t.next=22;break}return this.$message.error("请输入正确的手机号"),t.abrupt("return",!1);case 22:if(""==this.recordEmail){t.next=26;break}if(s.test(this.recordEmail)){t.next=26;break}return this.$message.error("请输入正确的Email"),t.abrupt("return",!1);case 26:if("object"!=Object(n["a"])(this.recordStatus)||0!=this.recordStatus.length){t.next=29;break}return this.$message.error("请选择客户来源"),t.abrupt("return",!1);case 29:return this.recordLoading=!0,r="",1==this.recordSex?r="男":2==this.recordSex?r="女":3==this.recordSex&&(r="未知"),o="",this.recordArea[0]&&(o=this.recordArea[0],this.recordArea[1]&&(o=o+"-"+this.recordArea[1])),t.next=36,this.axios.post("public-sea-customer/set-no-customer",{isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),uid:localStorage.getItem("uid"),corp_id:this.corpId,name:this.recordName,wx_num:this.recordWx,phone:this.recordPhone,company:this.recordCompany,qq:this.recordQQ,email:this.recordEmail,sex:r,area:o,remark:this.recordRemark,field_option_id:this.recordStatus,id:this.id,tag_ids:this.tag_arr});case 36:l=t.sent,c=l.data,0!=c.error?(this.recordLoading=!1,this.$message.error(c.error_msg)):(this.recordLoading=!1,this.recordCancel(),this.getCustomList());case 39:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),claim:function(t,e,a){var i=this,s="";this.assignType=t,"object"==Object(n["a"])(a)?(i.assignRecord=a,1==i.tabKey?s="你确定要认领【"+a.customerInfo.name+"】吗？":2==i.tabKey&&(s="你确定要认领【"+a.name+"】吗？",1==a.again_claim&&(s="你确定要重新认领【"+a.name+"】吗？"))):"undefined"==typeof a&&(s="你确定要认领"+this.selectedRowKeys.length+"位客户吗？"),i.$confirm({title:s,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){i.assign(e)}})},claim2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=1,1==this.tabKey?a=1:2==this.tabKey&&(a=0),t.next=4,this.axios.post("public-sea-customer/claim",{uid:localStorage.getItem("uid"),corp_id:this.corpId,type:a,user_id:this.user_id,sea_id:e});case 4:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.$message.success("认领成功"),1==this.tabKey?this.getList():2==this.tabKey&&this.getCustomList());case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleShowDetail:function(t){var e={id:t};this.$router.push({path:"/highSeasCustomer/detail",query:e})},detailList:function(t){this.detailVisible=!0,this.detail(t)},detail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("public-sea-customer/no-customer-detail",{sea_id:e,corp_id:this.corpId});case 2:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):(this.detailVisible?(this.recordStatus2=i.data.field_option_name,this.detailTitle="客户详情"):(this.recordStatus=i.data.field_option_id,this.detailTitle="客户编辑"),this.recordName=i.data.name,this.recordWx=i.data.wx_num,this.recordQQ=i.data.qq,this.recordPhone=i.data.phone,this.recordCompany=i.data.company,this.recordEmail=i.data.email,"男"==i.data.gender?this.recordSex=1:"女"==i.data.gender?this.recordSex=2:"未知"==i.data.gender&&(this.recordSex=3),""!=i.data.area?(this.recordArea=i.data.area.split("-"),this.recordArea2=i.data.area):(this.recordArea=[],this.recordArea2=""),this.recordRemark=i.data.remark,this.tagData=i.data.tagData,this.recordVisible=!0);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),edit:function(t){this.detailVisible=!1,this.isShowTag=!1,this.id=t,this.detail(t)},importExcel:function(){this.file_name="",this.fileInfo={},this.tag_arr2=[],this.isShowTag=!0,this.showModal=!0},beforeUpload:function(t){var e=".xls"===t.name.substr(t.name.lastIndexOf(".")).toLowerCase(),a=".xlsx"===t.name.substr(t.name.lastIndexOf(".")).toLowerCase(),i=t.size/1024/1024<5;if(e||a){if(i)return this.fileInfo=t,this.file_name=t.name,!1;this.$message.warning("上传模板大小不能超过 5MB!")}else this.$message.warning("上传模板只能是 xls、xlsx格式!")},closeExcel:function(){this.fileInfo={},this.file_name=""},showDepartmentList:function(t,e){this.showModalDepartment=!0,this.assignRecord=t,this.assignType=e},showDepartmentList2:function(t){this.showModalDepartment=!0,this.assignType=t},selectStaffCallback:function(t,e){var a=this;"ok"==t&&(this.userId=e,this.$nextTick((function(){a.userName=a.$refs.user.$el.innerText})))},chooseStaffCancel:function(){this.userId="",this.userName="",this.assignRecord="",this.showModalDepartment&&(this.$refs.user.userId=[],this.showModalDepartment=!1)},chooseStaffHandel:function(t){if(0==t&&0==this.userId.length)return this.$message.error("请先选择成员"),!1;var e=this,a="";""!=e.assignRecord?0==this.assignType?a="一旦确定将【"+e.assignRecord.name+"】转交给【"+this.userName+"】，则进入该成员的客户列表。确定分配吗？":1==this.assignType&&(a="一旦确定将【"+e.assignRecord.customerInfo.name+"】转交给【"+this.userName+"】，则进入该成员的客户列表。确定分配吗？"):a="一旦将"+this.selectedRowKeys.length+"位客户转交给【"+this.userName+"】，则进入该成员的客户列表。确定分配吗？",e.showModalDepartment=!1,e.$confirm({title:a,okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){e.assign(t)},onCancel:function(){e.showModalDepartment=!0}})},assign:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",a=""!=this.assignRecord?this.assignRecord.id:this.selectedRowKeys,i=[],0==e?i=this.userId:1==e&&(i=this.user_id),t.next=6,this.axios.post("public-sea-customer/customer-assign",{uid:localStorage.getItem("uid"),corp_id:this.corpId,user_id:i,type:this.assignType,sea_id:a,is_claim:e});case 6:s=t.sent,n=s.data,0!=n.error?(r=this,r.$error({title:n.error_msg,onOk:function(){r.userId="",r.userName="",r.assignRecord=""}})):(this.$success({title:n.data.textHtml}),this.selectedRowKeys=[],this.chooseStaffCancel(),0==this.assignType?0==e?(this.phone="",this.addStatus=0,this.joinTime=null,this.getCustomList(this.page2,this.pageSize2)):1==e&&(this.batchTypeValue=!1,this.selectedRowKeys=[],this.getCustomList(this.page2,this.pageSize2)):1==this.assignType&&1==this.tabKey2&&(0==e?(this.customName="",this.add_way=-1,this.way_id=[],this.claimTime=null,this.getList(this.page,this.pageSize)):1==e&&(this.batchTypeValue=!1,this.selectedRowKeys=[],this.getList(this.page,this.pageSize))));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleOk:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.modalLoading=!0,"{}"!=JSON.stringify(this.fileInfo)){t.next=5;break}return this.$message.error("请选择上传Excel"),this.modalLoading=!1,t.abrupt("return",!1);case 5:return this.$message.info("已进入后台导入中，请耐心等待..."),this.progressNum=0,this.successNum=0,this.failNum=0,this.notImportNum=0,this.showModal=!1,this.progressVisible=!0,this.leftSiderWidth=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width})),e=new FormData,e.append("uid",localStorage.getItem("uid")),e.append("isMasterAccount",localStorage.getItem("isMasterAccount")),e.append("sub_id",localStorage.getItem("sub_id")),e.append("corp_id",this.corpId),e.append("importFile",this.fileInfo),e.append("tag_ids",this.tag_arr2),2==localStorage.getItem("isMasterAccount")&&e.append("sub_id",localStorage.getItem("sub_id")),t.next=24,this.axios.post("public-sea-customer/import-no-customer",e);case 24:a=t.sent,i=a.data,0!=i.error&&(this.modalLoading=!1,this.progressVisible=!1,this.$message.error(i.error_msg));case 27:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleCancel:function(){this.fileInfo={},this.file_name="",this.tag_arr2=[],this.isShowTag=!1,this.modalLoading=!1,this.showModal=!1},getAddWay:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-external-contact-follow-user/add-way-list");case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.wayList=a.data,this.add_way=-1);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleChangeAddWay:function(){this.way_id=[],"way"!=this.add_way&&"chatWay"!=this.add_way&&"award"!=this.add_way&&"fission"!=this.add_way&&"redPack"!=this.add_way||this.handleChangeCode()},handleChangeCode:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e||0==e||(e=""),t.next=3,this.axios.post("work-external-contact-follow-user/get-way-by-name",{type:this.add_way,corp_id:this.corpId,title:e});case 3:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):this.codeList=i.data;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r=this,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:1,a=o.length>1&&void 0!==o[1]?o[1]:this.pageSize,this.isLoading=!0,i="number"==typeof this.add_way||"string"==typeof this.add_way?this.add_way:-1,t.next=6,this.axios.post("public-sea-customer/customer",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),corp_id:this.corpId,name:this.customName,add_way:i,way_id:this.way_id,s_date:this.claimTime&&this.claimTime.length>1?this.claimTime[0].format("YYYY-MM-DD HH:mm"):"",e_date:this.claimTime&&this.claimTime.length>1?this.claimTime[1].format("YYYY-MM-DD HH:mm"):"",page:e,pageSize:a});case 6:s=t.sent,n=s.data,0!=n.error?(this.isLoading=!1,this.$message.error(n.error_msg)):(this.batchList=n.data.customerData,this.user_id=n.data.userId,this.isLoading=!1,this.total=parseInt(n.data.count),this.page=e,this.pageSize=a,this.quickJumper=this.total>this.pageSize,this.checkArr=[],this.batchList.map((function(t){r.checkArr.push(t.key)})),this.batchTypeValue=!1,this.selectedRowKeys.length>0&&(this.batchTypeValue=!0,this.checkArr.map((function(t){-1==r.selectedRowKeys.indexOf(t)&&(r.batchTypeValue=!1)}))));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage:function(t,e){this.getList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,90)}))},showSizeChange:function(t,e){this.getList(1,e)},find:function(){this.getList()},clear:function(){this.customName="",this.add_way=-1,this.way_id=[],this.claimTime=null,this.getList()},deleteList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-import-customer/import-customer-delete",{import_id:e});case 2:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):this.getList(this.page,this.pageSize);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getClaimUserList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:this.pageSize3,this.isLoading3=!0,t.next=5,this.axios.post("public-sea-customer/claim-user",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),corp_id:this.corpId,name:this.customName3,s_date:this.claimTime3&&this.claimTime3.length>1?this.claimTime3[0].format("YYYY-MM-DD HH:mm"):"",e_date:this.claimTime3&&this.claimTime3.length>1?this.claimTime3[1].format("YYYY-MM-DD HH:mm"):"",page:e,pageSize:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading3=!1,this.$message.error(s.error_msg)):(this.claimUserList=s.data.customerData,this.isLoading3=!1,this.total3=parseInt(s.data.count),this.page3=e,this.pageSize3=a,this.quickJumper3=this.total3>this.pageSize3);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePage3:function(t,e){this.getClaimUserList(t,e),this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,90)}))},showSizeChange3:function(t,e){this.getClaimUserList(1,e)},changeTime3:function(t,e){this.claimTime3=t},find3:function(){this.getClaimUserList()},clear3:function(){this.customName3="",this.claimTime3=null,this.getClaimUserList()},notice:function(t){var e=this;e.$confirm({title:"确定提醒【"+t.old_user_name+"】共享【"+t.name+"】？",okText:"确定",okType:"primary",cancelText:"取消",onOk:function(){e.notice2(t.id)}})},notice2:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("public-sea-customer/claim-remind",{uid:localStorage.getItem("uid"),corp_id:this.corpId,claim_user_id:e});case 2:a=t.sent,i=a.data,0!=i.error?this.$message.error(i.error_msg):this.$message.success("提醒成功");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCustomList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n=this,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:this.pageSize2,this.isLoading2=!0,t.next=5,this.axios.post("public-sea-customer/no-customer",{uid:localStorage.getItem("uid"),isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),corp_id:this.corpId,name:this.phone,option_id:this.addStatus,s_date:this.joinTime&&this.joinTime.length>1?this.joinTime[0].format("YYYY-MM-DD HH:mm"):"",e_date:this.joinTime&&this.joinTime.length>1?this.joinTime[1].format("YYYY-MM-DD HH:mm"):"",page:e,pageSize:a});case 5:i=t.sent,s=i.data,0!=s.error?(this.isLoading2=!1,this.$message.error(s.error_msg)):(this.customList=s.data.customerData,this.user_id=s.data.userId,this.selectList=s.data.optionList,this.isLoading2=!1,this.total2=parseInt(s.data.count),this.page2=e,this.pageSize2=a,this.quickJumper2=this.total2>this.pageSize2,this.checkArr=[],this.customList.map((function(t){n.checkArr.push(t.key)})),this.batchTypeValue=!1,this.selectedRowKeys.length>0&&(this.batchTypeValue=!0,this.checkArr.map((function(t){-1==n.selectedRowKeys.indexOf(t)&&(n.batchTypeValue=!1)}))));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),disabledDate:function(t){return t&&t>d()().endOf("day")},changeTime:function(t,e){this.joinTime=t},phoneChange:function(t){var e=t.target.value,a=/^-?(0|[0-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(e)&&a.test(e)||""===e||"-"===e)&&(this.phone=e)},find2:function(){this.getCustomList()},clear2:function(){this.phone="",this.addStatus=0,this.joinTime=null,this.getCustomList()},changePage2:function(t,e){this.selectedRowKeys=[],this.batchTypeValue=!1,this.getCustomList(t,e),1==this.tabKey?document.getElementsByClassName("ant-drawer-wrapper-body")[0].scrollTo(0,0):this.$nextTick((function(){document.getElementsByClassName("scroll")[0].scrollTo(0,90)}))},showSizeChange2:function(t,e){this.selectedRowKeys=[],this.batchTypeValue=!1,this.getCustomList(1,e)},websocketOnMessage:function(t){"undefined"!=typeof t.type&&"import_nocustomer"==t.type&&(1==localStorage.getItem("isMasterAccount")&&""==t.sub_id||2==localStorage.getItem("isMasterAccount")&&t.sub_id==localStorage.getItem("sub_id"))&&(this.progressVisible=!0,this.leftSiderWidth=document.getElementsByClassName("menu-sider")[0].style.width,this.$nextTick((function(){document.getElementsByClassName("mask-dialog")[0].style.left=document.getElementsByClassName("menu-sider")[0].style.width})),this.showModal=!1,this.progressNum=parseInt(t.import_num/t.snum*100),this.successNum=t.successNum,this.failNum=t.failNum,this.notImportNum=t.notImportNum,""!=t.textHtml&&(0==t.error?(this.modalLoading=!1,this.showModal=!1,this.$message.success(t.textHtml),this.progressVisible=!1,this.tag_arr2=[],this.isShowTag=!1,this.getCustomList()):this.$message.error(t.textHtml)),100==this.progressNum&&(this.progressVisible=!1))},batchTypeChange:function(){this.batchTypeValue?this.selectedRowKeys=[]:this.selectedRowKeys=this.checkArr},onSelectChange:function(t){this.selectedRowKeys=t,this.batchTypeValue=this.checkArr.every((function(e){return t.includes(e)}))}},computed:{rowSelection:function(){var t=this.selectedRowKeys;return{selectedRowKeys:t,onChange:this.onSelectChange}}},created:function(){if(2==localStorage.getItem("isMasterAccount")){var t=localStorage.getItem("permissionButton").split(","),e=this;-1!=t.indexOf("customImportList-all-list")&&e.ws.setCallback(this.websocketOnMessage),e.$forceUpdate()}else this.ws.setCallback(this.websocketOnMessage)},beforeRouteEnter:function(t,e,a){"/highSeasCustomer/detail"!=e.path&&a((function(t){if(2==localStorage.getItem("isMasterAccount")){var e=localStorage.getItem("permissionButton").split(",");-1!=e.indexOf("customImportList-all-list")?(t.tabKey=1,t.tabKey2=1,t.ExcelName="",t.pageSize=15,t.clear(),t.getAddWay()):(t.tabKey=2,t.phone="",t.addStatus=0,t.joinTime=null,t.pageSize2=15,t.id="",t.getCustomList()),t.$forceUpdate()}else t.tabKey=1,t.tabKey2=1,t.ExcelName="",t.pageSize=15,t.clear(),t.getAddWay()})),a()}},_=f,b=(a("2d46"),a("2877")),v=Object(b["a"])(_,i,s,!1,null,"6b910dde",null);e["default"]=v.exports},"0cfc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabBox"},[a("a-empty",{directives:[{name:"show",rawName:"v-show",value:0==t.groupList.length&&1==t.isNotAdd,expression:"groupList.length == 0 && isNotAdd == 1"}]},[a("span",{attrs:{slot:"description"},slot:"description"},[t._v("\n\t\t\t尚未创建标签，无法选择标签\n\t\t")])]),t._l(t.groupList,(function(e,i){return[t.isMore||!t.isMore&&i<5?a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("span",{staticClass:"group-name",attrs:{slot:"label"},slot:"label"},[e.name&&""!=e.name?a("a-popover",{attrs:{trigger:"hover"}},[a("span",{staticStyle:{display:"inline-block","max-width":"500px","word-wrap":"break-word","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[t._v("\n\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t")]),t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]):t._e()],1),t._l(e.data,(function(s,n){return a("span",[e.disabled[n]?t._e():a("a-checkable-tag",{on:{change:function(e){return t.changeTags(s.id,i)}},model:{value:e.checked[n],callback:function(a){t.$set(e.checked,n,a)},expression:"item.checked[tagIndex]"}},[t._v("\n\t\t\t\t\t"+t._s(s.tagname)+"\n\t\t\t\t")]),e.disabled[n]&&1==t.isDisabled?a("a-button",{staticStyle:{margin:"5px","line-height":"26px","font-size":"12px",height:"auto !important",padding:"0 7px"},attrs:{disabled:e.disabled[n]&&1==t.isDisabled}},[t._v("\n\t\t\t\t\t"+t._s(s.tagname)+"\n\t\t\t\t")]):t._e()],1)})),1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-add",expression:"'client-tag-add'"}],staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:function(a){return t.createTag(e.id)}}},[t._v("\n\t\t\t\t新建标签\n\t\t\t")]):t._e()],2):t._e()]})),t.groupList.length>0&&1!=t.isNotAdd?a("a-button",{directives:[{name:"has",rawName:"v-has",value:"client-tag-group-add",expression:"'client-tag-group-add'"}],staticStyle:{"font-size":"13px",height:"26px","margin-right":"10px","margin-left":"16.7%",color:"#1890FF",border:"1px solid #1890FF"},attrs:{icon:"plus"},on:{click:t.addTagGroup}},[t._v("\n\t\t新建标签组\n\t")]):t._e(),t.groupList.length>5?a("div",{staticStyle:{"font-size":"13px",height:"26px",color:"#1890FF","text-align":"center",cursor:"pointer"},on:{click:t.showMore}},[t.isMore?t._e():[t._v("更多")],t.isMore?[t._v("收起")]:t._e(),a("a-icon",{attrs:{type:t.isMore?"arrow-up":"arrow-down"}})],2):t._e(),a("a-modal",{attrs:{title:"新建标签",zIndex:99999,confirmLoading:t.confirmLoading3,width:"550px"},on:{ok:function(e){return t.handleOk(t.inputValue)},cancel:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t选择分组\n\t\t\t")]),a("a-select",{staticStyle:{width:"250px"},attrs:{showSearch:"",optionFilterProp:"children",disabled:""},model:{value:t.group_id,callback:function(e){t.group_id=e},expression:"group_id"}},t._l(t.groupList,(function(e){return a("a-select-option",{attrs:{value:e.id}},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])})),1)],2),a("a-form-item",{attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[t._v("\n\t\t\t\t标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],2)],1),a("a-modal",{staticClass:"add-tag-group",attrs:{zIndex:99999,title:"新建标签组",visible:t.groupVisible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk2,cancel:t.handleCancel}},[a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("分组名称\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入分组名(不得超过15个字符)",maxLength:15},model:{value:t.teamName,callback:function(e){t.teamName=e},expression:"teamName"}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[a("span",[t._v(t._s(t.teamName.length))]),t._v("/15\n\t\t\t\t\t\t\t\t\t\t\t")])])],2),a("a-form-item",{staticClass:"current0",attrs:{"label-col":{span:4},"wrapper-col":{span:20}}},[a("template",{slot:"label"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("标签名称\n\t\t\t")]),a("p",{staticStyle:{margin:"0px","font-size":"13px",color:"#909399"}},[t._v("\n\t\t\t\t每个标签名称最多15个字。同时新建多个标签时，请用“空格”隔开\n\t\t\t")]),a("a-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}})],2)],1)],2)},s=[],n=(a("a481"),a("28a5"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),r=(a("c5f6"),{name:"chooseDepartment",props:{callback:{type:Function,default:null},hasChoose:{type:Array,default:function(){}},isDisabled:{type:Number,default:0},disabledTag:{type:Array,default:function(){}},isNotAdd:{type:Number,default:0},id:{type:String,default:""}},data:function(){return{corpId:"",groupList:[],tag_arr:[],tag_ids:"",group_id:[],checked:[],visible:!1,confirmLoading3:!1,inputValue:"",newTagList:[],isMore:!1,groupVisible:!1,confirmLoading:!1,teamName:"",inputValue2:"",newTagList2:[]}},watch:{hasChoose:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.tag_arr=t,this.tag_ids=t.join(),this.hasChoose.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),0==t.length&&this.groupList.map((function(t){t.checked=[]})),this.$forceUpdate())},deep:!0},id:{handler:function(t){""!=typeof t&&(this.corpId=t,this.getTags())},deep:!0},disabledTag:{handler:function(t){var e=this;"undefined"!=typeof t&&this.groupList.length&&(this.disabledTag.map((function(t){e.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),this.$forceUpdate())},deep:!0}},methods:{getTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag-group/tag-group",{corp_id:this.corpId||localStorage.getItem("corpId"),is_not_add:this.isNotAdd});case 2:e=t.sent,a=e.data,0!=a.error?this.$message.error(a.error_msg):(this.groupList=a.data,this.groupList.map((function(t){t.checked=[],t.disabled=[]})),"undefined"!=typeof this.disabledTag&&this.disabledTag.length>0&&this.disabledTag.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.disabled[i]=!0)}))}))})),"undefined"!=typeof this.hasChoose&&this.hasChoose.length>0&&(this.tag_arr=this.hasChoose,this.tag_ids=this.hasChoose.join(),this.hasChoose.map((function(t){i.groupList.map((function(e){e.data.map((function(a,i){t==a.id&&(e.checked[i]=!0)}))}))})),this.$forceUpdate()));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeTags:function(t,e){Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var a=String(t);if(this.tag_arr.includes(a))this.tag_arr.remove(a);else if(this.tag_arr.length+1>9999){this.$message.warning("不可选中，客户标签数量上限9999个");for(var i=0;i<this.groupList[e].data.length;i++)this.groupList[e].data[i].id==a&&(this.groupList[e].checked[i]=!1)}else this.tag_arr.push(a);this.$forceUpdate(),this.tag_ids=this.tag_arr.join(),null!==this.callback&&"function"===typeof this.callback&&this.callback("ok",this.tag_ids)},createTag:function(t){this.group_id=t;var e=0;if(this.groupList.map((function(t){e+=t.data.length})),e>=9999)return this.$message.warning("标签数量已超过上限9999个，无法创建"),!1;this.visible=!0},handleOk:function(t){var e=this;if(e.confirmLoading3=!0,""==t)return e.$message.warning("不能为空"),e.confirmLoading3=!1,!1;e.newTagList=[];for(var a=0;a<t.split(" ").length;a++){if(t.split(" ")[a].length>15)return e.$message.error("每个标签最多15个字"),e.confirmLoading3=!1,!1;t.split(" ")[a].length>0&&e.newTagList.push(t.split(" ")[a])}e.addTags(),e.inputValue="",e.newTagList=[],e.confirmLoading3=!1},addTags:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("work-tag/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,type:0,group_id:this.group_id,name:this.newTagList});case 2:e=t.sent,a=e.data,0!=a.error?(this.$message.error(a.error_msg),this.confirmLoading3=!1):(this.isLoading=!1,this.visible=!1,this.confirmLoading3=!1,this.getTags(),this.inputValue="",this.newTagList=[]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.visible=!1,this.inputValue=""},showMore:function(){this.isMore=!this.isMore},addTagGroup:function(){this.groupVisible=!0},handleCancel:function(){this.groupVisible=!1,this.teamName="",this.newTagList2=[],this.inputValue2=""},handleOk2:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(String.prototype.Trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},this.teamName=this.teamName.Trim(),this.teamName){t.next=5;break}return this.$message.error("请输入分组名"),t.abrupt("return",!1);case 5:if(""!=this.inputValue2){t.next=10;break}return this.$message.warning("标签名称不能为空"),t.abrupt("return",!1);case 10:this.newTagList2=[],e=JSON.parse(JSON.stringify(this.inputValue2)).split(" "),a=0;case 13:if(!(a<e.length)){t.next=24;break}if(!(e[a].length>15)){t.next=20;break}return this.$message.error("每个标签最多15个字"),this.inputValue2="",t.abrupt("return",!1);case 20:e[a].length>0&&this.newTagList2.push(e[a]);case 21:a++,t.next=13;break;case 24:return this.confirmLoading=!0,t.next=27,this.axios.post("work-tag-group/add",{corp_id:this.corpId||localStorage.getItem("corpId"),suite_id:1,name:this.teamName,type:0,isMasterAccount:localStorage.getItem("isMasterAccount"),sub_id:localStorage.getItem("sub_id"),tag_name:this.newTagList2});case 27:i=t.sent,s=i.data,0!=s.error?this.$message.error(s.error_msg):(this.teamName="",this.newTagList2=[],this.inputValue2="",this.groupVisible=!1,this.getTags()),this.confirmLoading=!1;case 31:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.corpId=this.id||localStorage.getItem("corpId"),this.getTags()}}),o=r,l=(a("d22e"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"1c74f8e2",null);e["a"]=c.exports},"19be":function(t,e){t.exports="data:image/gif;base64,R0lGODlhagAgAKIGAPb4/Ozx+MfW6pCt1kZ2u////wAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjM3MjIyN0VCRDUwMTFFNkJBMTVEOEEwNDNEQ0JCMTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjM3MjIyN0ZCRDUwMTFFNkJBMTVEOEEwNDNEQ0JCMTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzcyMjI3Q0JENTAxMUU2QkExNUQ4QTA0M0RDQkIxNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MzcyMjI3REJENTAxMUU2QkExNUQ4QTA0M0RDQkIxNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUeAAYALAAAAABqACAAAANQWLrc/jDKSau9OOvNu/9gKI5kaZ5oqq5s675wLM90bd94ru9870OAoDD4mw2HRdlRmIwtic3XExCVPquuKbal3Xq/4LB4TC6bz+i0es1mJQAAIfkEBR4ABgAsHQAOAAgACAAAAwgYutz+MMqYAAAh+QQFHgAGACwxAA4ACAAIAAADCCi63P4wypgAACH5BAUeAAYALEUADgAIAAgAAAMIOLrc/jDKmAAAIfkEBR4ABgAsWQAOAAgACAAAAwhIutz+MMqYAAAh+QQFHgAGACwJAA4AWAAIAAADGli63P4wykmrvTjrzbv/YCiOZGmeaKqubFskADs="},"2d46":function(t,e,a){"use strict";var i=a("680a"),s=a.n(i);s.a},"3b3b":function(t,e,a){t.exports=a.p+"assets/img/1.3a156600.png"},"4bef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAABAElEQVR42s3VIY7CUBAG4LkEliC4xKJ6BA6AognXQBLCAVBYNBK3pim7zP8XBAJHSLhAZVURi+jC2+681xD4R89nZiYjIhojQRlQicYiolFQ8600EqZNAKbSpB0lyqcCBeYccIA5ihDgtO3JLdseTr7Ap9wFRx+g2HTuge8PH+AsjuBiBzZO4MsOHJzAwQ7kTiD3mcLsoX3muQcaV9s1DtnENUfssssR1i+6hRcD3GPFBaeccoEV9z7AUodoP4yxrUMs/wd26EtN0MeuBuBYDOH4LyDPWhYga1WXugpMxBhMnIBGVqD6S34B9nqvTUwaAUnNpZue689/DnuwTDUSuQJ1pL7YQ6lKkQAAAABJRU5ErkJggg=="},"680a":function(t,e,a){var i=a("d8e1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("432ab32a",i,!0,{sourceMap:!1,shadowMode:!1})},95204:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-select",{staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children",filterOption:!1,placeholder:2==t.type?"请选择导购":"请选择企业成员",disabled:t.disabled},on:{focus:t.focusSelect,select:t.changeSelect,popupScroll:t.popScroll,search:t.searchName},scopedSlots:t._u([{key:"dropdownRender",fn:function(e){return a("div",{},[a("v-nodes",{attrs:{vnodes:e}}),a("a-spin",{staticStyle:{position:"absolute",bottom:"50%",left:"0",right:"0"},attrs:{tip:"Loading...",size:"large",spinning:t.isLoading}})],1)}}]),model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}},t._l(t.userList,(function(e,i){return a("a-select-option",{key:2==t.type?i:e.id},[t._v("\n\t\t\t"+t._s(e.name)),2==t.type&&e.group_name?a("span",[t._v("("+t._s(e.group_name)+")")]):t._e()])})),1)],1)},s=[],n=(a("96cf"),a("3b8d")),r=(a("c5f6"),{props:{callback:{type:Function,default:null},index:{type:Number,default:-1},index2:{type:Number,default:-1},disabled:{type:Boolean,default:!1},getFisrstStaff:{type:Boolean,default:!1},type:{type:Number,default:0},ignore_dialout:{type:Number,default:0}},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){var t=localStorage.getItem("corpId")?localStorage.getItem("corpId"):"";return{corpId:t,userList:[],userId:[],userName:"",page:1,count:0,isLoading:!1}},created:function(){var t=this;this.$nextTick((function(){t.getAllStaffList()}))},mounted:function(){},methods:{getAllStaffList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:1,this.isLoading=!0,2==this.type?(a={corp_id:this.corpId,guide_keyword:this.userName,operator:0,page:e,page_size:10},i="shop-customer-guide/list"):(a={corp_id:this.corpId,name:this.userName,user_id:this.userId,is_all:0,page:e,ignore_dialout:this.ignore_dialout},1==this.type&&(a.sub_id=localStorage.getItem("sub_id"),a.isMasterAccount=localStorage.getItem("isMasterAccount")),i="work-user/get-all-user"),t.next=5,this.axios.post(i,a);case 5:s=t.sent,n=s.data,0!=n.error?(this.isLoading=!1,this.$message.error(n.error_msg)):(this.isLoading=!1,this.count=n.data.count,this.getFisrstStaff&&(this.userId=n.data.info[0].id,null!==this.callback&&"function"===typeof this.callback&&(-1===this.index&&-1===this.index2?this.callback("ok",n.data.info[0].id):this.callback("ok",n.data.info[0].id,this.index,this.index2,n.data.info[0]))),1==e?2==this.type?this.userList=n.data.result:this.userList=n.data.info:2==this.type?this.userList=this.userList.concat(n.data.result):this.userList=this.userList.concat(n.data.info),this.page=e);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeSelect:function(t){null!==this.callback&&"function"===typeof this.callback&&(2==this.type?-1===this.index&&-1===this.index2?this.callback("ok",this.userList[t].id):this.callback("ok",this.userList[t].id,this.index,this.index2,this.userList[t]):-1===this.index&&-1===this.index2?this.callback("ok",t):this.callback("ok",t,this.index,this.index2))},focusSelect:function(){""!=this.userName&&(this.page=1,this.userList=[],this.userName="",this.getAllStaffList())},searchName:function(t){this.userName=t,this.getAllStaffList()},popScroll:function(t){var e=t.target;e.scrollTop+e.offsetHeight===e.scrollHeight&&this.userList.length<this.count&&(this.page++,this.getAllStaffList(this.page))}},watch:{userId:{handler:function(t){this.getAllStaffList()},deep:!0},getFisrstStaff:{handler:function(t){this.getAllStaffList()},deep:!0}}}),o=r,l=a("2877"),c=Object(l["a"])(o,i,s,!1,null,"2fbfc039",null);e["a"]=c.exports},b884:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-1c74f8e2] .ant-tree-checkbox{float:right}[data-v-1c74f8e2] .ant-tree-iconEle{display:none!important}[data-v-1c74f8e2] .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#fff!important}[data-v-1c74f8e2] .ant-list-item{border-bottom:0;padding:0}[data-v-1c74f8e2] .ant-list-item-meta-title{font-weight:400;line-height:32px}[data-v-1c74f8e2] .ant-tree li span.ant-tree-checkbox{margin:4px 20px 0 2px}.content-msg[data-v-1c74f8e2]{color:red;margin:0 20px 12px 0}.group-name[data-v-1c74f8e2]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 4px);display:inline-block;vertical-align:bottom}.tabBox[data-v-1c74f8e2]{background:#fff;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px;border:1px solid #d8d8d8}[data-v-1c74f8e2] .ant-tag-checkable{background-color:#fafafa;border-color:#d9d9d9;height:26px;line-height:25px}[data-v-1c74f8e2] .ant-tag-checkable-checked{background-color:#1890ff}[data-v-1c74f8e2] .ant-col-20{margin-left:20px;width:calc(83.33333% - 20px)}.add-tag-group[data-v-1c74f8e2] .ant-col-20{margin-left:0;width:83.33333333%}",""])},c7e9:function(t,e,a){t.exports=a.p+"assets/img/2.891f15ca.png"},c814:function(t,e,a){var i=a("b884");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("688da18d",i,!0,{sourceMap:!1,shadowMode:!1})},d1af:function(t,e,a){t.exports=a.p+"assets/img/3.ce033308.png"},d22e:function(t,e,a){"use strict";var i=a("c814"),s=a.n(i);s.a},d8e1:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"[data-v-6b910dde] .ant-card-bordered{border:0}.tpl-title[data-v-6b910dde]{float:left;font-size:16px;vertical-align:top}.content-bd[data-v-6b910dde]{background:#fff;min-height:120px;border:1px solid #e2e2e2;min-width:885px;margin:0 20px 60px}[data-v-6b910dde] .dark-row{background:#fafafa}[data-v-6b910dde] .light-row{background:#fff}[data-v-6b910dde] .ant-tabs-bar{padding:0 20px!important;background:none!important;margin:0!important}.content-msg[data-v-6b910dde]{border:1px solid #ffdda6;background:#fff2db;padding:10px;text-align:left;margin:0 0 20px}[data-v-6b910dde] .ant-table-placeholder{border-bottom:0}[data-v-6b910dde] .ant-tabs-top-content{padding-bottom:0}.tabBtn[data-v-6b910dde]{margin:0;margin-right:2px;padding:10px 16px;line-height:38px;background:#fafafa;border:1px solid #e8e8e8;border-bottom:0;border-radius:4px 4px 0 0;cursor:pointer}.activeBtn[data-v-6b910dde]{color:#1890ff;background:#fff}.select-option[data-v-6b910dde]{display:inline-block;margin-right:10px;margin-bottom:10px}[data-v-6b910dde] .ant-table-thead>tr>th:first-child .ant-table-header-column{display:none}.repeat-table[data-v-6b910dde] .ant-table-thead>tr>th:first-child .ant-table-header-column{display:block}",""])}}]);